(self.webpackChunkprod=self.webpackChunkprod||[]).push([[904],{47715:function(e,t,n){e.exports=function(){"use strict";var e=Function.prototype.toString,t=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,r=Object.getPrototypeOf,a=Object.prototype,l=a.hasOwnProperty,u=a.propertyIsEnumerable,p="function"==typeof c,d="function"==typeof WeakMap,f=function(n,o){if(!n.constructor)return t(null);var i=n.constructor,s=n.__proto__||r(n);if(i===o.Object)return s===o.Object.prototype?{}:t(s);if(~e.call(i).indexOf("[native code]"))try{return new i}catch(e){}return t(s)},h=function(e,t,n,o){var i=f(e,t);for(var s in o.set(e,i),e)l.call(e,s)&&(i[s]=n(e[s],o));if(p){var r=c(e),a=r.length;if(a)for(var d=0,h=void 0;d<a;d++)h=r[d],u.call(e,h)&&(i[h]=n(e[h],o))}return i},m=function(e,t,n,r){var a=f(e,t);r.set(e,a);var l=p?s(e).concat(c(e)):s(e),u=l.length;if(u)for(var d=0,h=void 0,m=void 0;d<u;d++)if("callee"!==(h=l[d])&&"caller"!==h)if(m=i(e,h)){m.get||m.set||(m.value=n(e[h],r));try{o(a,h,m)}catch(e){a[h]=m.value}}else a[h]=n(e[h],r);return a},g=Array.isArray,v="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void(console&&console.error&&console.error('Unable to locate global object, returning "this".'));function w(e,n){var o=!(!n||!n.isStrict),i=n&&n.realm||v,s=o?m:h,c=function(e,t){if(!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);var n,r,a,l=e.constructor;if(l===i.Object)return s(e,i,c,t);if(g(e)){if(o)return m(e,i,c,t);var u=e.length;n=new l,t.set(e,n);for(var p=0;p<u;p++)n[p]=c(e[p],t);return n}if(e instanceof i.Date)return new l(e.getTime());if(e instanceof i.RegExp)return(n=new l(e.source,e.flags||(r=e,a="",r.global&&(a+="g"),r.ignoreCase&&(a+="i"),r.multiline&&(a+="m"),r.unicode&&(a+="u"),r.sticky&&(a+="y"),a))).lastIndex=e.lastIndex,n;if(i.Map&&e instanceof i.Map)return n=new l,t.set(e,n),e.forEach((function(e,o){n.set(o,c(e,t))})),n;if(i.Set&&e instanceof i.Set)return n=new l,t.set(e,n),e.forEach((function(e){n.add(c(e,t))})),n;if(i.Blob&&e instanceof i.Blob)return e.slice(0,e.size,e.type);if(i.Buffer&&i.Buffer.isBuffer(e))return n=i.Buffer.allocUnsafe?i.Buffer.allocUnsafe(e.length):new l(e.length),t.set(e,n),e.copy(n),n;if(i.ArrayBuffer){if(i.ArrayBuffer.isView(e))return n=new l(e.buffer.slice(0)),t.set(e,n),n;if(e instanceof i.ArrayBuffer)return n=e.slice(0),t.set(e,n),n}return"function"==typeof e.then||e instanceof Error||i.WeakMap&&e instanceof i.WeakMap||i.WeakSet&&e instanceof i.WeakSet?e:s(e,i,c,t)};return c(e,function(){if(d)return new WeakMap;var e=t({has:function(t){return!!~e._keys.indexOf(t)},set:function(t,n){e._keys.push(t),e._values.push(n)},get:function(t){return e._values[e._keys.indexOf(t)]}});return e._keys=[],e._values=[],e}())}return w.default=w,w.strict=function(e,t){return w(e,{isStrict:!0,realm:t?t.realm:void 0})},w}()},97904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Channel:()=>Gn,ChannelView:()=>zn,ReferenceInput:()=>Xe,ThreadsView:()=>Qn,chunterIds:()=>I,default:()=>Yo});var o=n(9479),i=n(3130),s=n(9862),c=n(26148),r=n(35107),a=n(56892),l=n(98097),u=n(41350),p=n.n(u),d=n(4003),f=n(60468),h=n(58518),m=n(2519),g=n(72451),v=n(35407),w=n.n(v),$=Object.defineProperty,b=Object.defineProperties,y=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,C=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&C(e,n,t[n]);if(G)for(var n of G(t))j.call(t,n)&&C(e,n,t[n]);return e},_=(e,t)=>$(e,"name",{value:t,configurable:!0}),x=(e,t,n)=>new Promise(((o,i)=>{var s=e=>{try{r(n.next(e))}catch(e){i(e)}},c=e=>{try{r(n.throw(e))}catch(e){i(e)}},r=e=>e.done?o(e.value):Promise.resolve(e.value).then(s,c);r((n=n.apply(e,t)).next())})),I=(0,l.mergeIds)(a.default,{component:{CreateChannel:"",CreateMessage:"",ChannelView:"",ThreadsView:"",SpaceItem:"",SpaceHeader:"",OembedPreview:"",GithubIssuePreview:""}});function S(e){let t,n,o,s,r,a,l,u,p;function d(t){e[5](t)}_(d,"editbox_value_binding");let f={label:I.string.ChannelName};function h(t){e[6](t)}void 0!==e[0]&&(f.value=e[0]),t=new c.k3({props:f,$$inline:!0}),i.VnY.push((()=>(0,i.akz)(t,"value",d))),_(h,"textarea_value_binding");let m={label:I.string.ChannelDescription};function g(t){e[7](t)}void 0!==e[1]&&(m.value=e[1]),s=new c.Kx({props:m,$$inline:!0}),i.VnY.push((()=>(0,i.akz)(s,"value",h))),_(g,"togglewithlabel_on_binding");let v={label:I.string.MakePrivate,description:I.string.MakePrivateDescription};void 0!==e[2]&&(v.on=e[2]),l=new c.fL({props:v,$$inline:!0}),i.VnY.push((()=>(0,i.akz)(l,"on",g)));const w={c:_((function(){(0,i.YCL)(t.$$.fragment),o=(0,i.DhX)(),(0,i.YCL)(s.$$.fragment),a=(0,i.DhX)(),(0,i.YCL)(l.$$.fragment)}),"create"),m:_((function(e,n){(0,i.yef)(t,e,n),(0,i.DsI)(e,o,n),(0,i.yef)(s,e,n),(0,i.DsI)(e,a,n),(0,i.yef)(l,e,n),p=!0}),"mount"),p:_((function(e,o){const c={};!n&&1&o&&(n=!0,c.value=e[0],(0,i.hjT)((()=>n=!1))),t.$set(c);const a={};!r&&2&o&&(r=!0,a.value=e[1],(0,i.hjT)((()=>r=!1))),s.$set(a);const p={};!u&&4&o&&(u=!0,p.on=e[2],(0,i.hjT)((()=>u=!1))),l.$set(p)}),"update"),i:_((function(e){p||((0,i.Ui)(t.$$.fragment,e),(0,i.Ui)(s.$$.fragment,e),(0,i.Ui)(l.$$.fragment,e),p=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),(0,i.etI)(s.$$.fragment,e),(0,i.etI)(l.$$.fragment,e),p=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e),e&&(0,i.GlD)(o),(0,i.vpE)(s,e),e&&(0,i.GlD)(a),(0,i.vpE)(l,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:w,id:S.name,type:"slot",source:"(44:2) <Grid column={1}>",ctx:e}),w}function W(e){let t,n;t=new c.rj({props:{column:1,$$slots:{default:[S]},$$scope:{ctx:e}},$$inline:!0});const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,n){const o={};1031&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:W.name,type:"slot",source:"(36:0) <Dialog   label={chunter.string.CreateChannel}   okLabel={chunter.string.CreateChannel}   okAction={createChannel}   on:close={() => {     dispatch('close')   }} >",ctx:e}),o}function E(e){let t,n;t=new c.Vq({props:{label:I.string.CreateChannel,okLabel:I.string.CreateChannel,okAction:e[4],$$slots:{default:[W]},$$scope:{ctx:e}},$$inline:!0}),t.$on("close",e[8]);const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,[n]){const o={};1031&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:E.name,type:"component",source:"",ctx:e}),o}function O(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("CreateChannel",o,[]);const l=(0,s.createEventDispatcher)();let u="",d="",f=!1;const h=(0,r.getClient)();function m(){h.createDoc(I.class.Channel,p().space.Model,{name:u,description:d,private:f,direct:!1,members:[h.accountId()]})}_(m,"createChannel");const g=[];function v(e){u=e,n(0,u)}function w(e){d=e,n(1,d)}function $(e){f=e,n(2,f)}Object.keys(t).forEach((e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateChannel> was created with unknown prop '${e}'`)})),_(v,"editbox_value_binding"),_(w,"textarea_value_binding"),_($,"togglewithlabel_on_binding");const b=_((()=>{l("close")}),"close_handler");return e.$capture_state=()=>({createEventDispatcher:s.createEventDispatcher,EditBox:c.k3,TextArea:c.Kx,Dialog:c.Vq,ToggleWithLabel:c.fL,Grid:c.rj,getClient:r.getClient,chunter:I,core:p(),dispatch:l,name:u,description:d,isPrivate:f,client:h,createChannel:m}),e.$inject_state=e=>{"name"in e&&n(0,u=e.name),"description"in e&&n(1,d=e.description),"isPrivate"in e&&n(2,f=e.isPrivate)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u,d,f,l,m,v,w,$,b]}_(S,"create_default_slot_1"),_(W,"create_default_slot"),_(E,"create_fragment"),_(O,"instance");var D=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,O,E,i.N8,{}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateChannel",options:e,id:E.name})}};_(D,"CreateChannel");var z=D,B="src/components/icons/Attach.svelte";function R(e){let t,n;const o={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M4.82816 10.4853L10.485 4.82845C11.6566 3.65688 13.5561 3.65688 14.7277 4.82845C15.8992 6.00002 15.8992 7.89952 14.7277 9.07109L8.01014 15.7886C7.42436 16.3744 6.47461 16.3744 5.88882 15.7886C5.30304 15.2028 5.30304 14.2531 5.88882 13.6673L11.8992 7.65687C12.0945 7.46161 12.0945 7.14503 11.8992 6.94977C11.704 6.75451 11.3874 6.75451 11.1921 6.94977L5.18172 12.9602C4.20541 13.9365 4.20541 15.5194 5.18172 16.4957C6.15803 17.472 7.74094 17.472 8.71725 16.4957L15.4348 9.77819C16.9969 8.2161 16.9969 5.68344 15.4348 4.12134C13.8727 2.55924 11.34 2.55924 9.77791 4.12134L4.12106 9.77819C3.92579 9.97346 3.92579 10.29 4.12106 10.4853C4.31632 10.6806 4.6329 10.6806 4.82816 10.4853Z"),(0,i.vjr)(n,B,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",P),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,B,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:R.name,type:"component",source:"",ctx:e}),o}_(R,"create_fragment");var P="var(--theme-caption-color)";function Z(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Attach",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Attach> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:P}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(Z,"instance");var M=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Z,R,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Attach",options:e,id:R.name})}get size(){throw new Error("<Attach>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Attach>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(M,"Attach");var Y=M,U="src/components/icons/Emoji.svelte";function V(e){let t,n;const o={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3ZM7.15467 12.4273C8.66416 13.9463 11.0877 14.0045 12.6671 12.5961L12.8453 12.4273C13.04 12.2314 13.3566 12.2304 13.5524 12.4251C13.7265 12.5981 13.7467 12.8674 13.6123 13.0627L13.5547 13.1322L13.5323 13.1545C11.5691 15.1054 8.39616 15.0953 6.44533 13.1322C6.25069 12.9363 6.25169 12.6197 6.44757 12.4251C6.64344 12.2304 6.96002 12.2314 7.15467 12.4273ZM12.5 7.5C13.0523 7.5 13.5 7.94772 13.5 8.5C13.5 9.05228 13.0523 9.5 12.5 9.5C11.9477 9.5 11.5 9.05228 11.5 8.5C11.5 7.94772 11.9477 7.5 12.5 7.5ZM7.5 7.5C8.05228 7.5 8.5 7.94772 8.5 8.5C8.5 9.05228 8.05228 9.5 7.5 9.5C6.94772 9.5 6.5 9.05228 6.5 8.5C6.5 7.94772 6.94772 7.5 7.5 7.5Z"),(0,i.vjr)(n,U,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",A),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,U,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:V.name,type:"component",source:"",ctx:e}),o}_(V,"create_fragment");var A="var(--theme-caption-color)";function T(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Emoji",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Emoji> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:A}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(T,"instance");var N=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,T,V,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Emoji",options:e,id:V.name})}get size(){throw new Error("<Emoji>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Emoji>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(N,"Emoji");var H=N,X="src/components/icons/GIF.svelte";function K(e){let t,n;const o={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M15.4 3C16.7864 3 17.9194 4.1869 17.9959 5.68238L18 5.84375V14.1562C18 15.6727 16.9148 16.9118 15.5475 16.9955L15.4 17H4.6C3.21357 17 2.0806 15.8131 2.00412 14.3176L2 14.1562V5.84375C2 4.32735 3.08516 3.08816 4.45246 3.0045L4.6 3H15.4ZM15.25 4H4.75C3.82377 4 3.06561 4.793 3.00404 5.79653L3 5.92857V14.0714C3 15.0922 3.71957 15.9277 4.63018 15.9956L4.75 16H15.25C16.1762 16 16.9344 15.207 16.996 14.2035L17 14.0714V5.92857C17 4.90783 16.2804 4.0723 15.3698 4.00445L15.25 4ZM6.85135 7.00214C7.4713 7.00214 7.99907 7.0988 8.43229 7.30058C8.69893 7.42477 8.80624 7.72539 8.67198 7.97203C8.53772 8.21867 8.21272 8.31793 7.94609 8.19374C7.6779 8.06883 7.31378 8.00214 6.85135 8.00214C5.82473 8.00214 5.08108 8.8345 5.08108 10.0011C5.08108 11.1209 5.89403 12 6.85135 12C7.44761 12 7.85273 11.6487 7.91152 11.3268L7.91892 11.2472V10.5011L7.54054 10.5C7.24201 10.5 7 10.2761 7 10C7 9.75454 7.19122 9.55039 7.44338 9.50806L7.54054 9.5L8.45946 9.50107C8.72482 9.50107 8.94552 9.67794 8.99129 9.91119L9 10.0011V11.2472C9 12.1244 8.11351 13 6.85135 13C5.25622 13 4 11.6415 4 10.0011C4 8.31985 5.17727 7.00214 6.85135 7.00214ZM11 7C11.2455 7 11.4496 7.17688 11.4919 7.41012L11.5 7.5V12.5C11.5 12.7761 11.2761 13 11 13C10.7545 13 10.5504 12.8231 10.5081 12.5899L10.5 12.5V7.5C10.5 7.22386 10.7239 7 11 7ZM15.5 7C15.7761 7 16 7.22386 16 7.5C16 7.74546 15.8231 7.94961 15.5899 7.99194L15.5 8H14V10H15.5C15.7761 10 16 10.2239 16 10.5C16 10.7455 15.8231 10.9496 15.5899 10.9919L15.5 11H14V12.5C14 12.7761 13.7761 13 13.5 13C13.2545 13 13.0504 12.8231 13.0081 12.5899L13 12.5V7.5C13 7.22386 13.2239 7 13.5 7H15.5Z"),(0,i.vjr)(n,X,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",F),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,X,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:K.name,type:"component",source:"",ctx:e}),o}_(K,"create_fragment");var F="var(--theme-caption-color)";function q(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("GIF",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<GIF> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:F}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(q,"instance");var Q=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,q,K,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"GIF",options:e,id:K.name})}get size(){throw new Error("<GIF>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<GIF>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(Q,"GIF");var J=Q,ee="src/components/icons/Send.svelte";function te(e){let t,n;const o={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M2.72113 2.05149L18.0756 9.61746C18.3233 9.73952 18.4252 10.0393 18.3031 10.287C18.2544 10.3858 18.1744 10.4658 18.0756 10.5145L2.72144 18.0803C2.47374 18.2023 2.17399 18.1005 2.05193 17.8528C1.99856 17.7445 1.98619 17.6205 2.0171 17.5038L3.9858 10.0701L2.01676 2.62789C1.94612 2.36093 2.10528 2.08726 2.37224 2.01663C2.48893 1.98576 2.61285 1.99814 2.72113 2.05149ZM3.26445 3.43403L4.87357 9.51612L4.93555 9.50412L5 9.5H12C12.2761 9.5 12.5 9.72386 12.5 10C12.5 10.2455 12.3231 10.4496 12.0899 10.4919L12 10.5H5C4.9686 10.5 4.93787 10.4971 4.90807 10.4916L3.26508 16.6976L16.7234 10.066L3.26445 3.43403Z"),(0,i.vjr)(n,ee,5,2,196),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",e[1]),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,ee,4,0,99)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0]),2&n&&(0,i.LGW)(t,"fill",e[1])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:te.name,type:"component",source:"",ctx:e}),o}function ne(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Send",o,[]);let{size:c=20}=t,{fill:r="var(--theme-caption-color)"}=t;const a=["size","fill"];return Object.keys(t).forEach((e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Send> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size),"fill"in e&&n(1,r=e.fill)},e.$capture_state=()=>({size:c,fill:r}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size),"fill"in e&&n(1,r=e.fill)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c,r]}_(te,"create_fragment"),_(ne,"instance");var oe=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,ne,te,i.N8,{size:0,fill:1}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Send",options:e,id:te.name})}get size(){throw new Error("<Send>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Send>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get fill(){throw new Error("<Send>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set fill(e){throw new Error("<Send>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(oe,"Send");var ie=oe,se="src/components/icons/TextStyle.svelte";function ce(e){let t,n;const o={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M14.0872 6.70308C14.9271 5.85998 16.2664 5.81735 17.1568 6.57701L17.2869 6.69697L17.4134 6.83357C18.1376 7.68212 18.1376 8.93671 17.4134 9.78526L17.293 9.91574L10.4167 16.8183C10.2617 16.9739 10.0749 17.0931 9.86988 17.1682L9.71291 17.2161L6.62737 17.9764C6.28827 18.0599 5.98023 17.7813 6.00917 17.4498L6.0236 17.366L6.81558 14.2953C6.86895 14.0883 6.96574 13.8958 7.09885 13.7302L7.20537 13.6112L14.0872 6.70308ZM16.5811 7.40543C16.1201 6.94613 15.393 6.91684 14.898 7.31661L14.7957 7.40884L7.91383 14.317C7.87193 14.359 7.83804 14.408 7.8135 14.4616L7.7839 14.545L7.20061 16.805L9.47368 16.2452C9.51317 16.2354 9.55114 16.221 9.58682 16.2022L9.6385 16.1709L9.70829 16.1126L16.5845 9.20999C17.0806 8.71206 17.0806 7.90677 16.5811 7.40543ZM6.42419 2.22879L6.46607 2.31323L9.448 9.94224L8.676 10.7172L8.004 8.99824H4.007L2.96614 11.678C2.87719 11.9068 2.63835 12.0329 2.40561 11.9879L2.31893 11.9628C2.09015 11.8738 1.96399 11.635 2.00906 11.4023L2.03413 11.3156L5.53436 2.31403C5.6877 1.9197 6.21661 1.89109 6.42419 2.22879ZM6.00061 3.871L4.396 7.99824H7.614L6.00061 3.871Z"),(0,i.vjr)(n,se,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",re),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,se,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:ce.name,type:"component",source:"",ctx:e}),o}_(ce,"create_fragment");var re="var(--theme-caption-color)";function ae(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("TextStyle",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TextStyle> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:re}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(ae,"instance");var le=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,ae,ce,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TextStyle",options:e,id:ce.name})}get size(){throw new Error("<TextStyle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<TextStyle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(le,"TextStyle");var ue=le,pe="src/components/icons/Bold.svelte";function de(e){let t,n,o;const s={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M17.7,6c-0.2-1.1-0.6-1.9-1.2-2.4c-0.6-0.6-1.4-1-2.4-1.2C13,2.1,11.8,2,10,2C8.2,2,7,2.1,6,2.3C4.9,2.6,4.1,2.9,3.5,3.5 C2.9,4.1,2.6,4.9,2.3,6C2.1,7,2,8.2,2,10c0,1.8,0.1,3,0.3,4c0.2,1.1,0.6,1.9,1.2,2.4c0.6,0.6,1.4,1,2.4,1.2c1,0.2,2.3,0.3,4,0.3 c1.8,0,3-0.1,4-0.3c1.1-0.2,1.9-0.6,2.4-1.2c0.6-0.6,1-1.4,1.2-2.4c0.2-1,0.3-2.3,0.3-4C18,8.2,17.9,7,17.7,6z M16.7,13.8 c-0.2,0.9-0.5,1.5-0.9,2c-0.4,0.4-1.1,0.7-2,0.9C12.9,16.9,11.7,17,10,17s-2.9-0.1-3.8-0.3c-0.9-0.2-1.5-0.5-2-0.9 c-0.4-0.4-0.7-1.1-0.9-2C3.1,12.9,3,11.7,3,10s0.1-2.9,0.3-3.8c0.2-0.9,0.5-1.5,0.9-2c0.4-0.4,1.1-0.7,2-0.9C7.1,3.1,8.3,3,10,3 s2.9,0.1,3.8,0.3c0.9,0.2,1.5,0.5,2,0.9c0.4,0.4,0.7,1.1,0.9,2C16.9,7.1,17,8.3,17,10S16.9,12.9,16.7,13.8z"),(0,i.vjr)(n,pe,5,2,191),(0,i.LGW)(o,"d","M11.2,6.2H8.7c-0.9,0-1.2,0.2-1.2,1.2v5.3c0,1,0.3,1.2,1.2,1.2h2.5c0.5,0,1-0.2,1.3-0.6c0.4-0.4,0.6-1,0.6-1.6 c0-0.7-0.3-1.3-0.7-1.7c0.4-0.4,0.7-0.9,0.7-1.7C13.2,7,12.2,6.2,11.2,6.2z M11.8,12.6c-0.2,0.2-0.4,0.3-0.6,0.3H8.7 c-0.1,0-0.1,0-0.2,0c0-0.1,0-0.1,0-0.2v-2.2h2.7c0.4,0,0.9,0.4,0.9,1.2C12.2,12,12.1,12.3,11.8,12.6z M11.2,9.5H8.5V7.3 c0-0.1,0-0.1,0-0.2c0.1,0,0.1,0,0.2,0h2.5c0.5,0,0.9,0.4,0.9,1.2S11.7,9.5,11.2,9.5z"),(0,i.vjr)(o,pe,8,2,910),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",fe),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,pe,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(t,o)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:de.name,type:"component",source:"",ctx:e}),s}_(de,"create_fragment");var fe="var(--theme-caption-color)";function he(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Bold",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Bold> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:fe}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(he,"instance");var me=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,he,de,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Bold",options:e,id:de.name})}get size(){throw new Error("<Bold>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Bold>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(me,"Bold");var ge=me,ve="src/components/icons/Italic.svelte";function we(e){let t,n,o;const s={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M17.7,6c-0.2-1.1-0.6-1.9-1.2-2.4c-0.6-0.6-1.4-1-2.4-1.2C13,2.1,11.8,2,10,2C8.2,2,7,2.1,6,2.3C4.9,2.6,4.1,2.9,3.5,3.5 C2.9,4.1,2.6,4.9,2.3,6C2.1,7,2,8.2,2,10c0,1.8,0.1,3,0.3,4c0.2,1.1,0.6,1.9,1.2,2.4c0.6,0.6,1.4,1,2.4,1.2c1,0.2,2.3,0.3,4,0.3 c1.8,0,3-0.1,4-0.3c1.1-0.2,1.9-0.6,2.4-1.2c0.6-0.6,1-1.4,1.2-2.4c0.2-1,0.3-2.3,0.3-4C18,8.2,17.9,7,17.7,6z M16.7,13.8 c-0.2,0.9-0.5,1.5-0.9,2c-0.4,0.4-1.1,0.7-2,0.9C12.9,16.9,11.7,17,10,17s-2.9-0.1-3.8-0.3c-0.9-0.2-1.5-0.5-2-0.9 c-0.4-0.4-0.7-1.1-0.9-2C3.1,12.9,3,11.7,3,10s0.1-2.9,0.3-3.8c0.2-0.9,0.5-1.5,0.9-2c0.4-0.4,1.1-0.7,2-0.9C7.1,3.1,8.3,3,10,3 s2.9,0.1,3.8,0.3c0.9,0.2,1.5,0.5,2,0.9c0.4,0.4,0.7,1.1,0.9,2C16.9,7.1,17,8.3,17,10S16.9,12.9,16.7,13.8z"),(0,i.vjr)(n,ve,5,2,191),(0,i.LGW)(o,"d","M12,7.2c0.3,0,0.5-0.2,0.5-0.5S12.3,6.2,12,6.2h-1.7c0,0,0,0,0,0H8c-0.3,0-0.5,0.2-0.5,0.5S7.7,7.2,8,7.2h1.8l-0.6,5.7H8 c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h4c0.3,0,0.5-0.2,0.5-0.5s-0.2-0.5-0.5-0.5h-1.8l0.6-5.7H12z"),(0,i.vjr)(o,ve,8,2,910),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",$e),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,ve,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(t,o)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:we.name,type:"component",source:"",ctx:e}),s}_(we,"create_fragment");var $e="var(--theme-caption-color)";function be(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Italic",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Italic> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:$e}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(be,"instance");var ye=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,be,we,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Italic",options:e,id:we.name})}get size(){throw new Error("<Italic>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Italic>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(ye,"Italic");var Ge=ye,Le="src/components/icons/Brackets.svelte";function je(e){let t,n,o;const s={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M5.3,4.2c0.3,0,0.5-0.2,0.5-0.5S5.6,3.2,5.3,3.2H3.4c-0.3,0-0.5,0.2-0.5,0.5v12.5c0,0.3,0.2,0.5,0.5,0.5h1.9 c0.3,0,0.5-0.2,0.5-0.5s-0.2-0.5-0.5-0.5H3.9V4.2H5.3z"),(0,i.vjr)(n,Le,5,2,191),(0,i.LGW)(o,"d","M16.6,3.2h-1.9c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h1.4v11.5h-1.4c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h1.9 c0.3,0,0.5-0.2,0.5-0.5V3.8C17.1,3.5,16.8,3.2,16.6,3.2z"),(0,i.vjr)(o,Le,8,2,370),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",Ce),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,Le,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(t,o)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:je.name,type:"component",source:"",ctx:e}),s}_(je,"create_fragment");var Ce="var(--theme-caption-color)";function ke(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Brackets",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Brackets> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:Ce}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(ke,"instance");var _e=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,ke,je,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Brackets",options:e,id:je.name})}get size(){throw new Error("<Brackets>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Brackets>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(_e,"Brackets");var xe=_e,Ie="src/components/icons/Mention.svelte";function Se(e){let t,n;const o={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M18,10c0-1.7-0.5-3.3-1.5-4.7c-1-1.4-2.3-2.4-3.9-2.9C11,1.9,9.3,1.9,7.7,2.3c-1.6,0.5-3,1.5-4,2.8C2.6,6.5,2.1,8.1,2,9.7 c-0.1,1.7,0.4,3.3,1.3,4.7c0.9,1.4,2.3,2.5,3.8,3C8.1,17.8,9,18,10,18c0.7,0,1.4-0.1,2.1-0.3c0.3-0.1,0.4-0.3,0.4-0.6 c-0.1-0.3-0.3-0.4-0.6-0.4c-1.4,0.4-2.9,0.3-4.3-0.2C6.2,16,5,15.1,4.2,13.9C3.4,12.7,3,11.2,3,9.8c0-1.5,0.5-2.9,1.4-4 c0.9-1.2,2.1-2,3.5-2.4c1.4-0.4,2.9-0.4,4.3,0.1c1.4,0.5,2.6,1.4,3.4,2.6C16.5,7.1,17,8.5,17,10c0,0,0,0,0,0v1.2 c0,0.9-0.7,1.6-1.6,1.6s-1.6-0.7-1.6-1.6V10c0,0,0,0,0,0s0,0,0,0V7.5c0-0.3-0.2-0.5-0.5-0.5c-0.3,0-0.5,0.2-0.5,0.4 c-0.7-0.8-1.7-1.3-2.8-1.3c-2.1,0-3.8,1.7-3.8,3.8c0,2.1,1.7,3.8,3.8,3.8c1.3,0,2.4-0.6,3.1-1.5c0.4,0.9,1.3,1.5,2.4,1.5 c1.4,0,2.6-1.2,2.6-2.6L18,10C18,10,18,10,18,10z M10,12.8c-1.6,0-2.8-1.3-2.8-2.8c0-1.6,1.3-2.8,2.8-2.8c1.6,0,2.8,1.3,2.8,2.8V10 C12.8,11.6,11.6,12.8,10,12.8z"),(0,i.vjr)(n,Ie,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",We),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,Ie,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Se.name,type:"component",source:"",ctx:e}),o}_(Se,"create_fragment");var We="var(--theme-caption-color)";function Ee(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Mention",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Mention> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:We}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(Ee,"instance");var Oe=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Ee,Se,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Mention",options:e,id:Se.name})}get size(){throw new Error("<Mention>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Mention>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(Oe,"Mention");var De=Oe,ze="src/components/ReferenceInput.svelte";function Be(e){let t,n,o={ontop:!0,items:e[6],pos:{left:e[3].cursor.left+15,top:e[3].cursor.top-e[3].inputHeight,right:e[3].cursor.right+15,bottom:e[3].cursor.bottom-e[3].inputHeight}};t=new c.KO({props:o,$$inline:!0}),e[17](t),t.$on("blur",e[18]),t.$on("select",e[19]);const s={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,n){const o={};64&n&&(o.items=e[6]),8&n&&(o.pos={left:e[3].cursor.left+15,top:e[3].cursor.top-e[3].inputHeight,right:e[3].cursor.right+15,bottom:e[3].cursor.bottom-e[3].inputHeight}),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(n){e[17](null),(0,i.vpE)(t,n)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Be.name,type:"if",source:"(220:8) {#if popupVisible && completions.length > 0}",ctx:e}),s}function Re(e){let t,n,o=e[8]&&e[6].length>0&&Be(e);const s={c:_((function(){o&&o.c(),t=(0,i.cSb)()}),"create"),m:_((function(e,s){o&&o.m(e,s),(0,i.DsI)(e,t,s),n=!0}),"mount"),p:_((function(e,n){e[8]&&e[6].length>0?o?(o.p(e,n),320&n&&(0,i.Ui)(o,1)):(o=Be(e),o.c(),(0,i.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,i.dvw)(),(0,i.etI)(o,1,1,(()=>{o=null})),(0,i.gbL)())}),"update"),i:_((function(e){n||((0,i.Ui)(o),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(o),n=!1}),"outro"),d:_((function(e){o&&o.d(e),e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Re.name,type:"slot",source:"(205:6) <MessageEditor         bind:this={htmlEditor}         bind:content={editorContent}         {triggers}         transformInjections={transformFunction}         on:content={(event) => {           editorContent = event.detail         }}         on:styleEvent={(e) => updateStyle(e.detail)}       >",ctx:e}),s}function Pe(e){let t,n;t=new c.__({props:{label:I.string.NewMessagePlaceholder},$$inline:!0});const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:i.ZTd,i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Pe.name,type:"if",source:"(216:10) {#if isEmpty}",ctx:e}),o}function Ze(e){let t,n,o=e[29]&&Pe(e);const s={c:_((function(){t=(0,i.bGB)("div"),o&&o.c(),(0,i.LGW)(t,"class","label svelte-1rsma5b"),(0,i.LGW)(t,"slot","hoverMessage"),(0,i.vjr)(t,ze,214,8,6851)}),"create"),m:_((function(e,s){(0,i.DsI)(e,t,s),o&&o.m(t,null),n=!0}),"mount"),p:_((function(e,n){e[29]?o?(o.p(e,n),536870912&n&&(0,i.Ui)(o,1)):(o=Pe(e),o.c(),(0,i.Ui)(o,1),o.m(t,null)):o&&((0,i.dvw)(),(0,i.etI)(o,1,1,(()=>{o=null})),(0,i.gbL)())}),"update"),i:_((function(e){n||((0,i.Ui)(o),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(o),n=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),o&&o.d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Ze.name,type:"slot",source:"(215:8) ",ctx:e}),s}function Me(e){let t,n,o,s,c,r;o=new ie({$$inline:!0});const a={c:_((function(){t=(0,i.bGB)("button"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),(0,i.LGW)(n,"class","icon svelte-1rsma5b"),(0,i.vjr)(n,ze,237,65,7743),(0,i.LGW)(t,"class","sendButton svelte-1rsma5b"),(0,i.vjr)(t,ze,237,6,7684)}),"create"),m:_((function(a,l){(0,i.DsI)(a,t,l),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),s=!0,c||(r=(0,i.iVk)(t,"click",e[24],!1,!1,!1),c=!0)}),"mount"),p:i.ZTd,i:_((function(e){s||((0,i.Ui)(o.$$.fragment,e),s=!0)}),"intro"),o:_((function(e){(0,i.etI)(o.$$.fragment,e),s=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o),c=!1,r()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:a,id:Me.name,type:"if",source:"(237:4) {#if submitEnabled}",ctx:e}),a}function Ye(e){let t,n,o,s,c,r,a,l,u,p,d,h,m,g,v,w,$,b,y,G,L,j,C,k,x,I,S,W,E,O,D,z,B,R,P;function Z(t){e[21](t)}_(Z,"messageeditor_content_binding");let M={triggers:e[9],transformInjections:e[14],$$slots:{hoverMessage:[Ze,({empty:e})=>({29:e}),({empty:e})=>e?536870912:0],default:[Re]},$$scope:{ctx:e}};void 0!==e[4]&&(M.content=e[4]),s=new f.d5({props:M,$$inline:!0}),e[20](s),i.VnY.push((()=>(0,i.akz)(s,"content",Z))),s.$on("content",e[22]),s.$on("styleEvent",e[23]);let U=e[1]&&Me(e);d=new Y({$$inline:!0}),g=new ue({$$inline:!0}),$=new ge({$$inline:!0}),G=new Ge({$$inline:!0}),C=new xe({$$inline:!0}),I=new De({$$inline:!0}),E=new H({$$inline:!0}),z=new J({$$inline:!0});const V={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o=(0,i.bGB)("div"),(0,i.YCL)(s.$$.fragment),r=(0,i.DhX)(),U&&U.c(),l=(0,i.DhX)(),u=(0,i.bGB)("div"),p=(0,i.bGB)("div"),(0,i.YCL)(d.$$.fragment),h=(0,i.DhX)(),m=(0,i.bGB)("div"),(0,i.YCL)(g.$$.fragment),v=(0,i.DhX)(),w=(0,i.bGB)("div"),(0,i.YCL)($.$$.fragment),b=(0,i.DhX)(),y=(0,i.bGB)("div"),(0,i.YCL)(G.$$.fragment),L=(0,i.DhX)(),j=(0,i.bGB)("div"),(0,i.YCL)(C.$$.fragment),k=(0,i.DhX)(),x=(0,i.bGB)("div"),(0,i.YCL)(I.$$.fragment),S=(0,i.DhX)(),W=(0,i.bGB)("div"),(0,i.YCL)(E.$$.fragment),O=(0,i.DhX)(),D=(0,i.bGB)("div"),(0,i.YCL)(z.$$.fragment),(0,i.LGW)(o,"class","inputMsg svelte-1rsma5b"),(0,i.VHj)(o,"edit-box-vertical",e[0]),(0,i.VHj)(o,"edit-box-horizontal",!e[0]),(0,i.vjr)(o,ze,198,4,6385),(0,i.LGW)(n,"class","flex-between textInput svelte-1rsma5b"),(0,i.LGW)(n,"style",a=`height: ${e[2]+1}em;`),(0,i.vjr)(n,ze,197,2,6310),(0,i.LGW)(p,"class","tool svelte-1rsma5b"),(0,i.vjr)(p,ze,241,4,7832),(0,i.LGW)(m,"class","tool svelte-1rsma5b"),(0,i.vjr)(m,ze,242,4,7871),(0,i.LGW)(w,"class","tool svelte-1rsma5b"),(0,i.vjr)(w,ze,243,4,7913),(0,i.LGW)(y,"class","tool svelte-1rsma5b"),(0,i.vjr)(y,ze,244,4,7950),(0,i.LGW)(j,"class","tool svelte-1rsma5b"),(0,i.vjr)(j,ze,245,4,7989),(0,i.LGW)(x,"class","tool svelte-1rsma5b"),(0,i.vjr)(x,ze,246,4,8030),(0,i.LGW)(W,"class","tool svelte-1rsma5b"),(0,i.vjr)(W,ze,247,4,8070),(0,i.LGW)(D,"class","tool svelte-1rsma5b"),(0,i.vjr)(D,ze,248,4,8108),(0,i.LGW)(u,"class","buttons svelte-1rsma5b"),(0,i.vjr)(u,ze,240,2,7806),(0,i.LGW)(t,"class","ref-container svelte-1rsma5b"),(0,i.vjr)(t,ze,196,0,6280)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(c,a){(0,i.DsI)(c,t,a),(0,i.gOb)(t,n),(0,i.gOb)(n,o),(0,i.yef)(s,o,null),(0,i.gOb)(n,r),U&&U.m(n,null),(0,i.gOb)(t,l),(0,i.gOb)(t,u),(0,i.gOb)(u,p),(0,i.yef)(d,p,null),(0,i.gOb)(u,h),(0,i.gOb)(u,m),(0,i.yef)(g,m,null),(0,i.gOb)(u,v),(0,i.gOb)(u,w),(0,i.yef)($,w,null),(0,i.gOb)(u,b),(0,i.gOb)(u,y),(0,i.yef)(G,y,null),(0,i.gOb)(u,L),(0,i.gOb)(u,j),(0,i.yef)(C,j,null),(0,i.gOb)(u,k),(0,i.gOb)(u,x),(0,i.yef)(I,x,null),(0,i.gOb)(u,S),(0,i.gOb)(u,W),(0,i.yef)(E,W,null),(0,i.gOb)(u,O),(0,i.gOb)(u,D),(0,i.yef)(z,D,null),B=!0,R||(P=(0,i.iVk)(o,"keydown",e[12],!1,!1,!1),R=!0)}),"mount"),p:_((function(e,[t]){const r={};1610613192&t&&(r.$$scope={dirty:t,ctx:e}),!c&&16&t&&(c=!0,r.content=e[4],(0,i.hjT)((()=>c=!1))),s.$set(r),1&t&&(0,i.VHj)(o,"edit-box-vertical",e[0]),1&t&&(0,i.VHj)(o,"edit-box-horizontal",!e[0]),e[1]?U?(U.p(e,t),2&t&&(0,i.Ui)(U,1)):(U=Me(e),U.c(),(0,i.Ui)(U,1),U.m(n,null)):U&&((0,i.dvw)(),(0,i.etI)(U,1,1,(()=>{U=null})),(0,i.gbL)()),(!B||4&t&&a!==(a=`height: ${e[2]+1}em;`))&&(0,i.LGW)(n,"style",a)}),"update"),i:_((function(e){B||((0,i.Ui)(s.$$.fragment,e),(0,i.Ui)(U),(0,i.Ui)(d.$$.fragment,e),(0,i.Ui)(g.$$.fragment,e),(0,i.Ui)($.$$.fragment,e),(0,i.Ui)(G.$$.fragment,e),(0,i.Ui)(C.$$.fragment,e),(0,i.Ui)(I.$$.fragment,e),(0,i.Ui)(E.$$.fragment,e),(0,i.Ui)(z.$$.fragment,e),B=!0)}),"intro"),o:_((function(e){(0,i.etI)(s.$$.fragment,e),(0,i.etI)(U),(0,i.etI)(d.$$.fragment,e),(0,i.etI)(g.$$.fragment,e),(0,i.etI)($.$$.fragment,e),(0,i.etI)(G.$$.fragment,e),(0,i.etI)(C.$$.fragment,e),(0,i.etI)(I.$$.fragment,e),(0,i.etI)(E.$$.fragment,e),(0,i.etI)(z.$$.fragment,e),B=!1}),"outro"),d:_((function(n){n&&(0,i.GlD)(t),e[20](null),(0,i.vpE)(s),U&&U.d(),(0,i.vpE)(d),(0,i.vpE)(g),(0,i.vpE)($),(0,i.vpE)(G),(0,i.vpE)(C),(0,i.vpE)(I),(0,i.vpE)(E),(0,i.vpE)(z),R=!1,P()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:V,id:Ye.name,type:"component",source:"",ctx:e}),V}function Ue(e){return{title:{$like:e+"%"}}}function Ve(e){const t=[];for(const n of e){const e=n.title;t.push({key:`${n._id}${n.title}`,completion:n.objectId,label:e,title:`${e} - ${n.objectClass}`,class:n.objectClass,id:n.objectId})}return t}function Ae(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("ReferenceInput",o,[]);var l=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return _(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}_(c,"fulfilled"),_(r,"rejected"),_(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{stylesEnabled:u=!1}=t,{submitEnabled:m=!0}=t,{lines:g=1}=t;const v=(0,s.createEventDispatcher)();let w,$={isEmpty:!0,cursor:{left:0,top:0,bottom:0,right:0},bold:!1,italic:!1,completionWord:"",selection:{from:0,to:0},completionEnd:"",inputHeight:0},b=(0,h.newMessageDocument)();const y=["@","#","[["];let G,L,j="",C=[],k=!1;const x=(0,r.getClient)();function S(e){return l(this,void 0,void 0,(function*(){const t=yield x.findAll(p().class.Title,{title:e});for(const n of t)if(n.title===e)return[{id:n.objectId,class:n.objectClass}];return[]}))}function W(e){if(n(3,$=e),0===e.completionWord.length)return n(15,j=""),void n(8,k=!1);e.completionWord.startsWith("[[")?e.completionWord.endsWith("]")?(n(8,k=!1),n(15,j="")):(n(15,j=e.completionWord.substring(2)),j.length>0&&n(8,k=!0)):(n(15,j=""),n(8,k=!1)),v("update",b)}function E(e){let t=0;null!==$.completionEnd&&$.completionEnd.endsWith("]]")&&(t=$.completionEnd.length);const n=e;w.insertMark("[["+e.label+"]]",$.selection.from-$.completionWord.length,$.selection.to+t,f.fK.marks.reference,{id:n.id,class:n.class}),w.focus()}function O(e){if(k){if("ArrowUp"===e.key)return G.handleUp(),void e.preventDefault();if("ArrowDown"===e.key)return G.handleDown(),void e.preventDefault();if("Enter"===e.key)return G.handleSubmit(),void e.preventDefault();if("Escape"===e.key)return n(6,C=[]),void n(8,k=!1)}"Enter"!==e.key||e.shiftKey||(D(),e.preventDefault())}function D(){$.isEmpty||v("message",(0,h.serializeMessage)(b)),n(4,b=(0,h.newMessageDocument)())}_(S,"findTitle"),_(W,"updateStyle"),_(E,"handlePopupSelected"),_(O,"onKeyDown"),_(D,"handleSubmit");const z=(0,f.Y0)(S),B=["stylesEnabled","submitEnabled","lines"];function R(e){i.VnY[e?"unshift":"push"]((()=>{G=e,n(7,G)}))}Object.keys(t).forEach((e=>{~B.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ReferenceInput> was created with unknown prop '${e}'`)})),_(R,"completionpopup_binding");const P=_((()=>n(6,C=[])),"blur_handler"),Z=_((e=>E(e.detail)),"select_handler");function M(e){i.VnY[e?"unshift":"push"]((()=>{w=e,n(5,w)}))}function U(e){b=e,n(4,b)}_(M,"messageeditor_binding"),_(U,"messageeditor_content_binding");const V=_((e=>{n(4,b=e.detail)}),"content_handler"),A=_((e=>W(e.detail)),"styleEvent_handler"),T=_((()=>D()),"click_handler");return e.$$set=e=>{"stylesEnabled"in e&&n(0,u=e.stylesEnabled),"submitEnabled"in e&&n(1,m=e.submitEnabled),"lines"in e&&n(2,g=e.lines)},e.$capture_state=()=>({__awaiter:l,core:p(),QueryUpdater:d.QueryUpdater,createTextTransform:f.Y0,MessageEditor:f.d5,schema:f.fK,newMessageDocument:h.newMessageDocument,serializeMessage:h.serializeMessage,CompletionPopup:c.KO,Label:c.__,getClient:r.getClient,createEventDispatcher:s.createEventDispatcher,Attach:Y,Emoji:H,GIF:J,Send:ie,TextStyle:ue,Bold:ge,Italic:Ge,Brackets:xe,Mention:De,chunter:I,stylesEnabled:u,submitEnabled:m,lines:g,dispatch:v,styleState:$,editorContent:b,htmlEditor:w,triggers:y,currentPrefix:j,completions:C,completionControl:G,popupVisible:k,lq:L,client:x,query:Ue,updateTitles:Ve,findTitle:S,updateStyle:W,handlePopupSelected:E,onKeyDown:O,handleSubmit:D,transformFunction:z}),e.$inject_state=e=>{"__awaiter"in e&&(l=e.__awaiter),"stylesEnabled"in e&&n(0,u=e.stylesEnabled),"submitEnabled"in e&&n(1,m=e.submitEnabled),"lines"in e&&n(2,g=e.lines),"styleState"in e&&n(3,$=e.styleState),"editorContent"in e&&n(4,b=e.editorContent),"htmlEditor"in e&&n(5,w=e.htmlEditor),"currentPrefix"in e&&n(15,j=e.currentPrefix),"completions"in e&&n(6,C=e.completions),"completionControl"in e&&n(7,G=e.completionControl),"popupVisible"in e&&n(8,k=e.popupVisible),"lq"in e&&n(16,L=e.lq)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{98304&e.$$.dirty&&""!==j&&n(16,L=x.query(L,p().class.Title,Ue(j),(e=>{n(6,C=Ve(e))}),{limit:50}))},[u,m,g,$,b,w,C,G,k,y,W,E,O,D,z,j,L,R,P,Z,M,U,V,A,T]}_(Be,"create_if_block_2"),_(Re,"create_default_slot"),_(Pe,"create_if_block_1"),_(Ze,"create_hoverMessage_slot"),_(Me,"create_if_block"),_(Ye,"create_fragment"),_(Ue,"query"),_(Ve,"updateTitles"),_(Ae,"instance");var Te=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Ae,Ye,i.N8,{stylesEnabled:0,submitEnabled:1,lines:2}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ReferenceInput",options:e,id:Ye.name})}get stylesEnabled(){throw new Error("<ReferenceInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set stylesEnabled(e){throw new Error("<ReferenceInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitEnabled(){throw new Error("<ReferenceInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitEnabled(e){throw new Error("<ReferenceInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get lines(){throw new Error("<ReferenceInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lines(e){throw new Error("<ReferenceInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(Te,"ReferenceInput");var Ne,He,Xe=Te;function Ke(e){const t=[];return(0,h.traverseAllMarks)(e,((e,n)=>{n.type===h.MessageMarkType.link&&t.push(qe(n,e)),n.type===h.MessageMarkType.reference&&t.push(Fe(n,e))})),t}function Fe(e,t){var n,o;const i=e;return{kind:0,objectClass:i.attrs.class,objectId:null!=(n=i.attrs.id)?n:"",text:null!=(o=t.text)?o:""}}function qe(e,t){var n;const o=e;return{kind:1,href:o.attrs.href,title:o.attrs.title,text:null!=(n=t.text)?n:""}}(He=Ne||(Ne={}))[He.Document=0]="Document",He[He.External=1]="External",_(Ke,"findReferences"),_(Fe,"extractDocReference"),_(qe,"extractLink");var Qe="src/components/icons/Bookmark.svelte";function Je(e){let t,n;const o={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M16.2,18c-0.1,0-0.2,0-0.3-0.1l-6-4l-6,4c-0.2,0.1-0.4,0.1-0.5,0c-0.2-0.1-0.3-0.3-0.3-0.4V4.2 C3.2,3,4.3,2,5.5,2h8.9c1.3,0,2.3,1,2.3,2.2v13.3c0,0.2-0.1,0.4-0.3,0.4C16.4,18,16.3,18,16.2,18z M10,12.8c0.1,0,0.2,0,0.3,0.1 l5.5,3.6V4.2c0-0.6-0.6-1.2-1.3-1.2H5.5C4.8,3,4.2,3.5,4.2,4.2v12.4l5.5-3.6C9.8,12.9,9.9,12.8,10,12.8z"),(0,i.vjr)(n,Qe,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",et),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,Qe,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Je.name,type:"component",source:"",ctx:e}),o}_(Je,"create_fragment");var et="var(--theme-caption-color)";function tt(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Bookmark",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Bookmark> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:et}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(tt,"instance");var nt=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,tt,Je,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Bookmark",options:e,id:Je.name})}get size(){throw new Error("<Bookmark>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Bookmark>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(nt,"Bookmark");var ot=nt,it="src/components/icons/MoreH.svelte";function st(e){let t,n,o,s;const c={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),s=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M11.8,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S12.7,10.3,11.8,10.3z"),(0,i.vjr)(n,it,5,2,191),(0,i.LGW)(o,"d","M18,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S18.9,10.3,18,10.3z"),(0,i.vjr)(o,it,6,2,295),(0,i.LGW)(s,"d","M5.5,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S6.5,10.3,5.5,10.3z"),(0,i.vjr)(s,it,7,2,395),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",ct),(0,i.LGW)(t,"viewBox","0 0 24 24"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,it,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.gOb)(t,o),(0,i.gOb)(t,s)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:st.name,type:"component",source:"",ctx:e}),c}_(st,"create_fragment");var ct="var(--theme-caption-color)";function rt(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("MoreH",o,[]);let{size:c=24}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<MoreH> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:ct}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(rt,"instance");var at=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,rt,st,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"MoreH",options:e,id:st.name})}get size(){throw new Error("<MoreH>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<MoreH>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(at,"MoreH");var lt=at,ut="src/components/icons/Share.svelte";function pt(e){let t,n,o;const s={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M16.7,9.5c-0.3,0-0.5,0.2-0.5,0.5v6.2c0,0.6-0.5,1.1-1.2,1.1H5c-0.6,0-1.2-0.5-1.2-1.1V10 c0-0.3-0.2-0.5-0.5-0.5S2.8,9.7,2.8,10v6.2c0,1.1,1,2.1,2.2,2.1h10c1.2,0,2.2-0.9,2.2-2.1V10C17.2,9.7,17,9.5,16.7,9.5z"),(0,i.vjr)(n,ut,5,2,191),(0,i.LGW)(o,"d","M7.7,6.2l2.1-2v8.1c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5V4.2l2,2c0.1,0.1,0.2,0.1,0.4,0.1 c0.1,0,0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7l-2.9-2.9c0-0.1-0.1-0.1-0.2-0.1c0,0-0.1,0-0.1,0c0,0-0.1,0-0.1,0c0,0,0,0,0,0 c-0.1,0-0.3,0-0.4,0.1L7,5.5C6.8,5.7,6.8,6,7,6.2C7.2,6.4,7.5,6.4,7.7,6.2z"),(0,i.vjr)(o,ut,8,2,415),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",dt),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,ut,4,0,94)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(t,o)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:pt.name,type:"component",source:"",ctx:e}),s}_(pt,"create_fragment");var dt="var(--theme-caption-color)";function ft(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Share",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Share> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:dt}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(ft,"instance");var ht=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,ft,pt,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Share",options:e,id:pt.name})}get size(){throw new Error("<Share>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Share>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(ht,"Share");var mt=ht;function gt(e,t,n){return x(this,null,(function*(){return t.kind===Ne.Document?yield wt(e,t,n):t.kind===Ne.External?yield vt(0,t):void 0}))}function vt(e,t,n){return x(this,null,(function*(){if(""!==t.href)try{const e=new URL(t.href);let n;const o=new m.Router({patternText:"(www.)?youtube.(com|ru)",defaults:{},matcher:()=>{n={component:I.component.OembedPreview,props:{href:e,title:t.title,oembedHost:"http://www.youtube.com/oembed"}}}});o.addRoute("(www.)?github.com/:organization/:project/issues/:issueNumber",(e=>{var o,i;console.log(e),n={component:I.component.GithubIssuePreview,props:(o=k({},e),i={href:t.href},b(o,y(i)))}}),{});const i=(0,m.parseLocation)({pathname:e.host+e.pathname,search:e.search,hash:e.hash});return o.update(i),n}catch(e){}}))}function wt(e,t,n){return x(this,null,(function*(){return $t((yield e.findAll(p().class.DocumentPresenter,{objectClass:t.objectClass})).map((e=>Object.values(e.presentation))).reduce(bt).filter((e=>e.mode===n)).map((e=>e.component)).shift(),t)}))}function $t(e,t){return void 0!==e?{component:e,props:t}:void 0}function bt(e,t){return[...e,...t]}_(gt,"findPresentation"),_(vt,"findExternalPresentation"),_(wt,"findDocumentPresentation"),_($t,"makeResult"),_(bt,"combinePresentation");var yt="src/components/RefControl.svelte";function Gt(e){let t,n;t=new c.wA({props:{is:e[0].component,props:e[0].props},$$inline:!0});const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,n){const o={};1&n&&(o.is=e[0].component),1&n&&(o.props=e[0].props),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Gt.name,type:"if",source:"(32:4) {#if component}",ctx:e}),o}function Lt(e){let t,n,o,s,c,r=e[0]&&Gt(e);const a={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o=(0,i.DhX)(),s=(0,i.bGB)("div"),r&&r.c(),(0,i.LGW)(n,"class","line svelte-1ew96x9"),(0,i.vjr)(n,yt,29,2,1036),(0,i.LGW)(s,"class","content svelte-1ew96x9"),(0,i.vjr)(s,yt,30,2,1059),(0,i.LGW)(t,"class","container svelte-1ew96x9"),(0,i.vjr)(t,yt,28,0,1010)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,a){(0,i.DsI)(e,t,a),(0,i.gOb)(t,n),(0,i.gOb)(t,o),(0,i.gOb)(t,s),r&&r.m(s,null),c=!0}),"mount"),p:_((function(e,[t]){e[0]?r?(r.p(e,t),1&t&&(0,i.Ui)(r,1)):(r=Gt(e),r.c(),(0,i.Ui)(r,1),r.m(s,null)):r&&((0,i.dvw)(),(0,i.etI)(r,1,1,(()=>{r=null})),(0,i.gbL)())}),"update"),i:_((function(e){c||((0,i.Ui)(r),c=!0)}),"intro"),o:_((function(e){(0,i.etI)(r),c=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),r&&r.d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:a,id:Lt.name,type:"component",source:"",ctx:e}),a}function jt(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("RefControl",o,[]);let a,{reference:l}=t;const p=(0,r.getClient)(),d=["reference"];return Object.keys(t).forEach((e=>{~d.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<RefControl> was created with unknown prop '${e}'`)})),e.$$set=e=>{"reference"in e&&n(1,l=e.reference)},e.$capture_state=()=>({Component:c.wA,PresentationMode:u.PresentationMode,findPresentation:gt,getClient:r.getClient,reference:l,component:a,client:p}),e.$inject_state=e=>{"reference"in e&&n(1,l=e.reference),"component"in e&&n(0,a=e.component)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{2&e.$$.dirty&&gt(p,l,u.PresentationMode.Preview).then((e=>{n(0,a=e)}))},[a,l]}_(Gt,"create_if_block"),_(Lt,"create_fragment"),_(jt,"instance");var Ct=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,jt,Lt,i.N8,{reference:1}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"RefControl",options:e,id:Lt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"reference"in n||console.warn("<RefControl> was created without expected prop 'reference'")}get reference(){throw new Error("<RefControl>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set reference(e){throw new Error("<RefControl>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(Ct,"RefControl");var kt=Ct,_t="src/components/icons/Check.svelte";function xt(e){let t,n,o,s,c;const r={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),s=(0,i.bi5)("polygon"),(0,i.LGW)(n,"fill",o="#27B166"),(0,i.LGW)(n,"d","M10.1,1C5.2,0.9,1.1,4.9,1,9.8V10c0,5,4,9,9,9c4.9,0,9-4,9-8.9C19,5.1,15.1,1.1,10.1,1z"),(0,i.vjr)(n,_t,5,2,194),(0,i.LGW)(s,"fill",c="#FCFCFC"),(0,i.LGW)(s,"points","8.5,14.3 5.4,11.1 6.6,9.9 8.5,11.7 13.9,6.4 15.1,7.6 "),(0,i.vjr)(s,_t,6,2,311),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,_t,4,0,104)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n),(0,i.gOb)(t,s)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:r,id:xt.name,type:"component",source:"",ctx:e}),r}function It(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Check",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Check> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(xt,"create_fragment"),_(It,"instance");var St=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,It,xt,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Check",options:e,id:xt.name})}get size(){throw new Error("<Check>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Check>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(St,"Check");var Wt=St,Et="src/components/icons/Heart.svelte";function Ot(e){let t,n,o;const s={c:_((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"fill",o="#F96E50"),(0,i.LGW)(n,"d","M1,6.8c0-1.3,0.5-2.6,1.5-3.5c0.9-0.9,2.2-1.4,3.5-1.4c1.6,0,3,0.6,4.1,1.8c1-1.2,2.5-1.8,4.1-1.8 c1.3,0,2.6,0.5,3.5,1.4C18.5,4.2,19,5.5,19,6.8c0,4.8-5.8,8.5-9,11.3C6.7,15.2,1,11.6,1,6.8z"),(0,i.vjr)(n,Et,5,2,194),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,Et,4,0,104)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Ot.name,type:"component",source:"",ctx:e}),s}function Dt(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Heart",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Heart> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(Ot,"create_fragment"),_(Dt,"instance");var zt=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Dt,Ot,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Heart",options:e,id:Ot.name})}get size(){throw new Error("<Heart>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Heart>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(zt,"Heart");var Bt=zt,Rt="src/components/Reactions.svelte";function Pt(e,t,n){const o=e.slice();return o[1]=t[n],o}function Zt(e){let t,n,o,s,c,r,a,l,u=e[1].count+"";var p=e[1].icon;_((function(e){return{props:{size:20},$$inline:!0}}),"switch_props"),p&&(o=new p({props:{size:20},$$inline:!0}));const d={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o&&(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),c=(0,i.bGB)("div"),r=(0,i.fLW)(u),a=(0,i.DhX)(),(0,i.LGW)(n,"class","icon svelte-1u6udu3"),(0,i.vjr)(n,Rt,26,6,921),(0,i.LGW)(c,"class","counter svelte-1u6udu3"),(0,i.vjr)(c,Rt,27,6,1003),(0,i.LGW)(t,"class","reaction svelte-1u6udu3"),(0,i.vjr)(t,Rt,25,4,892)}),"create"),m:_((function(e,u){(0,i.DsI)(e,t,u),(0,i.gOb)(t,n),o&&(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,c),(0,i.gOb)(c,r),(0,i.gOb)(t,a),l=!0}),"mount"),p:_((function(e,t){if(p!==(p=e[1].icon)){if(o){(0,i.dvw)();const e=o;(0,i.etI)(e.$$.fragment,1,0,(()=>{(0,i.vpE)(e,1)})),(0,i.gbL)()}p?(o=new p({props:{size:20},$$inline:!0}),(0,i.YCL)(o.$$.fragment),(0,i.Ui)(o.$$.fragment,1),(0,i.yef)(o,n,null)):o=null}(!l||1&t)&&u!==(u=e[1].count+"")&&(0,i.Lob)(r,u)}),"update"),i:_((function(e){l||(o&&(0,i.Ui)(o.$$.fragment,e),l=!0)}),"intro"),o:_((function(e){o&&(0,i.etI)(o.$$.fragment,e),l=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),o&&(0,i.vpE)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:d,id:Zt.name,type:"each",source:"(25:2) {#each reactions as reaction}",ctx:e}),d}function Mt(e){let t,n,o=e[0];(0,i.vzG)(o);let s=[];for(let t=0;t<o.length;t+=1)s[t]=Zt(Pt(e,o,t));const c=_((e=>(0,i.etI)(s[e],1,1,(()=>{s[e]=null}))),"out"),r={c:_((function(){t=(0,i.bGB)("div");for(let e=0;e<s.length;e+=1)s[e].c();(0,i.LGW)(t,"class","reactions-container svelte-1u6udu3"),(0,i.vjr)(t,Rt,23,0,822)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0}),"mount"),p:_((function(e,[n]){if(1&n){let r;for(o=e[0],(0,i.vzG)(o),r=0;r<o.length;r+=1){const c=Pt(e,o,r);s[r]?(s[r].p(c,n),(0,i.Ui)(s[r],1)):(s[r]=Zt(c),s[r].c(),(0,i.Ui)(s[r],1),s[r].m(t,null))}for((0,i.dvw)(),r=o.length;r<s.length;r+=1)c(r);(0,i.gbL)()}}),"update"),i:_((function(e){if(!n){for(let e=0;e<o.length;e+=1)(0,i.Ui)(s[e]);n=!0}}),"intro"),o:_((function(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)(0,i.etI)(s[e]);n=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.RMB)(s,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:r,id:Mt.name,type:"component",source:"",ctx:e}),r}function Yt(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Reactions",o,[]);let{reactions:c=[{icon:Wt,count:3},{icon:Bt,count:10}]}=t;const r=["reactions"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Reactions> was created with unknown prop '${e}'`)})),e.$$set=e=>{"reactions"in e&&n(0,c=e.reactions)},e.$capture_state=()=>({Check:Wt,Heart:Bt,reactions:c}),e.$inject_state=e=>{"reactions"in e&&n(0,c=e.reactions)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}_(Pt,"get_each_context"),_(Zt,"create_each_block"),_(Mt,"create_fragment"),_(Yt,"instance");var Ut=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Yt,Mt,i.N8,{reactions:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Reactions",options:e,id:Mt.name})}get reactions(){throw new Error("<Reactions>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set reactions(e){throw new Error("<Reactions>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(Ut,"Reactions");var Vt=Ut,At="src/components/Replies.svelte";function Tt(e,t,n){const o=e.slice();return o[5]=t[n],o}function Nt(e){const t={c:i.ZTd,m:i.ZTd,p:i.ZTd,d:i.ZTd};return(0,i.YyZ)("SvelteRegisterBlock",{block:t,id:Nt.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function Ht(e){let t,n,o=e[4];(0,i.vzG)(o);let s=[];for(let t=0;t<o.length;t+=1)s[t]=Xt(Tt(e,o,t));let c=e[4].total>Qt&&Kt(e);const r={c:_((function(){for(let e=0;e<s.length;e+=1)s[e].c();t=(0,i.DhX)(),c&&c.c(),n=(0,i.cSb)()}),"create"),m:_((function(e,o){for(let t=0;t<s.length;t+=1)s[t].m(e,o);(0,i.DsI)(e,t,o),c&&c.m(e,o),(0,i.DsI)(e,n,o)}),"mount"),p:_((function(e,n){if(2&n){let c;for(o=e[4],(0,i.vzG)(o),c=0;c<o.length;c+=1){const i=Tt(e,o,c);s[c]?s[c].p(i,n):(s[c]=Xt(i),s[c].c(),s[c].m(t.parentNode,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}e[4].total>Qt&&c.p(e,n)}),"update"),d:_((function(e){(0,i.RMB)(s,e),e&&(0,i.GlD)(t),c&&c.d(e),e&&(0,i.GlD)(n)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:r,id:Ht.name,type:"then",source:"(42:34)        {#each users as reply}",ctx:e}),r}function Xt(e){let t,n,o,s;const c={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("img"),(0,i.LGW)(n,"class","circle svelte-90yv08"),(0,i.Jn4)(n.src,o=e[5].avatar)||(0,i.LGW)(n,"src",o),(0,i.LGW)(n,"alt",s=e[5].name),(0,i.vjr)(n,At,43,27,1976),(0,i.LGW)(t,"class","reply svelte-90yv08"),(0,i.vjr)(t,At,43,8,1957)}),"create"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:Xt.name,type:"each",source:"(43:6) {#each users as reply}",ctx:e}),c}function Kt(e){let t,n,o,s,c=e[4].total-Qt+"";const r={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("span"),o=(0,i.fLW)("+"),s=(0,i.fLW)(c),(0,i.LGW)(n,"class","svelte-90yv08"),(0,i.vjr)(n,At,46,27,2114),(0,i.LGW)(t,"class","reply svelte-90yv08"),(0,i.vjr)(t,At,46,8,2095)}),"create"),m:_((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.gOb)(n,o),(0,i.gOb)(n,s)}),"mount"),p:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:r,id:Kt.name,type:"if",source:"(46:6) {#if users.total > shown}",ctx:e}),r}function Ft(e){const t={c:i.ZTd,m:i.ZTd,p:i.ZTd,d:i.ZTd};return(0,i.YyZ)("SvelteRegisterBlock",{block:t,id:Ft.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function qt(e){let t,n,o,s,r,a,l,u,p=e[0].length+"";s=new c.__({props:{label:I.string.Replies},$$inline:!0});let d={ctx:e,current:null,token:null,hasCatch:!1,pending:Ft,then:Ht,catch:Nt,value:4};(0,i.CR_)(l=e[1](),d);const f={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o=(0,i.fLW)(p),(0,i.YCL)(s.$$.fragment),r=(0,i.DhX)(),a=(0,i.bGB)("div"),d.block.c(),(0,i.LGW)(n,"class","counter svelte-90yv08"),(0,i.vjr)(n,At,39,2,1777),(0,i.LGW)(a,"class","replies svelte-90yv08"),(0,i.vjr)(a,At,40,2,1863),(0,i.LGW)(t,"class","replies-container svelte-90yv08"),(0,i.vjr)(t,At,38,0,1743)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.gOb)(n,o),(0,i.yef)(s,n,null),(0,i.gOb)(t,r),(0,i.gOb)(t,a),d.block.m(a,d.anchor=null),d.mount=()=>a,d.anchor=null,u=!0}),"mount"),p:_((function(t,[n]){e=t,(!u||1&n)&&p!==(p=e[0].length+"")&&(0,i.Lob)(o,p),(0,i.xfz)(d,e,n)}),"update"),i:_((function(e){u||((0,i.Ui)(s.$$.fragment,e),u=!0)}),"intro"),o:_((function(e){(0,i.etI)(s.$$.fragment,e),u=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(s),d.block.d(),d.token=null,d=null}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:f,id:qt.name,type:"component",source:"",ctx:e}),f}_(Tt,"get_each_context"),_(Nt,"create_catch_block"),_(Ht,"create_then_block"),_(Xt,"create_each_block"),_(Kt,"create_if_block"),_(Ft,"create_pending_block"),_(qt,"create_fragment");var Qt=4;function Jt(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Replies",o,[]);var a=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return _(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}_(c,"fulfilled"),_(r,"rejected"),_(a,"step"),a((o=o.apply(e,t||[])).next())}))};const l=(0,r.getClient)();let{replies:u=[]}=t;function d(){return a(this,void 0,void 0,(function*(){return yield l.findAll(p().class.Account,{_id:{$in:u}},{limit:Qt})}))}_(d,"getUsers");const f=["replies"];return Object.keys(t).forEach((e=>{~f.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Replies> was created with unknown prop '${e}'`)})),e.$$set=e=>{"replies"in e&&n(0,u=e.replies)},e.$capture_state=()=>({__awaiter:a,getClient:r.getClient,core:p(),chunter:I,Label:c.__,client:l,replies:u,shown:Qt,getUsers:d}),e.$inject_state=e=>{"__awaiter"in e&&(a=e.__awaiter),"replies"in e&&n(0,u=e.replies)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u,d]}_(Jt,"instance");var en=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Jt,qt,i.N8,{replies:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Replies",options:e,id:qt.name})}get replies(){throw new Error("<Replies>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set replies(e){throw new Error("<Replies>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(en,"Replies");var tn=en,nn="src/components/Message.svelte";function on(e,t,n){const o=e.slice();return o[15]=t[n],o}function sn(e){let t,n,o,s;const c={c:_((function(){var c,r,a;t=(0,i.bGB)("div"),n=(0,i.bGB)("img"),(0,i.Jn4)(n.src,o=null!=(r=null==(c=e[6])?void 0:c.avatar)?r:"")||(0,i.LGW)(n,"src",o),(0,i.LGW)(n,"alt",s=null==(a=e[6])?void 0:a.name),(0,i.LGW)(n,"class","svelte-1vwl2nr"),(0,i.vjr)(n,nn,124,26,4736),(0,i.LGW)(t,"class","avatar svelte-1vwl2nr"),(0,i.vjr)(t,nn,124,6,4716)}),"create"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,t){var c,r,a;64&t&&!(0,i.Jn4)(n.src,o=null!=(r=null==(c=e[6])?void 0:c.avatar)?r:"")&&(0,i.LGW)(n,"src",o),64&t&&s!==(s=null==(a=e[6])?void 0:a.name)&&(0,i.LGW)(n,"alt",s)}),"update"),d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:sn.name,type:"if",source:"(124:4) {#if user}",ctx:e}),c}function cn(e){var t,n;let o,s=(null!=(n=null==(t=e[6])?void 0:t.name)?n:"")+"";const c={c:_((function(){o=(0,i.fLW)(s)}),"create"),m:_((function(e,t){(0,i.DsI)(e,o,t)}),"mount"),p:_((function(e,t){var n,c;64&t&&s!==(s=(null!=(c=null==(n=e[6])?void 0:n.name)?c:"")+"")&&(0,i.Lob)(o,s)}),"update"),d:_((function(e){e&&(0,i.GlD)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:cn.name,type:"if",source:"(129:8) {#if user}",ctx:e}),c}function rn(e){let t,n,o,s,c,r;o=new Vt({$$inline:!0});let a=e[5].length>0&&an(e);const l={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),c=(0,i.bGB)("div"),a&&a.c(),(0,i.LGW)(n,"class","svelte-1vwl2nr"),(0,i.vjr)(n,nn,137,10,5271),(0,i.LGW)(c,"class","svelte-1vwl2nr"),(0,i.vjr)(c,nn,140,10,5330),(0,i.LGW)(t,"class","footer svelte-1vwl2nr"),(0,i.vjr)(t,nn,136,8,5240)}),"create"),m:_((function(e,l){(0,i.DsI)(e,t,l),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,c),a&&a.m(c,null),r=!0}),"mount"),p:_((function(e,t){e[5].length>0?a?(a.p(e,t),32&t&&(0,i.Ui)(a,1)):(a=an(e),a.c(),(0,i.Ui)(a,1),a.m(c,null)):a&&((0,i.dvw)(),(0,i.etI)(a,1,1,(()=>{a=null})),(0,i.gbL)())}),"update"),i:_((function(e){r||((0,i.Ui)(o.$$.fragment,e),(0,i.Ui)(a),r=!0)}),"intro"),o:_((function(e){(0,i.etI)(o.$$.fragment,e),(0,i.etI)(a),r=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o),a&&a.d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:l,id:rn.name,type:"if",source:"(136:6) {#if replyIds.length > 0 && !thread}",ctx:e}),l}function an(e){let t,n;t=new tn({props:{replies:e[5]},$$inline:!0});const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,n){const o={};32&n&&(o.replies=e[5]),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:an.name,type:"if",source:"(142:12) {#if replyIds.length > 0}",ctx:e}),o}function ln(e){let t,n,o,s,r,a,l,u,p,d,f,h,m;o=new c.A({props:{icon:lt,size:20},$$inline:!0}),a=new c.A({props:{icon:ot,size:20},$$inline:!0}),p=new c.A({props:{icon:mt,size:20},$$inline:!0}),h=new c.A({props:{icon:H,size:20},$$inline:!0});const g={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.bGB)("div"),(0,i.YCL)(a.$$.fragment),l=(0,i.DhX)(),u=(0,i.bGB)("div"),(0,i.YCL)(p.$$.fragment),d=(0,i.DhX)(),f=(0,i.bGB)("div"),(0,i.YCL)(h.$$.fragment),(0,i.LGW)(n,"class","tool svelte-1vwl2nr"),(0,i.vjr)(n,nn,148,8,5518),(0,i.LGW)(r,"class","tool svelte-1vwl2nr"),(0,i.vjr)(r,nn,149,8,5588),(0,i.LGW)(u,"class","tool svelte-1vwl2nr"),(0,i.vjr)(u,nn,150,8,5661),(0,i.LGW)(f,"class","tool svelte-1vwl2nr"),(0,i.vjr)(f,nn,151,8,5731),(0,i.LGW)(t,"class","buttons svelte-1vwl2nr"),(0,i.vjr)(t,nn,147,6,5488)}),"create"),m:_((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),(0,i.yef)(a,r,null),(0,i.gOb)(t,l),(0,i.gOb)(t,u),(0,i.yef)(p,u,null),(0,i.gOb)(t,d),(0,i.gOb)(t,f),(0,i.yef)(h,f,null),m=!0}),"mount"),p:i.ZTd,i:_((function(e){m||((0,i.Ui)(o.$$.fragment,e),(0,i.Ui)(a.$$.fragment,e),(0,i.Ui)(p.$$.fragment,e),(0,i.Ui)(h.$$.fragment,e),m=!0)}),"intro"),o:_((function(e){(0,i.etI)(o.$$.fragment,e),(0,i.etI)(a.$$.fragment,e),(0,i.etI)(p.$$.fragment,e),(0,i.etI)(h.$$.fragment,e),m=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o),(0,i.vpE)(a),(0,i.vpE)(p),(0,i.vpE)(h)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:g,id:ln.name,type:"if",source:"(147:4) {#if !thread}",ctx:e}),g}function un(e){let t,n,o=e[4];(0,i.vzG)(o);let s=[];for(let t=0;t<o.length;t+=1)s[t]=pn(on(e,o,t));const c=_((e=>(0,i.etI)(s[e],1,1,(()=>{s[e]=null}))),"out"),r={c:_((function(){t=(0,i.bGB)("div");for(let e=0;e<s.length;e+=1)s[e].c();(0,i.LGW)(t,"class","svelte-1vwl2nr"),(0,i.VHj)(t,"references",!e[2]),(0,i.VHj)(t,"references-thread",e[2]),(0,i.vjr)(t,nn,156,4,5859)}),"create"),m:_((function(e,o){(0,i.DsI)(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0}),"mount"),p:_((function(e,n){if(16&n){let r;for(o=e[4],(0,i.vzG)(o),r=0;r<o.length;r+=1){const c=on(e,o,r);s[r]?(s[r].p(c,n),(0,i.Ui)(s[r],1)):(s[r]=pn(c),s[r].c(),(0,i.Ui)(s[r],1),s[r].m(t,null))}for((0,i.dvw)(),r=o.length;r<s.length;r+=1)c(r);(0,i.gbL)()}4&n&&(0,i.VHj)(t,"references",!e[2]),4&n&&(0,i.VHj)(t,"references-thread",e[2])}),"update"),i:_((function(e){if(!n){for(let e=0;e<o.length;e+=1)(0,i.Ui)(s[e]);n=!0}}),"intro"),o:_((function(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)(0,i.etI)(s[e]);n=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.RMB)(s,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:r,id:un.name,type:"if",source:"(156:2) {#if references.length > 0}",ctx:e}),r}function pn(e){let t,n,o,s;n=new kt({props:{reference:e[15]},$$inline:!0});const c={c:_((function(){t=(0,i.bGB)("pre"),(0,i.YCL)(n.$$.fragment),o=(0,i.fLW)("\n        "),(0,i.vjr)(t,nn,158,8,5965)}),"create"),m:_((function(e,c){(0,i.DsI)(e,t,c),(0,i.yef)(n,t,null),(0,i.gOb)(t,o),s=!0}),"mount"),p:_((function(e,t){const o={};16&t&&(o.reference=e[15]),n.$set(o)}),"update"),i:_((function(e){s||((0,i.Ui)(n.$$.fragment,e),s=!0)}),"intro"),o:_((function(e){(0,i.etI)(n.$$.fragment,e),s=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(n)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:pn.name,type:"each",source:"(158:6) {#each references as ref}",ctx:e}),c}function dn(e){let t,n,o,s,r,a,l,u,p,d,f,h,m,g,v,w,$,b,y=e[6]&&sn(e),G=e[6]&&cn(e);l=new c.ou({props:{value:e[0].modifiedOn,timeOnly:fn(e[0].modifiedOn)},$$inline:!0}),d=new c.Vg({props:{message:e[3]},$$inline:!0});let L=e[5].length>0&&!e[2]&&rn(e),j=!e[2]&&ln(e),C=e[4].length>0&&un(e);const k={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),y&&y.c(),o=(0,i.DhX)(),s=(0,i.bGB)("div"),r=(0,i.bGB)("div"),G&&G.c(),a=(0,i.bGB)("span"),(0,i.YCL)(l.$$.fragment),u=(0,i.DhX)(),p=(0,i.bGB)("div"),(0,i.YCL)(d.$$.fragment),f=(0,i.DhX)(),L&&L.c(),g=(0,i.DhX)(),j&&j.c(),v=(0,i.DhX)(),C&&C.c(),(0,i.LGW)(a,"class","svelte-1vwl2nr"),(0,i.vjr)(a,nn,128,41,4976),(0,i.LGW)(r,"class","header svelte-1vwl2nr"),(0,i.vjr)(r,nn,127,6,4914),(0,i.LGW)(p,"class","text svelte-1vwl2nr"),(0,i.vjr)(p,nn,132,6,5107),(0,i.LGW)(s,"class","message svelte-1vwl2nr"),(0,i.LGW)(s,"data-modified",h=e[0].modifiedOn),(0,i.LGW)(s,"data-lastmodified",m=e[9](e[0])),(0,i.vjr)(s,nn,126,4,4806),(0,i.LGW)(n,"class","container svelte-1vwl2nr"),(0,i.VHj)(n,"no-thread",!e[2]),(0,i.VHj)(n,"isNew",e[8](e[0],e[1])),(0,i.vjr)(n,nn,122,2,4582),(0,i.LGW)(t,"class","message-container svelte-1vwl2nr"),(0,i.vjr)(t,nn,121,0,4548)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(c,h){(0,i.DsI)(c,t,h),(0,i.gOb)(t,n),y&&y.m(n,null),(0,i.gOb)(n,o),(0,i.gOb)(n,s),(0,i.gOb)(s,r),G&&G.m(r,null),(0,i.gOb)(r,a),(0,i.yef)(l,a,null),(0,i.gOb)(s,u),(0,i.gOb)(s,p),(0,i.yef)(d,p,null),(0,i.gOb)(s,f),L&&L.m(s,null),(0,i.gOb)(n,g),j&&j.m(n,null),(0,i.gOb)(t,v),C&&C.m(t,null),w=!0,$||(b=(0,i.iVk)(n,"click",e[7],!1,!1,!1),$=!0)}),"mount"),p:_((function(e,[c]){e[6]?y?y.p(e,c):(y=sn(e),y.c(),y.m(n,o)):y&&(y.d(1),y=null),e[6]?G?G.p(e,c):(G=cn(e),G.c(),G.m(r,a)):G&&(G.d(1),G=null);const u={};1&c&&(u.value=e[0].modifiedOn),1&c&&(u.timeOnly=fn(e[0].modifiedOn)),l.$set(u);const p={};8&c&&(p.message=e[3]),d.$set(p),e[5].length>0&&!e[2]?L?(L.p(e,c),36&c&&(0,i.Ui)(L,1)):(L=rn(e),L.c(),(0,i.Ui)(L,1),L.m(s,null)):L&&((0,i.dvw)(),(0,i.etI)(L,1,1,(()=>{L=null})),(0,i.gbL)()),(!w||1&c&&h!==(h=e[0].modifiedOn))&&(0,i.LGW)(s,"data-modified",h),(!w||1&c&&m!==(m=e[9](e[0])))&&(0,i.LGW)(s,"data-lastmodified",m),e[2]?j&&((0,i.dvw)(),(0,i.etI)(j,1,1,(()=>{j=null})),(0,i.gbL)()):j?(j.p(e,c),4&c&&(0,i.Ui)(j,1)):(j=ln(e),j.c(),(0,i.Ui)(j,1),j.m(n,null)),4&c&&(0,i.VHj)(n,"no-thread",!e[2]),259&c&&(0,i.VHj)(n,"isNew",e[8](e[0],e[1])),e[4].length>0?C?(C.p(e,c),16&c&&(0,i.Ui)(C,1)):(C=un(e),C.c(),(0,i.Ui)(C,1),C.m(t,null)):C&&((0,i.dvw)(),(0,i.etI)(C,1,1,(()=>{C=null})),(0,i.gbL)())}),"update"),i:_((function(e){w||((0,i.Ui)(l.$$.fragment,e),(0,i.Ui)(d.$$.fragment,e),(0,i.Ui)(L),(0,i.Ui)(j),(0,i.Ui)(C),w=!0)}),"intro"),o:_((function(e){(0,i.etI)(l.$$.fragment,e),(0,i.etI)(d.$$.fragment,e),(0,i.etI)(L),(0,i.etI)(j),(0,i.etI)(C),w=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),y&&y.d(),G&&G.d(),(0,i.vpE)(l),(0,i.vpE)(d),L&&L.d(),j&&j.d(),C&&C.d(),$=!1,b()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:k,id:dn.name,type:"component",source:"",ctx:e}),k}function fn(e){const t=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()).getTime();return new Date(e).getTime()-t>0}function hn(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("Message",o,[]);var l,d=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return _(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}_(c,"fulfilled"),_(r,"rejected"),_(a,"step"),a((o=o.apply(e,t||[])).next())}))};let f,{message:m}=t,{notifications:g}=t,{thread:v=!1}=t,w=[],$=[];const b=(0,r.getClient)(),y=(0,c.mN)();function G(e){return d(this,void 0,void 0,(function*(){return(yield b.findAll(p().class.Account,{_id:e}))[0]}))}function L(){v||y.navigate({itemId:m._id})}let j;function C(e,t){var n,o;if(void 0===t)return!1;if(v){if(void 0!==e.replyOf){let n=t.lastRead;if(void 0!==t.objectLastReads.get){const i=(0,u.parseFullRef)(e.replyOf);n=null!==(o=t.objectLastReads.get(i._id))&&void 0!==o?o:n}return e.modifiedOn>n}}else{if(e.modifiedOn>t.lastRead)return!0;const o=e.comments;if(void 0!==o){let i=t.lastRead;void 0!==t.objectLastReads.get&&(i=null!==(n=t.objectLastReads.get(e._id))&&void 0!==n?n:i);for(const e of o)if(e.lastModified>i)return!0}}return!1}function k(e){let t=e.modifiedOn;if(!v){const n=e.comments;if(void 0!==n)for(const e of n)t=t>e.lastModified?t:e.lastModified}return t}_(G,"getUser"),_(L,"onClick"),(0,s.onMount)((()=>d(void 0,void 0,void 0,(function*(){n(6,j=yield G(m.modifiedBy))})))),_(C,"isNew"),_(k,"getLastModified");const x=["message","notifications","thread"];return Object.keys(t).forEach((e=>{~x.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Message> was created with unknown prop '${e}'`)})),e.$$set=e=>{"message"in e&&n(0,m=e.message),"notifications"in e&&n(1,g=e.notifications),"thread"in e&&n(2,v=e.thread)},e.$capture_state=()=>({__awaiter:d,_a:l,core:p(),Account:u.Account,parseFullRef:u.parseFullRef,Ref:u.Ref,Timestamp:u.Timestamp,parseMessage:h.parseMessage,ActionIcon:c.A,DateTime:c.ou,getRouter:c.mN,MessageViewer:c.Vg,getClient:r.getClient,onMount:s.onMount,findReferences:Ke,Bookmark:ot,Emoji:H,MoreH:lt,Share:mt,RefControl:kt,Reactions:Vt,Replies:tn,message:m,notifications:g,thread:v,parsedMessage:f,references:w,replyIds:$,client:b,router:y,getUser:G,onClick:L,isToday:fn,user:j,isNew:C,getLastModified:k}),e.$inject_state=e=>{"__awaiter"in e&&(d=e.__awaiter),"_a"in e&&n(10,l=e._a),"message"in e&&n(0,m=e.message),"notifications"in e&&n(1,g=e.notifications),"thread"in e&&n(2,v=e.thread),"parsedMessage"in e&&n(3,f=e.parsedMessage),"references"in e&&n(4,w=e.references),"replyIds"in e&&n(5,$=e.replyIds),"user"in e&&n(6,j=e.user)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{if(1&e.$$.dirty&&n(3,f=(0,h.parseMessage)(m.message)),8&e.$$.dirty&&n(4,w=Ke(f)),1025&e.$$.dirty){const e=null!==n(10,l=m.comments)&&void 0!==l?l:[];n(5,$=e.map((e=>e.userId)))}},[m,g,v,f,w,$,j,L,C,k,l]}_(on,"get_each_context"),_(sn,"create_if_block_5"),_(cn,"create_if_block_4"),_(rn,"create_if_block_2"),_(an,"create_if_block_3"),_(ln,"create_if_block_1"),_(un,"create_if_block"),_(pn,"create_each_block"),_(dn,"create_fragment"),_(fn,"isToday"),_(hn,"instance");var mn=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,hn,dn,i.N8,{message:0,notifications:1,thread:2}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Message",options:e,id:dn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"message"in n||console.warn("<Message> was created without expected prop 'message'"),void 0!==t[1]||"notifications"in n||console.warn("<Message> was created without expected prop 'notifications'")}get message(){throw new Error("<Message>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set message(e){throw new Error("<Message>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<Message>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<Message>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get thread(){throw new Error("<Message>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set thread(e){throw new Error("<Message>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(mn,"Message");var gn=mn;function vn(e,t,n){const o=e.slice();return o[5]=t[n],o}function wn(e,t){let n,o,s;o=new gn({props:{message:t[5],thread:t[2],notifications:t[1]},$$inline:!0});const c={key:e,first:null,c:_((function(){n=(0,i.cSb)(),(0,i.YCL)(o.$$.fragment),this.first=n}),"create"),m:_((function(e,t){(0,i.DsI)(e,n,t),(0,i.yef)(o,e,t),s=!0}),"mount"),p:_((function(e,n){t=e;const i={};1&n&&(i.message=t[5]),4&n&&(i.thread=t[2]),2&n&&(i.notifications=t[1]),o.$set(i)}),"update"),i:_((function(e){s||((0,i.Ui)(o.$$.fragment,e),s=!0)}),"intro"),o:_((function(e){(0,i.etI)(o.$$.fragment,e),s=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(n),(0,i.vpE)(o,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:wn.name,type:"each",source:"(25:2) {#each messages as m (m._id)}",ctx:t}),c}function $n(e){let t,n,o=[],s=new Map,c=e[0];(0,i.vzG)(c);const r=_((e=>e[5]._id),"get_key");(0,i.HeV)(e,c,vn,r);for(let t=0;t<c.length;t+=1){let n=vn(e,c,t),i=r(n);s.set(i,o[t]=wn(i,n))}const a={c:_((function(){t=(0,i.bGB)("div");for(let e=0;e<o.length;e+=1)o[e].c();(0,i.LGW)(t,"class","flex-col"),(0,i.vjr)(t,"src/components/Channel.svelte",23,0,778)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(s,c){(0,i.DsI)(s,t,c);for(let e=0;e<o.length;e+=1)o[e].m(t,null);e[4](t),n=!0}),"mount"),p:_((function(e,[n]){7&n&&(c=e[0],(0,i.vzG)(c),(0,i.dvw)(),(0,i.HeV)(e,c,vn,r),o=(0,i.GQg)(o,n,r,1,e,c,s,t,i.cly,wn,null,vn),(0,i.gbL)())}),"update"),i:_((function(e){if(!n){for(let e=0;e<c.length;e+=1)(0,i.Ui)(o[e]);n=!0}}),"intro"),o:_((function(e){for(let e=0;e<o.length;e+=1)(0,i.etI)(o[e]);n=!1}),"outro"),d:_((function(n){n&&(0,i.GlD)(t);for(let e=0;e<o.length;e+=1)o[e].d();e[4](null)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:a,id:$n.name,type:"component",source:"",ctx:e}),a}function bn(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Channel",o,[]);let c,{messages:r=[]}=t,{notifications:a}=t,{thread:l=!1}=t;const u=["messages","notifications","thread"];function p(e){i.VnY[e?"unshift":"push"]((()=>{c=e,n(3,c)}))}return Object.keys(t).forEach((e=>{~u.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Channel> was created with unknown prop '${e}'`)})),_(p,"div_1_binding"),e.$$set=e=>{"messages"in e&&n(0,r=e.messages),"notifications"in e&&n(1,a=e.notifications),"thread"in e&&n(2,l=e.thread)},e.$capture_state=()=>({Message:gn,messages:r,notifications:a,thread:l,div:c}),e.$inject_state=e=>{"messages"in e&&n(0,r=e.messages),"notifications"in e&&n(1,a=e.notifications),"thread"in e&&n(2,l=e.thread),"div"in e&&n(3,c=e.div)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r,a,l,c,p]}_(vn,"get_each_context"),_(wn,"create_each_block"),_($n,"create_fragment"),_(bn,"instance");var yn=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,bn,$n,i.N8,{messages:0,notifications:1,thread:2}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Channel",options:e,id:$n.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"notifications"in n||console.warn("<Channel> was created without expected prop 'notifications'")}get messages(){throw new Error("<Channel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set messages(e){throw new Error("<Channel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<Channel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<Channel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get thread(){throw new Error("<Channel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set thread(e){throw new Error("<Channel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(yn,"Channel");var Gn=yn,Ln="src/components/CreateDirectMessage.svelte";function jn(e){let t,n;t=new Gn({props:{notifications:e[3],messages:e[2]},$$inline:!0});const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,n){const o={};8&n&&(o.notifications=e[3]),4&n&&(o.messages=e[2]),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:jn.name,type:"if",source:"(145:4) {#if currentSpace}",ctx:e}),o}function Cn(e){let t,n,o,s,r,a,l,u,p,d,f;o=new c.jL({props:{component:c.ao,items:e[7](e[4]),searchLabel:I.string.UserTo,showSearch:!0},$$inline:!0});let h=e[0]&&jn(e);u=new Xe({$$inline:!0}),u.$on("message",e[12]);const m={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.bGB)("div"),h&&h.c(),a=(0,i.DhX)(),l=(0,i.bGB)("div"),(0,i.YCL)(u.$$.fragment),(0,i.LGW)(n,"class","address svelte-67ub6e"),(0,i.vjr)(n,Ln,135,2,5309),(0,i.LGW)(r,"class","msg-board svelte-67ub6e"),(0,i.vjr)(r,Ln,143,2,5495),(0,i.LGW)(l,"class","message-input svelte-67ub6e"),(0,i.vjr)(l,Ln,148,2,5650),(0,i.LGW)(t,"class","new-message svelte-67ub6e"),(0,i.vjr)(t,Ln,134,0,5281)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(c,m){(0,i.DsI)(c,t,m),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),h&&h.m(r,null),e[11](r),(0,i.gOb)(t,a),(0,i.gOb)(t,l),(0,i.yef)(u,l,null),p=!0,d||(f=(0,i.iVk)(r,"scroll",e[6],!1,!1,!1),d=!0)}),"mount"),p:_((function(e,[t]){const n={};16&t&&(n.items=e[7](e[4])),o.$set(n),e[0]?h?(h.p(e,t),1&t&&(0,i.Ui)(h,1)):(h=jn(e),h.c(),(0,i.Ui)(h,1),h.m(r,null)):h&&((0,i.dvw)(),(0,i.etI)(h,1,1,(()=>{h=null})),(0,i.gbL)())}),"update"),i:_((function(e){p||((0,i.Ui)(o.$$.fragment,e),(0,i.Ui)(h),(0,i.Ui)(u.$$.fragment,e),p=!0)}),"intro"),o:_((function(e){(0,i.etI)(o.$$.fragment,e),(0,i.etI)(h),(0,i.etI)(u.$$.fragment,e),p=!1}),"outro"),d:_((function(n){n&&(0,i.GlD)(t),(0,i.vpE)(o),h&&h.d(),e[11](null),(0,i.vpE)(u),d=!1,f()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:m,id:Cn.name,type:"component",source:"",ctx:e}),m}function kn(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("CreateDirectMessage",o,[]);var l=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return _(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}_(c,"fulfilled"),_(r,"rejected"),_(a,"step"),a((o=o.apply(e,t||[])).next())}))};const f=(0,r.getClient)(),h=new v.NotificationClient(f);let m,$,b,y,G,L=[],j=[],C=[],k=[];function x(e){return l(this,void 0,void 0,(function*(){if(0!==L.length){if(void 0===m){const e=yield f.createDoc(I.class.Channel,p().space.Model,{name:j.map((e=>e.name)).join(", "),description:"",private:!0,direct:!0,members:[f.accountId(),...L]});n(0,m=e)}yield f.createDoc(I.class.Message,m._id,{message:e}),void 0!==b&&h.readNow(b)}}))}function S(){var e;h.scrollHandler($,b,null!==(e=null==b?void 0:b.lastRead)&&void 0!==e?e:0,!1)}function W(e){return e.map(((e,t)=>({_id:t,title:e.name,props:{user:e},selected:-1!==L.indexOf(e._id),action:()=>{n(8,L=[...L,e._id])},onDeselect:()=>{n(8,L=L.filter((t=>e._id!==t)))},matcher:t=>-1!==e.name.toLowerCase().indexOf(t)||-1!==e.email.toLowerCase().indexOf(t)})))}_(x,"addMessage"),(0,s.afterUpdate)((()=>{var e;h.initScroll($,null!==(e=null==b?void 0:b.lastRead)&&void 0!==e?e:0,!1),S()})),_(S,"scrollHandler"),_(W,"popupItems");const E=[];function O(e){i.VnY[e?"unshift":"push"]((()=>{$=e,n(1,$)}))}Object.keys(t).forEach((e=>{~E.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateDirectMessage> was created with unknown prop '${e}'`)})),_(O,"div1_binding");const D=_((e=>{x(e.detail)}),"message_handler");return e.$capture_state=()=>({__awaiter:l,core:p(),Account:u.Account,Ref:u.Ref,Space:u.Space,QueryUpdater:d.QueryUpdater,SelectBox:c.jL,UserInfo:c.ao,getClient:r.getClient,chunter:I,ReferenceInput:Xe,Channel:Gn,deepEqual:g.deepEqual,notification:w(),NotificationClient:v.NotificationClient,afterUpdate:s.afterUpdate,client:f,notificationClient:h,to:L,toAccount:j,currentSpace:m,div:$,messages:C,notifications:b,allAccounts:k,accountUpdater:y,query:G,addMessage:x,scrollHandler:S,popupItems:W}),e.$inject_state=e=>{"__awaiter"in e&&(l=e.__awaiter),"to"in e&&n(8,L=e.to),"toAccount"in e&&(j=e.toAccount),"currentSpace"in e&&n(0,m=e.currentSpace),"div"in e&&n(1,$=e.div),"messages"in e&&n(2,C=e.messages),"notifications"in e&&n(3,b=e.notifications),"allAccounts"in e&&n(4,k=e.allAccounts),"accountUpdater"in e&&n(9,y=e.accountUpdater),"query"in e&&n(10,G=e.query)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{512&e.$$.dirty&&n(9,y=f.query(y,p().class.Account,{_id:{$ne:f.accountId()}},(e=>{n(4,k=e)}))),257&e.$$.dirty&&f.findAll(I.class.Channel,{direct:!0,private:!0}).then((e=>{const t=[f.accountId(),...L].sort();for(const o of e){const e=[...o.members].sort();if((0,g.deepEqual)(e,t))return n(0,m=o),void(void 0!==m&&f.findAll(w().class.SpaceNotifications,{objectId:m._id}).then((e=>n(3,b=e.shift()))));n(0,m=void 0)}})),1027&e.$$.dirty&&void 0!==m&&n(10,G=f.query(G,I.class.Message,{space:m._id},(e=>{n(2,C=e),h.setAutoscroll($)}))),1280&e.$$.dirty&&f.findAll(p().class.Account,{_id:{$in:L}}).then((e=>{j=e,n(3,b=void 0),n(2,C=[]),null==G||G.unsubscribe()}))},[m,$,C,b,k,x,S,W,L,y,G,O,D]}_(jn,"create_if_block"),_(Cn,"create_fragment"),_(kn,"instance");var _n=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,kn,Cn,i.N8,{}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateDirectMessage",options:e,id:Cn.name})}};_(_n,"CreateDirectMessage");var xn=_n,In="src/components/ChannelView.svelte";function Sn(e){let t,n;t=new Gn({props:{messages:e[3],notifications:e[1]},$$inline:!0});const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,n){const o={};8&n&&(o.messages=e[3]),2&n&&(o.notifications=e[1]),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Sn.name,type:"if",source:"(74:2) {#if currentSpace}",ctx:e}),o}function Wn(e){let t,n;t=new Xe({$$inline:!0}),t.$on("message",e[8]);const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:i.ZTd,i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Wn.name,type:"if",source:"(79:2) {#if currentSpace}",ctx:e}),o}function En(e){let t,n,o,s,c,r,a=e[0]&&Sn(e),l=e[0]&&Wn(e);const u={c:_((function(){t=(0,i.bGB)("div"),a&&a.c(),n=(0,i.DhX)(),o=(0,i.bGB)("div"),l&&l.c(),(0,i.LGW)(t,"class","msg-board svelte-1bxjqog"),(0,i.vjr)(t,In,72,0,2982),(0,i.LGW)(o,"class","ref-input svelte-1bxjqog"),(0,i.vjr)(o,In,77,0,3127)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(u,p){(0,i.DsI)(u,t,p),a&&a.m(t,null),e[7](t),(0,i.DsI)(u,n,p),(0,i.DsI)(u,o,p),l&&l.m(o,null),s=!0,c||(r=(0,i.iVk)(t,"scroll",e[5],!1,!1,!1),c=!0)}),"mount"),p:_((function(e,[n]){e[0]?a?(a.p(e,n),1&n&&(0,i.Ui)(a,1)):(a=Sn(e),a.c(),(0,i.Ui)(a,1),a.m(t,null)):a&&((0,i.dvw)(),(0,i.etI)(a,1,1,(()=>{a=null})),(0,i.gbL)()),e[0]?l?(l.p(e,n),1&n&&(0,i.Ui)(l,1)):(l=Wn(e),l.c(),(0,i.Ui)(l,1),l.m(o,null)):l&&((0,i.dvw)(),(0,i.etI)(l,1,1,(()=>{l=null})),(0,i.gbL)())}),"update"),i:_((function(e){s||((0,i.Ui)(a),(0,i.Ui)(l),s=!0)}),"intro"),o:_((function(e){(0,i.etI)(a),(0,i.etI)(l),s=!1}),"outro"),d:_((function(s){s&&(0,i.GlD)(t),a&&a.d(),e[7](null),s&&(0,i.GlD)(n),s&&(0,i.GlD)(o),l&&l.d(),c=!1,r()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:u,id:En.name,type:"component",source:"",ctx:e}),u}function On(e,t,n){let{$$slots:o={},$$scope:c}=t;(0,i.KXV)("ChannelView",o,[]);var a=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return _(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}_(c,"fulfilled"),_(r,"rejected"),_(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{currentSpace:l}=t,{notifications:u}=t;const p=(0,r.getClient)(),d=new v.NotificationClient(p);let f,h,m=[];function g(e){return a(this,void 0,void 0,(function*(){yield p.createDoc(I.class.Message,l,{message:e}),void 0!==u&&(yield d.readNow(u))}))}function w(){var e;d.scrollHandler(f,u,null!==(e=null==u?void 0:u.lastRead)&&void 0!==e?e:0,!1)}_(g,"addMessage"),(0,s.beforeUpdate)((()=>a(void 0,void 0,void 0,(function*(){f&&u&&d.before(f,u,l,!1)})))),(0,s.afterUpdate)((()=>{var e;d.initScroll(f,null!==(e=null==u?void 0:u.lastRead)&&void 0!==e?e:0,!1),w()})),_(w,"scrollHandler");const $=["currentSpace","notifications"];function b(e){i.VnY[e?"unshift":"push"]((()=>{f=e,n(2,f)}))}Object.keys(t).forEach((e=>{~$.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ChannelView> was created with unknown prop '${e}'`)})),_(b,"div0_binding");const y=_((e=>g(e.detail)),"message_handler");return e.$$set=e=>{"currentSpace"in e&&n(0,l=e.currentSpace),"notifications"in e&&n(1,u=e.notifications)},e.$capture_state=()=>({__awaiter:a,Channel:Gn,ReferenceInput:Xe,chunter:I,getClient:r.getClient,afterUpdate:s.afterUpdate,beforeUpdate:s.beforeUpdate,NotificationClient:v.NotificationClient,currentSpace:l,notifications:u,client:p,notificationClient:d,div:f,messages:m,addMessage:g,query:h,scrollHandler:w}),e.$inject_state=e=>{"__awaiter"in e&&(a=e.__awaiter),"currentSpace"in e&&n(0,l=e.currentSpace),"notifications"in e&&n(1,u=e.notifications),"div"in e&&n(2,f=e.div),"messages"in e&&n(3,m=e.messages),"query"in e&&n(6,h=e.query)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{69&e.$$.dirty&&void 0!==l&&n(6,h=p.query(h,I.class.Message,{space:l},(e=>{n(3,m=e),d.setAutoscroll(f)})))},[l,u,f,m,g,w,h,b,y]}_(Sn,"create_if_block_1"),_(Wn,"create_if_block"),_(En,"create_fragment"),_(On,"instance");var Dn=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,On,En,i.N8,{currentSpace:0,notifications:1}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ChannelView",options:e,id:En.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"currentSpace"in n||console.warn("<ChannelView> was created without expected prop 'currentSpace'"),void 0!==t[1]||"notifications"in n||console.warn("<ChannelView> was created without expected prop 'notifications'")}get currentSpace(){throw new Error("<ChannelView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<ChannelView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<ChannelView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<ChannelView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(Dn,"ChannelView");var zn=Dn,Bn="src/components/ChannelSeparator.svelte";function Rn(e){let t,n,o;const s={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o=(0,i.fLW)(e[0]),(0,i.LGW)(n,"class","label svelte-1csmb5q"),(0,i.vjr)(n,Bn,20,2,740),(0,i.LGW)(t,"class","flex-center container svelte-1csmb5q"),(0,i.VHj)(t,"line",e[1]),(0,i.vjr)(t,Bn,19,0,691)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(n,o)}),"mount"),p:_((function(e,[n]){1&n&&(0,i.Lob)(o,e[0]),2&n&&(0,i.VHj)(t,"line",e[1])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Rn.name,type:"component",source:"",ctx:e}),s}function Pn(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("ChannelSeparator",o,[]);let{label:c}=t,{line:r=!1}=t;const a=["label","line"];return Object.keys(t).forEach((e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ChannelSeparator> was created with unknown prop '${e}'`)})),e.$$set=e=>{"label"in e&&n(0,c=e.label),"line"in e&&n(1,r=e.line)},e.$capture_state=()=>({label:c,line:r}),e.$inject_state=e=>{"label"in e&&n(0,c=e.label),"line"in e&&n(1,r=e.line)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c,r]}_(Rn,"create_fragment"),_(Pn,"instance");var Zn=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Pn,Rn,i.N8,{label:0,line:1}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ChannelSeparator",options:e,id:Rn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"label"in n||console.warn("<ChannelSeparator> was created without expected prop 'label'")}get label(){throw new Error("<ChannelSeparator>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<ChannelSeparator>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get line(){throw new Error("<ChannelSeparator>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set line(e){throw new Error("<ChannelSeparator>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(Zn,"ChannelSeparator");var Mn=Zn;function Yn(e,t,n){const o=e.slice();return o[7]=t[n],o}function Un(e,t){let n,o,s;o=new gn({props:{notifications:t[0],thread:!0,message:t[7]},$$inline:!0});const c={key:e,first:null,c:_((function(){n=(0,i.cSb)(),(0,i.YCL)(o.$$.fragment),this.first=n}),"create"),m:_((function(e,t){(0,i.DsI)(e,n,t),(0,i.yef)(o,e,t),s=!0}),"mount"),p:_((function(e,n){t=e;const i={};1&n&&(i.notifications=t[0]),2&n&&(i.message=t[7]),o.$set(i)}),"update"),i:_((function(e){s||((0,i.Ui)(o.$$.fragment,e),s=!0)}),"intro"),o:_((function(e){(0,i.etI)(o.$$.fragment,e),s=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(n),(0,i.vpE)(o,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:Un.name,type:"each",source:"(51:2) {#each comments as m (m._id)}",ctx:t}),c}function Vn(e){let t,n,o=[],s=new Map,c=e[1];(0,i.vzG)(c);const r=_((e=>e[7]._id),"get_key");(0,i.HeV)(e,c,Yn,r);for(let t=0;t<c.length;t+=1){let n=Yn(e,c,t),i=r(n);s.set(i,o[t]=Un(i,n))}const a={c:_((function(){t=(0,i.bGB)("div");for(let e=0;e<o.length;e+=1)o[e].c();(0,i.LGW)(t,"class","channel-container svelte-189e0ks"),(0,i.vjr)(t,"src/components/Comments.svelte",49,0,2040)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,s){(0,i.DsI)(e,t,s);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0}),"mount"),p:_((function(e,[n]){3&n&&(c=e[1],(0,i.vzG)(c),(0,i.dvw)(),(0,i.HeV)(e,c,Yn,r),o=(0,i.GQg)(o,n,r,1,e,c,s,t,i.cly,Un,null,Yn),(0,i.gbL)())}),"update"),i:_((function(e){if(!n){for(let e=0;e<c.length;e+=1)(0,i.Ui)(o[e]);n=!0}}),"intro"),o:_((function(e){for(let e=0;e<o.length;e+=1)(0,i.etI)(o[e]);n=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t);for(let e=0;e<o.length;e+=1)o[e].d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:a,id:Vn.name,type:"component",source:"",ctx:e}),a}function An(e,t,n){let{$$slots:o={},$$scope:c}=t;(0,i.KXV)("Comments",o,[]);var a=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return _(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}_(c,"fulfilled"),_(r,"rejected"),_(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{message:l}=t,{notifications:p}=t;const d=(0,r.getClient)();let f;const h=(0,s.createEventDispatcher)();(0,s.afterUpdate)((()=>a(void 0,void 0,void 0,(function*(){h("update")}))));let m=[];const g=["message","notifications"];return Object.keys(t).forEach((e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Comments> was created with unknown prop '${e}'`)})),e.$$set=e=>{"message"in e&&n(2,l=e.message),"notifications"in e&&n(0,p=e.notifications)},e.$capture_state=()=>({__awaiter:a,getFullRef:u.getFullRef,SortingOrder:u.SortingOrder,getClient:r.getClient,afterUpdate:s.afterUpdate,createEventDispatcher:s.createEventDispatcher,chunter:I,Message:gn,message:l,notifications:p,client:d,query:f,dispatch:h,comments:m}),e.$inject_state=e=>{"__awaiter"in e&&(a=e.__awaiter),"message"in e&&n(2,l=e.message),"notifications"in e&&n(0,p=e.notifications),"query"in e&&n(3,f=e.query),"comments"in e&&n(1,m=e.comments)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{12&e.$$.dirty&&n(3,f=d.query(f,I.class.Comment,{replyOf:(0,u.getFullRef)(l._id,l._class)},(e=>{n(1,m=e)}),{sort:{createOn:u.SortingOrder.Ascending}}))},[p,m,l,f]}_(Yn,"get_each_context"),_(Un,"create_each_block"),_(Vn,"create_fragment"),_(An,"instance");var Tn=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,An,Vn,i.N8,{message:2,notifications:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Comments",options:e,id:Vn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[2]||"message"in n||console.warn("<Comments> was created without expected prop 'message'"),void 0!==t[0]||"notifications"in n||console.warn("<Comments> was created without expected prop 'notifications'")}get message(){throw new Error("<Comments>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set message(e){throw new Error("<Comments>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<Comments>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<Comments>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(Tn,"Comments");var Nn=Tn,Hn="src/components/ThreadsView.svelte";function Xn(e){let t,n,o,s,c,r,a;n=new gn({props:{message:e[1],notifications:e[0],thread:!0},$$inline:!0}),s=new Mn({props:{label:I.string.RepliesText,line:!0},$$inline:!0}),r=new Nn({props:{message:e[1],notifications:e[0]},$$inline:!0});const l={c:_((function(){t=(0,i.bGB)("div"),(0,i.YCL)(n.$$.fragment),o=(0,i.DhX)(),(0,i.YCL)(s.$$.fragment),c=(0,i.DhX)(),(0,i.YCL)(r.$$.fragment),(0,i.LGW)(t,"class","flex-col"),(0,i.vjr)(t,Hn,97,4,3897)}),"create"),m:_((function(e,l){(0,i.DsI)(e,t,l),(0,i.yef)(n,t,null),(0,i.gOb)(t,o),(0,i.yef)(s,t,null),(0,i.gOb)(t,c),(0,i.yef)(r,t,null),a=!0}),"mount"),p:_((function(e,t){const o={};2&t&&(o.message=e[1]),1&t&&(o.notifications=e[0]),n.$set(o);const i={};2&t&&(i.message=e[1]),1&t&&(i.notifications=e[0]),r.$set(i)}),"update"),i:_((function(e){a||((0,i.Ui)(n.$$.fragment,e),(0,i.Ui)(s.$$.fragment,e),(0,i.Ui)(r.$$.fragment,e),a=!0)}),"intro"),o:_((function(e){(0,i.etI)(n.$$.fragment,e),(0,i.etI)(s.$$.fragment,e),(0,i.etI)(r.$$.fragment,e),a=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(n),(0,i.vpE)(s),(0,i.vpE)(r)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:l,id:Xn.name,type:"if",source:"(97:2) {#if message}",ctx:e}),l}function Kn(e){let t,n,o,s,r,a,l,u,p,d,f,h,m,g;o=new c.__({props:{label:I.string.Thread},$$inline:!0}),a=new c.bM({props:{size:16},$$inline:!0});let v=e[1]&&Xn(e);f=new Xe({$$inline:!0}),f.$on("message",e[9]);const w={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.bGB)("div"),(0,i.YCL)(a.$$.fragment),l=(0,i.DhX)(),u=(0,i.bGB)("div"),v&&v.c(),p=(0,i.DhX)(),d=(0,i.bGB)("div"),(0,i.YCL)(f.$$.fragment),(0,i.LGW)(n,"class","title svelte-udg0nr"),(0,i.vjr)(n,Hn,92,2,3674),(0,i.LGW)(r,"class","tool svelte-udg0nr"),(0,i.vjr)(r,Hn,93,2,3741),(0,i.LGW)(t,"class","header svelte-udg0nr"),(0,i.vjr)(t,Hn,91,0,3651),(0,i.LGW)(u,"class","content svelte-udg0nr"),(0,i.vjr)(u,Hn,95,0,3813),(0,i.LGW)(d,"class","ref-input svelte-udg0nr"),(0,i.vjr)(d,Hn,104,0,4109)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(c,w){(0,i.DsI)(c,t,w),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),(0,i.yef)(a,r,null),(0,i.DsI)(c,l,w),(0,i.DsI)(c,u,w),v&&v.m(u,null),e[8](u),(0,i.DsI)(c,p,w),(0,i.DsI)(c,d,w),(0,i.yef)(f,d,null),h=!0,m||(g=[(0,i.iVk)(r,"click",e[3],!1,!1,!1),(0,i.iVk)(u,"scroll",e[5],!1,!1,!1)],m=!0)}),"mount"),p:_((function(e,[t]){e[1]?v?(v.p(e,t),2&t&&(0,i.Ui)(v,1)):(v=Xn(e),v.c(),(0,i.Ui)(v,1),v.m(u,null)):v&&((0,i.dvw)(),(0,i.etI)(v,1,1,(()=>{v=null})),(0,i.gbL)())}),"update"),i:_((function(e){h||((0,i.Ui)(o.$$.fragment,e),(0,i.Ui)(a.$$.fragment,e),(0,i.Ui)(v),(0,i.Ui)(f.$$.fragment,e),h=!0)}),"intro"),o:_((function(e){(0,i.etI)(o.$$.fragment,e),(0,i.etI)(a.$$.fragment,e),(0,i.etI)(v),(0,i.etI)(f.$$.fragment,e),h=!1}),"outro"),d:_((function(n){n&&(0,i.GlD)(t),(0,i.vpE)(o),(0,i.vpE)(a),n&&(0,i.GlD)(l),n&&(0,i.GlD)(u),v&&v.d(),e[8](null),n&&(0,i.GlD)(p),n&&(0,i.GlD)(d),(0,i.vpE)(f),m=!1,(0,i.j7q)(g)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:w,id:Kn.name,type:"component",source:"",ctx:e}),w}function Fn(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("ThreadsView",o,[]);var l=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return _(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}_(c,"fulfilled"),_(r,"rejected"),_(a,"step"),a((o=o.apply(e,t||[])).next())}))};const p=(0,r.getClient)(),d=(0,c.mN)(),f=new v.NotificationClient(p);let h,m,g,{id:w}=t,{notifications:$}=t,b=0;function y(){d.navigate({itemId:void 0})}function G(e){return l(this,void 0,void 0,(function*(){yield p.createDoc(I.class.Comment,h.space,{replyOf:(0,u.getFullRef)(h._id,h._class),message:e}),void 0!==$&&(yield f.readNow($,h._id))}))}function L(){void 0!==h&&f.scrollHandler(m,$,b,!0,h._id)}_(y,"close"),_(G,"addMessage"),(0,s.beforeUpdate)((()=>l(void 0,void 0,void 0,(function*(){m&&$&&f.before(m,$,null==h?void 0:h._id,!0)})))),(0,s.afterUpdate)((()=>{f.initScroll(m,b,!0),L()})),_(L,"scrollHandler");const j=["id","notifications"];function C(e){i.VnY[e?"unshift":"push"]((()=>{m=e,n(2,m)}))}Object.keys(t).forEach((e=>{~j.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ThreadsView> was created with unknown prop '${e}'`)})),_(C,"div3_binding");const k=_((e=>G(e.detail)),"message_handler");return e.$$set=e=>{"id"in e&&n(6,w=e.id),"notifications"in e&&n(0,$=e.notifications)},e.$capture_state=()=>({__awaiter:l,Ref:u.Ref,getFullRef:u.getFullRef,IconClose:c.bM,Label:c.__,getRouter:c.mN,getClient:r.getClient,NotificationClient:v.NotificationClient,chunter:I,ChannelSeparator:Mn,Comments:Nn,MsgView:gn,ReferenceInput:Xe,afterUpdate:s.afterUpdate,beforeUpdate:s.beforeUpdate,client:p,router:d,notificationClient:f,id:w,notifications:$,message:h,div:m,messageLastRead:b,lq:g,close:y,addMessage:G,scrollHandler:L}),e.$inject_state=e=>{"__awaiter"in e&&n(11,l=e.__awaiter),"id"in e&&n(6,w=e.id),"notifications"in e&&n(0,$=e.notifications),"message"in e&&n(1,h=e.message),"div"in e&&n(2,m=e.div),"messageLastRead"in e&&(b=e.messageLastRead),"lq"in e&&n(7,g=e.lq)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{199&e.$$.dirty&&n(7,g=p.query(g,I.class.Message,{_id:w},(e=>l(void 0,void 0,void 0,(function*(){var t,o;n(1,h=e[0]),f.setAutoscroll(m),b=0,void 0!==(null===(t=null==$?void 0:$.objectLastReads)||void 0===t?void 0:t.get)&&(b=null!==(o=$.objectLastReads.get(h._id))&&void 0!==o?o:0)})))))},[$,h,m,y,G,L,w,g,C,k]}_(Xn,"create_if_block"),_(Kn,"create_fragment"),_(Fn,"instance");var qn=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Fn,Kn,i.N8,{id:6,notifications:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ThreadsView",options:e,id:Kn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[6]||"id"in n||console.warn("<ThreadsView> was created without expected prop 'id'"),void 0!==t[0]||"notifications"in n||console.warn("<ThreadsView> was created without expected prop 'notifications'")}get id(){throw new Error("<ThreadsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<ThreadsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<ThreadsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<ThreadsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(qn,"ThreadsView");var Qn=qn,Jn="src/components/UserSpaceInfo.svelte";function eo(e){let t,n,o,s,c,r,a,l,u=e[1].map(no).slice(0,2).join(", ")+(e[1].length>2?` and ${e[1].length-2} more.`:"");const p={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("img"),c=(0,i.DhX)(),r=(0,i.bGB)("div"),a=(0,i.bGB)("div"),l=(0,i.fLW)(u),(0,i.LGW)(n,"class","img svelte-o79fsc"),(0,i.czc)(n,"width",e[3]+"px"),(0,i.czc)(n,"height",e[3]+"px"),(0,i.Jn4)(n.src,o=e[2].avatar)||(0,i.LGW)(n,"src",o),(0,i.LGW)(n,"alt",s="avatar"),(0,i.vjr)(n,Jn,45,6,1433),(0,i.czc)(t,"width",e[3]+"px"),(0,i.czc)(t,"height",e[3]+"px"),(0,i.vjr)(t,Jn,44,4,1378),(0,i.LGW)(a,"class","title svelte-o79fsc"),(0,i.VHj)(a,"header",e[0]),(0,i.VHj)(a,"item",!e[0]),(0,i.vjr)(a,Jn,48,6,1572),(0,i.LGW)(r,"class","caption svelte-o79fsc"),(0,i.vjr)(r,Jn,47,4,1544)}),"create"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n),(0,i.DsI)(e,c,o),(0,i.DsI)(e,r,o),(0,i.gOb)(r,a),(0,i.gOb)(a,l)}),"mount"),p:_((function(e,s){8&s&&(0,i.czc)(n,"width",e[3]+"px"),8&s&&(0,i.czc)(n,"height",e[3]+"px"),4&s&&!(0,i.Jn4)(n.src,o=e[2].avatar)&&(0,i.LGW)(n,"src",o),8&s&&(0,i.czc)(t,"width",e[3]+"px"),8&s&&(0,i.czc)(t,"height",e[3]+"px"),2&s&&u!==(u=e[1].map(no).slice(0,2).join(", ")+(e[1].length>2?` and ${e[1].length-2} more.`:""))&&(0,i.Lob)(l,u),1&s&&(0,i.VHj)(a,"header",e[0]),1&s&&(0,i.VHj)(a,"item",!e[0])}),"update"),d:_((function(e){e&&(0,i.GlD)(t),e&&(0,i.GlD)(c),e&&(0,i.GlD)(r)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:p,id:eo.name,type:"if",source:"(44:2) {#if user}",ctx:e}),p}function to(e){let t,n=e[2]&&eo(e);const o={c:_((function(){t=(0,i.bGB)("div"),n&&n.c(),(0,i.LGW)(t,"class","user-container svelte-o79fsc"),(0,i.vjr)(t,Jn,42,0,1332)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,o){(0,i.DsI)(e,t,o),n&&n.m(t,null)}),"mount"),p:_((function(e,[o]){e[2]?n?n.p(e,o):(n=eo(e),n.c(),n.m(t,null)):n&&(n.d(1),n=null)}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t),n&&n.d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:to.name,type:"component",source:"",ctx:e}),o}function no(e){const t=e.name.trim();return t.length>0?t:e.email}function oo(e,t,n){let o,{$$slots:s={},$$scope:c}=t;(0,i.KXV)("UserSpaceInfo",s,[]);let{space:a}=t,{headerSize:l=!1}=t;const u=(0,r.getClient)();let f,h,m=[],g=[];const v=["space","headerSize"];return Object.keys(t).forEach((e=>{~v.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<UserSpaceInfo> was created with unknown prop '${e}'`)})),e.$$set=e=>{"space"in e&&n(4,a=e.space),"headerSize"in e&&n(0,l=e.headerSize)},e.$capture_state=()=>({core:p(),QueryUpdater:d.QueryUpdater,getClient:r.getClient,space:a,headerSize:l,client:u,members:m,accounts:g,memberQuery:f,user:h,userName:no,size:o}),e.$inject_state=e=>{"space"in e&&n(4,a=e.space),"headerSize"in e&&n(0,l=e.headerSize),"members"in e&&n(5,m=e.members),"accounts"in e&&n(1,g=e.accounts),"memberQuery"in e&&n(6,f=e.memberQuery),"user"in e&&n(2,h=e.user),"size"in e&&n(3,o=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(3,o=l?36:24),16&e.$$.dirty&&a&&n(5,m=a.members.filter((e=>e!==u.accountId()))),112&e.$$.dirty&&a&&n(6,f=u.query(f,p().class.Account,{_id:{$in:m}},(e=>{n(1,g=e)}))),2&e.$$.dirty&&n(2,h=g[0])},[l,g,h,o,a,m,f]}_(eo,"create_if_block"),_(to,"create_fragment"),_(no,"userName"),_(oo,"instance");var io=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,oo,to,i.N8,{space:4,headerSize:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"UserSpaceInfo",options:e,id:to.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[4]||"space"in n||console.warn("<UserSpaceInfo> was created without expected prop 'space'")}get space(){throw new Error("<UserSpaceInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set space(e){throw new Error("<UserSpaceInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get headerSize(){throw new Error("<UserSpaceInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set headerSize(e){throw new Error("<UserSpaceInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(io,"UserSpaceInfo");var so=io,co="src/components/SpaceItem.svelte";function ro(e){let t,n,o,s;const c=[lo,ao],r=[];function a(e,t){return e[0].direct?0:1}_(a,"select_block_type"),t=a(e),n=r[t]=c[t](e);const l={c:_((function(){n.c(),o=(0,i.cSb)()}),"create"),m:_((function(e,n){r[t].m(e,n),(0,i.DsI)(e,o,n),s=!0}),"mount"),p:_((function(e,s){let l=t;t=a(e),t===l?r[t].p(e,s):((0,i.dvw)(),(0,i.etI)(r[l],1,1,(()=>{r[l]=null})),(0,i.gbL)(),n=r[t],n?n.p(e,s):(n=r[t]=c[t](e),n.c()),(0,i.Ui)(n,1),n.m(o.parentNode,o))}),"update"),i:_((function(e){s||((0,i.Ui)(n),s=!0)}),"intro"),o:_((function(e){(0,i.etI)(n),s=!1}),"outro"),d:_((function(e){r[t].d(e),e&&(0,i.GlD)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:l,id:ro.name,type:"if",source:"(22:0) {#if space}",ctx:e}),l}function ao(e){let t,n,o,s,r,a,l,u=e[0].name+"";o=new c.JO({props:{icon:e[0].private?I.icon.Lock:I.icon.Hashtag,size:16},$$inline:!0});const p={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.bGB)("span"),a=(0,i.fLW)(u),(0,i.LGW)(n,"class","icon svelte-1bybztv"),(0,i.vjr)(n,co,26,6,889),(0,i.vjr)(r,co,29,6,1018),(0,i.LGW)(t,"class","flex"),(0,i.vjr)(t,co,25,4,864)}),"create"),m:_((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),(0,i.gOb)(r,a),l=!0}),"mount"),p:_((function(e,t){const n={};1&t&&(n.icon=e[0].private?I.icon.Lock:I.icon.Hashtag),o.$set(n),(!l||1&t)&&u!==(u=e[0].name+"")&&(0,i.Lob)(a,u)}),"update"),i:_((function(e){l||((0,i.Ui)(o.$$.fragment,e),l=!0)}),"intro"),o:_((function(e){(0,i.etI)(o.$$.fragment,e),l=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:p,id:ao.name,type:"else",source:"(25:2) {:else}",ctx:e}),p}function lo(e){let t,n;t=new so({props:{space:e[0]},$$inline:!0});const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,n){const o={};1&n&&(o.space=e[0]),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:lo.name,type:"if",source:"(23:2) {#if space.direct}",ctx:e}),o}function uo(e){let t,n,o=e[0]&&ro(e);const s={c:_((function(){o&&o.c(),t=(0,i.cSb)()}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,s){o&&o.m(e,s),(0,i.DsI)(e,t,s),n=!0}),"mount"),p:_((function(e,[n]){e[0]?o?(o.p(e,n),1&n&&(0,i.Ui)(o,1)):(o=ro(e),o.c(),(0,i.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,i.dvw)(),(0,i.etI)(o,1,1,(()=>{o=null})),(0,i.gbL)())}),"update"),i:_((function(e){n||((0,i.Ui)(o),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(o),n=!1}),"outro"),d:_((function(e){o&&o.d(e),e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:uo.name,type:"component",source:"",ctx:e}),s}function po(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("SpaceItem",o,[]);let{space:r}=t;const a=["space"];return Object.keys(t).forEach((e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<SpaceItem> was created with unknown prop '${e}'`)})),e.$$set=e=>{"space"in e&&n(0,r=e.space)},e.$capture_state=()=>({Icon:c.JO,UserSpaceInfo:so,space:r,chunter:I}),e.$inject_state=e=>{"space"in e&&n(0,r=e.space)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r]}_(ro,"create_if_block"),_(ao,"create_else_block"),_(lo,"create_if_block_1"),_(uo,"create_fragment"),_(po,"instance");var fo=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,po,uo,i.N8,{space:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"SpaceItem",options:e,id:uo.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"space"in n||console.warn("<SpaceItem> was created without expected prop 'space'")}get space(){throw new Error("<SpaceItem>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set space(e){throw new Error("<SpaceItem>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(fo,"SpaceItem");var ho=fo,mo="src/components/SpaceHeader.svelte";function go(e){let t,n,o,s;const c=[wo,vo],r=[];function a(e,t){return e[0].direct?0:1}_(a,"select_block_type"),t=a(e),n=r[t]=c[t](e);const l={c:_((function(){n.c(),o=(0,i.cSb)()}),"create"),m:_((function(e,n){r[t].m(e,n),(0,i.DsI)(e,o,n),s=!0}),"mount"),p:_((function(e,s){let l=t;t=a(e),t===l?r[t].p(e,s):((0,i.dvw)(),(0,i.etI)(r[l],1,1,(()=>{r[l]=null})),(0,i.gbL)(),n=r[t],n?n.p(e,s):(n=r[t]=c[t](e),n.c()),(0,i.Ui)(n,1),n.m(o.parentNode,o))}),"update"),i:_((function(e){s||((0,i.Ui)(n),s=!0)}),"intro"),o:_((function(e){(0,i.etI)(n),s=!1}),"outro"),d:_((function(e){r[t].d(e),e&&(0,i.GlD)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:l,id:go.name,type:"if",source:"(22:0) {#if space}",ctx:e}),l}function vo(e){let t,n,o,s,r,a,l,u,p,d=e[0].name+"",f=e[0].description+"";o=new c.JO({props:{icon:e[0].private?I.icon.Lock:I.icon.Hashtag,size:16},$$inline:!0});const h={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("span"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.fLW)(d),a=(0,i.DhX)(),l=(0,i.bGB)("div"),u=(0,i.fLW)(f),(0,i.LGW)(n,"class","svelte-b5rwq6"),(0,i.vjr)(n,mo,26,6,913),(0,i.LGW)(t,"class","dotted-text title svelte-b5rwq6"),(0,i.vjr)(t,mo,25,4,875),(0,i.LGW)(l,"class","dotted-text subtitle svelte-b5rwq6"),(0,i.vjr)(l,mo,31,4,1059)}),"create"),m:_((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),(0,i.DsI)(e,a,c),(0,i.DsI)(e,l,c),(0,i.gOb)(l,u),p=!0}),"mount"),p:_((function(e,t){const n={};1&t&&(n.icon=e[0].private?I.icon.Lock:I.icon.Hashtag),o.$set(n),(!p||1&t)&&d!==(d=e[0].name+"")&&(0,i.Lob)(r,d),(!p||1&t)&&f!==(f=e[0].description+"")&&(0,i.Lob)(u,f)}),"update"),i:_((function(e){p||((0,i.Ui)(o.$$.fragment,e),p=!0)}),"intro"),o:_((function(e){(0,i.etI)(o.$$.fragment,e),p=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o),e&&(0,i.GlD)(a),e&&(0,i.GlD)(l)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:h,id:vo.name,type:"else",source:"(25:2) {:else}",ctx:e}),h}function wo(e){let t,n;t=new so({props:{space:e[0],headerSize:!0},$$inline:!0});const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,n){const o={};1&n&&(o.space=e[0]),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:wo.name,type:"if",source:"(23:2) {#if space.direct}",ctx:e}),o}function $o(e){let t,n,o=e[0]&&go(e);const s={c:_((function(){o&&o.c(),t=(0,i.cSb)()}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,s){o&&o.m(e,s),(0,i.DsI)(e,t,s),n=!0}),"mount"),p:_((function(e,[n]){e[0]?o?(o.p(e,n),1&n&&(0,i.Ui)(o,1)):(o=go(e),o.c(),(0,i.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,i.dvw)(),(0,i.etI)(o,1,1,(()=>{o=null})),(0,i.gbL)())}),"update"),i:_((function(e){n||((0,i.Ui)(o),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(o),n=!1}),"outro"),d:_((function(e){o&&o.d(e),e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:$o.name,type:"component",source:"",ctx:e}),s}function bo(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("SpaceHeader",o,[]);let{space:r}=t;const a=["space"];return Object.keys(t).forEach((e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<SpaceHeader> was created with unknown prop '${e}'`)})),e.$$set=e=>{"space"in e&&n(0,r=e.space)},e.$capture_state=()=>({Icon:c.JO,space:r,chunter:I,UserSpaceInfo:so}),e.$inject_state=e=>{"space"in e&&n(0,r=e.space)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r]}_(go,"create_if_block"),_(vo,"create_else_block"),_(wo,"create_if_block_1"),_($o,"create_fragment"),_(bo,"instance");var yo=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,bo,$o,i.N8,{space:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"SpaceHeader",options:e,id:$o.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"space"in n||console.warn("<SpaceHeader> was created without expected prop 'space'")}get space(){throw new Error("<SpaceHeader>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set space(e){throw new Error("<SpaceHeader>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(yo,"SpaceHeader");var Go=yo,Lo="src/components/presenters/Oembed.svelte";function jo(e){let t,n,o,s,c,r,a,l;const u=[ko,Co],p=[];function d(e,t){return e[5]?0:1}_(d,"select_block_type"),r=d(e),a=p[r]=u[r](e);const f={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.fLW)("Author: "),o=(0,i.fLW)(e[2]),s=(0,i.DhX)(),c=(0,i.bGB)("div"),a.c(),(0,i.LGW)(t,"class","author"),(0,i.vjr)(t,Lo,55,2,1829),(0,i.LGW)(c,"class","emb-video svelte-1hesozp"),(0,i.vjr)(c,Lo,59,2,1883)}),"create"),m:_((function(e,a){(0,i.DsI)(e,t,a),(0,i.gOb)(t,n),(0,i.gOb)(t,o),(0,i.DsI)(e,s,a),(0,i.DsI)(e,c,a),p[r].m(c,null),l=!0}),"mount"),p:_((function(e,t){(!l||4&t)&&(0,i.Lob)(o,e[2]);let n=r;r=d(e),r===n?p[r].p(e,t):((0,i.dvw)(),(0,i.etI)(p[n],1,1,(()=>{p[n]=null})),(0,i.gbL)(),a=p[r],a?a.p(e,t):(a=p[r]=u[r](e),a.c()),(0,i.Ui)(a,1),a.m(c,null))}),"update"),i:_((function(e){l||((0,i.Ui)(a),l=!0)}),"intro"),o:_((function(e){(0,i.etI)(a),l=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),e&&(0,i.GlD)(s),e&&(0,i.GlD)(c),p[r].d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:f,id:jo.name,type:"if",source:"(55:0) {#if thumbnail}",ctx:e}),f}function Co(e){let t,n,o,s,c,r,a,l,u;r=new ie({props:{size:128,fill:"var(--theme-caption-color)"},$$inline:!0});const p={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("img"),s=(0,i.DhX)(),c=(0,i.bGB)("div"),(0,i.YCL)(r.$$.fragment),(0,i.LGW)(n,"width","400px"),(0,i.Jn4)(n.src,o=e[3])||(0,i.LGW)(n,"src",o),(0,i.LGW)(n,"alt",e[1]),(0,i.vjr)(n,Lo,66,8,2057),(0,i.vjr)(t,Lo,65,6,2043),(0,i.LGW)(c,"class","play-btn svelte-1hesozp"),(0,i.vjr)(c,Lo,68,6,2126)}),"create"),m:_((function(o,p){(0,i.DsI)(o,t,p),(0,i.gOb)(t,n),(0,i.DsI)(o,s,p),(0,i.DsI)(o,c,p),(0,i.yef)(r,c,null),a=!0,l||(u=(0,i.iVk)(c,"click",e[8],!1,!1,!1),l=!0)}),"mount"),p:_((function(e,t){(!a||8&t&&!(0,i.Jn4)(n.src,o=e[3]))&&(0,i.LGW)(n,"src",o),(!a||2&t)&&(0,i.LGW)(n,"alt",e[1])}),"update"),i:_((function(e){a||((0,i.Ui)(r.$$.fragment,e),a=!0)}),"intro"),o:_((function(e){(0,i.etI)(r.$$.fragment,e),a=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),e&&(0,i.GlD)(s),e&&(0,i.GlD)(c),(0,i.vpE)(r),l=!1,u()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:p,id:Co.name,type:"else",source:"(65:4) {:else}",ctx:e}),p}function ko(e){let t;const n={c:_((function(){t=(0,i.bGB)("div"),(0,i.czc)(t,"width","$"+xo+"px"),(0,i.czc)(t,"height",e[6]+"px"),(0,i.vjr)(t,Lo,61,6,1932)}),"create"),m:_((function(n,o){(0,i.DsI)(n,t,o),t.innerHTML=e[4]}),"mount"),p:_((function(e,n){16&n&&(t.innerHTML=e[4]),64&n&&(0,i.czc)(t,"height",e[6]+"px")}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:n,id:ko.name,type:"if",source:"(61:4) {#if embedded}",ctx:e}),n}function _o(e){let t,n,o,s,r,a,l,u,p,d,f,h,m,g,v;h=new c.A({props:{size:24,icon:c.Cr,direction:"left"},$$inline:!0});let w=e[3]&&jo(e);const $={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o=(0,i.bGB)("a"),s=(0,i.fLW)(e[0]),a=(0,i.DhX)(),l=(0,i.bGB)("br"),u=(0,i.DhX)(),p=(0,i.bGB)("span"),d=(0,i.fLW)(e[1]),f=(0,i.DhX)(),(0,i.YCL)(h.$$.fragment),m=(0,i.DhX)(),w&&w.c(),g=(0,i.cSb)(),(0,i.LGW)(o,"href",r=e[0].toString()),(0,i.vjr)(o,Lo,47,4,1658),(0,i.vjr)(l,Lo,48,4,1699),(0,i.LGW)(p,"class","svelte-1hesozp"),(0,i.vjr)(p,Lo,49,4,1710),(0,i.vjr)(n,Lo,46,2,1648),(0,i.LGW)(t,"class","header svelte-1hesozp"),(0,i.vjr)(t,Lo,45,0,1625)}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.gOb)(n,o),(0,i.gOb)(o,s),(0,i.gOb)(n,a),(0,i.gOb)(n,l),(0,i.gOb)(n,u),(0,i.gOb)(n,p),(0,i.gOb)(p,d),(0,i.gOb)(t,f),(0,i.yef)(h,t,null),(0,i.DsI)(e,m,c),w&&w.m(e,c),(0,i.DsI)(e,g,c),v=!0}),"mount"),p:_((function(e,[t]){(!v||1&t)&&(0,i.Lob)(s,e[0]),(!v||1&t&&r!==(r=e[0].toString()))&&(0,i.LGW)(o,"href",r),(!v||2&t)&&(0,i.Lob)(d,e[1]),e[3]?w?(w.p(e,t),8&t&&(0,i.Ui)(w,1)):(w=jo(e),w.c(),(0,i.Ui)(w,1),w.m(g.parentNode,g)):w&&((0,i.dvw)(),(0,i.etI)(w,1,1,(()=>{w=null})),(0,i.gbL)())}),"update"),i:_((function(e){v||((0,i.Ui)(h.$$.fragment,e),(0,i.Ui)(w),v=!0)}),"intro"),o:_((function(e){(0,i.etI)(h.$$.fragment,e),(0,i.etI)(w),v=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(h),e&&(0,i.GlD)(m),w&&w.d(e),e&&(0,i.GlD)(g)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:$,id:_o.name,type:"component",source:"",ctx:e}),$}_(jo,"create_if_block"),_(Co,"create_else_block"),_(ko,"create_if_block_1"),_(_o,"create_fragment");var xo=400;function Io(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Oembed",o,[]);let r,a,{href:l}=t,{oembedHost:u=""}=t,p="",d="",f="",h=!1,m=0;function g(e){const t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(r=JSON.parse(t.responseText),n(6,m=r.height/r.width*xo),n(2,d=r.author_name),n(1,p=r.title),n(3,a=r.thumbnail_url),n(4,f=r.html))};const o=`${u}?url=${e}&format=json&maxwidth=400&maxheight=400`;t.open("GET",o,!0),t.send(null)}_(g,"getMetaInfo");const v=["href","oembedHost"];Object.keys(t).forEach((e=>{~v.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Oembed> was created with unknown prop '${e}'`)}));const w=_((()=>{n(5,h=!0)}),"click_handler");return e.$$set=e=>{"href"in e&&n(0,l=e.href),"oembedHost"in e&&n(7,u=e.oembedHost)},e.$capture_state=()=>({ActionIcon:c.A,IconMoreV:c.Cr,Send:ie,href:l,oembedHost:u,videoMeta:r,title:p,author:d,thumbnail:a,html:f,embedded:h,newWidth:xo,newHeight:m,getMetaInfo:g}),e.$inject_state=e=>{"href"in e&&n(0,l=e.href),"oembedHost"in e&&n(7,u=e.oembedHost),"videoMeta"in e&&(r=e.videoMeta),"title"in e&&n(1,p=e.title),"author"in e&&n(2,d=e.author),"thumbnail"in e&&n(3,a=e.thumbnail),"html"in e&&n(4,f=e.html),"embedded"in e&&n(5,h=e.embedded),"newHeight"in e&&n(6,m=e.newHeight)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&g(l)},[l,p,d,a,f,h,m,u,w]}_(Io,"instance");var So=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Io,_o,i.N8,{href:0,oembedHost:7}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Oembed",options:e,id:_o.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"href"in n||console.warn("<Oembed> was created without expected prop 'href'")}get href(){throw new Error("<Oembed>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set href(e){throw new Error("<Oembed>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get oembedHost(){throw new Error("<Oembed>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set oembedHost(e){throw new Error("<Oembed>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(So,"Oembed");var Wo=So,Eo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE0UlEQVR4nKSXW6hV1RfGf3Ot5fn7724PWZFQR4uEgiwiX+yhnurFKMrktH3pwcqiiF6iyDRSosQsfCsozO6ESJBEEZVgQYEURFEZYb2IXRQlL3uvGWPub+7GnmeJZgPm2WfPNdf4xuUbY8zdUMimTZvTZwgQIxUQtUxmAVcBVwCTwNna/x3YBewEvgT+0H7QarP+Xm9qDC90gUtqYKD/rwOWAdcDF5RGF/IL8CHwMvBRh64xI0IHuLf6GuBJAXsZHAO8Lr5/ADwKfA7j0cxGhA5wdOgxrVrGRCkJx4lA1Pmg82bsai2vPxkROsCNF68At0lRq72Tkb6MsPUmcIcMGkWiceA5RG8Bi4GjwAznRVeIY2F8loFzBukyh/4H3CydKaqVDmSQDQI/IvDDwD4B51T0nReZL1F7fZ3J5/dJxwzpXCyMgTDTn8zQm4B7ZW02zAg0D7gFeF/7jd4JLkVBe43OGPluBS4GHnZOHhXGYmHWjRScCjzniJYNsDLaC7yjtQS4HPhC5bZP584A5qhHfAO85tLhSzHn/nmV6sFGG3dKQd/lzfb3y7tGz97Q6hJrQFscJ/I7+7O3jh9zhLnBPJ0A7nbe48I6GUKIrgxrl4KqWP6Zf2fS8ceT/S7Dti+LgEtdnqJj7oGJiaHhVrMxDonW603ZZ9vrTaUFsR3uxT7EwajJhFQcB0RACicNc5H1gWeB+12YchrWAw9mkpY9/Hii/pIJ/jTwkNOdsVIKFrq85TCbxRvd3slKLtWNKsfa7ZksrJQjb0DQZNsVwiiXJyutcaht25+BHwoMk8lKI5bCWxunMcZhEv9t+It3Ql3XpvdPffcGzKqKPp8fzBwSKP6X8A/RYqRtUxBndjxuKuWmlNkxxv9no4p7wgmJ3gkQLI4GPjvrc8cOV+p0uBKxz3PVRkPHyD5RcIFFM2IucH6BYbLXvnznDMANiqWuKkrFJwKOY/3txVTNWN9a/j/Wlcvn25rQPcCLYu9EnnSlEcaSMP2Kkrl1RFV2n5uS3oBP7OBWd3GIenGGBow9u0SKRq00Axp4QVPfyo8oje8CZ/6TktE5w9xa9fuH7Ca7wynZ6obKfOAzjeW5rscfS/Kzee4uOF/72bichh0hsLOqa3M2td1s3UGN3RuBQ8BZwBPAVzJmbdumKKVKraqRZ7b3lKbi13pnVgGOi8R6i14VQl3FGLcoCkHkM6D31L+zYafolrynqlL4alOwe3d6lmeI3RGu1NVrUAwf3AzYEWOKcrI/VFVlB5crb9YXFgAPqIc/Avykcv0UeCnGZFQK5dKlY6F/G/jL5dnTM7PFMJarzYdUGjHGWmFbIev7moTnAGv6/b7l/0Lg2tyms8Lt26cpP9RxSY3O+xXCSpMyhUdz3nL4ArBS/8/RtWlJ0zTn6YWLVJJJli2bGvV83/s7iJmv9iuF0QhzbA7kWb1aRHwGuAx4XZeKo0NP4nwIe8pRvXnzq7Rt7PI6Yxif1rmr2jBP6ddJGDOi1sEbgO+1f5oY3STyd3Qe7QVXqrkZ/Shd6xxZE6ZhV0wbtzHnahtwNfC42J0NOZ6cLvBfgVW6KW8bVk2c9gO1KjeUwoH7YbFKpWUhXAv8ZheFonXHwaC1wWMEXaOzC2R8/mEzyJHzDv8dAAD//yQIvFdmJw8/AAAAAElFTkSuQmCC",Oo="src/components/presenters/Github_IssuePreview.svelte";function Do(e){let t,n;const o={c:_((function(){t=(0,i.bGB)("a"),n=(0,i.fLW)(e[2]),(0,i.LGW)(t,"href",e[2]),(0,i.vjr)(t,Oo,61,2,2118)}),"create"),m:_((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:_((function(e,o){4&o&&(0,i.Lob)(n,e[2]),4&o&&(0,i.LGW)(t,"href",e[2])}),"update"),i:i.ZTd,o:i.ZTd,d:_((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Do.name,type:"else",source:"(61:0) {:else}",ctx:e}),o}function zo(e){let t,n,o,s,r,a,l,u,p,d,f,h,m,g,v,w,$,b,y,G,L,j,C,k,x,I=e[3].title+"";d=new c.A({props:{size:24,icon:c.Cr,direction:"left"},$$inline:!0}),m=new c.av({props:{message:e[3].body},$$inline:!0});let S=e[3].assignee&&Bo(e);const W={c:_((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o=(0,i.bGB)("span"),s=(0,i.bGB)("a"),r=(0,i.fLW)("#"),a=(0,i.fLW)(e[1]),l=(0,i.DhX)(),u=(0,i.fLW)(I),p=(0,i.DhX)(),(0,i.YCL)(d.$$.fragment),f=(0,i.DhX)(),h=(0,i.bGB)("div"),(0,i.YCL)(m.$$.fragment),g=(0,i.DhX)(),v=(0,i.bGB)("div"),S&&S.c(),w=(0,i.DhX)(),$=(0,i.bGB)("div"),b=(0,i.bGB)("span"),y=(0,i.bGB)("a"),G=(0,i.bGB)("img"),j=(0,i.DhX)(),C=(0,i.bGB)("div"),k=(0,i.fLW)(e[0]),(0,i.LGW)(s,"href",e[2]),(0,i.vjr)(s,Oo,39,8,1471),(0,i.LGW)(o,"class","svelte-190xpg7"),(0,i.vjr)(o,Oo,38,6,1456),(0,i.LGW)(n,"class","taskWithId svelte-190xpg7"),(0,i.vjr)(n,Oo,37,4,1425),(0,i.LGW)(t,"class","header svelte-190xpg7"),(0,i.vjr)(t,Oo,36,2,1400),(0,i.LGW)(h,"class","issue-body svelte-190xpg7"),(0,i.vjr)(h,Oo,44,2,1615),(0,i.Jn4)(G.src,L=Eo)||(0,i.LGW)(G,"src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE0UlEQVR4nKSXW6hV1RfGf3Ot5fn7724PWZFQR4uEgiwiX+yhnurFKMrktH3pwcqiiF6iyDRSosQsfCsozO6ESJBEEZVgQYEURFEZYb2IXRQlL3uvGWPub+7GnmeJZgPm2WfPNdf4xuUbY8zdUMimTZvTZwgQIxUQtUxmAVcBVwCTwNna/x3YBewEvgT+0H7QarP+Xm9qDC90gUtqYKD/rwOWAdcDF5RGF/IL8CHwMvBRh64xI0IHuLf6GuBJAXsZHAO8Lr5/ADwKfA7j0cxGhA5wdOgxrVrGRCkJx4lA1Pmg82bsai2vPxkROsCNF68At0lRq72Tkb6MsPUmcIcMGkWiceA5RG8Bi4GjwAznRVeIY2F8loFzBukyh/4H3CydKaqVDmSQDQI/IvDDwD4B51T0nReZL1F7fZ3J5/dJxwzpXCyMgTDTn8zQm4B7ZW02zAg0D7gFeF/7jd4JLkVBe43OGPluBS4GHnZOHhXGYmHWjRScCjzniJYNsDLaC7yjtQS4HPhC5bZP584A5qhHfAO85tLhSzHn/nmV6sFGG3dKQd/lzfb3y7tGz97Q6hJrQFscJ/I7+7O3jh9zhLnBPJ0A7nbe48I6GUKIrgxrl4KqWP6Zf2fS8ceT/S7Dti+LgEtdnqJj7oGJiaHhVrMxDonW603ZZ9vrTaUFsR3uxT7EwajJhFQcB0RACicNc5H1gWeB+12YchrWAw9mkpY9/Hii/pIJ/jTwkNOdsVIKFrq85TCbxRvd3slKLtWNKsfa7ZksrJQjb0DQZNsVwiiXJyutcaht25+BHwoMk8lKI5bCWxunMcZhEv9t+It3Ql3XpvdPffcGzKqKPp8fzBwSKP6X8A/RYqRtUxBndjxuKuWmlNkxxv9no4p7wgmJ3gkQLI4GPjvrc8cOV+p0uBKxz3PVRkPHyD5RcIFFM2IucH6BYbLXvnznDMANiqWuKkrFJwKOY/3txVTNWN9a/j/Wlcvn25rQPcCLYu9EnnSlEcaSMP2Kkrl1RFV2n5uS3oBP7OBWd3GIenGGBow9u0SKRq00Axp4QVPfyo8oje8CZ/6TktE5w9xa9fuH7Ca7wynZ6obKfOAzjeW5rscfS/Kzee4uOF/72bichh0hsLOqa3M2td1s3UGN3RuBQ8BZwBPAVzJmbdumKKVKraqRZ7b3lKbi13pnVgGOi8R6i14VQl3FGLcoCkHkM6D31L+zYafolrynqlL4alOwe3d6lmeI3RGu1NVrUAwf3AzYEWOKcrI/VFVlB5crb9YXFgAPqIc/Avykcv0UeCnGZFQK5dKlY6F/G/jL5dnTM7PFMJarzYdUGjHGWmFbIev7moTnAGv6/b7l/0Lg2tyms8Lt26cpP9RxSY3O+xXCSpMyhUdz3nL4ArBS/8/RtWlJ0zTn6YWLVJJJli2bGvV83/s7iJmv9iuF0QhzbA7kWb1aRHwGuAx4XZeKo0NP4nwIe8pRvXnzq7Rt7PI6Yxif1rmr2jBP6ddJGDOi1sEbgO+1f5oY3STyd3Qe7QVXqrkZ/Shd6xxZE6ZhV0wbtzHnahtwNfC42J0NOZ6cLvBfgVW6KW8bVk2c9gO1KjeUwoH7YbFKpWUhXAv8ZheFonXHwaC1wWMEXaOzC2R8/mEzyJHzDv8dAAD//yQIvFdmJw8/AAAAAElFTkSuQmCC"),(0,i.LGW)(G,"width","16"),(0,i.LGW)(G,"height","16"),(0,i.LGW)(G,"alt",e[2]),(0,i.vjr)(G,Oo,54,10,1951),(0,i.czc)(C,"margin-left","5px"),(0,i.vjr)(C,Oo,55,10,2016),(0,i.LGW)(y,"class","flex"),(0,i.LGW)(y,"href",e[2]),(0,i.vjr)(y,Oo,53,8,1917),(0,i.vjr)(b,Oo,52,6,1902),(0,i.LGW)($,"class","actions svelte-190xpg7"),(0,i.vjr)($,Oo,51,4,1874),(0,i.LGW)(v,"class","footer svelte-190xpg7"),(0,i.vjr)(v,Oo,47,2,1694)}),"create"),m:_((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.gOb)(n,o),(0,i.gOb)(o,s),(0,i.gOb)(s,r),(0,i.gOb)(s,a),(0,i.gOb)(s,l),(0,i.gOb)(s,u),(0,i.gOb)(t,p),(0,i.yef)(d,t,null),(0,i.DsI)(e,f,c),(0,i.DsI)(e,h,c),(0,i.yef)(m,h,null),(0,i.DsI)(e,g,c),(0,i.DsI)(e,v,c),S&&S.m(v,null),(0,i.gOb)(v,w),(0,i.gOb)(v,$),(0,i.gOb)($,b),(0,i.gOb)(b,y),(0,i.gOb)(y,G),(0,i.gOb)(y,j),(0,i.gOb)(y,C),(0,i.gOb)(C,k),x=!0}),"mount"),p:_((function(e,t){(!x||2&t)&&(0,i.Lob)(a,e[1]),(!x||8&t)&&I!==(I=e[3].title+"")&&(0,i.Lob)(u,I),(!x||4&t)&&(0,i.LGW)(s,"href",e[2]);const n={};8&t&&(n.message=e[3].body),m.$set(n),e[3].assignee?S?(S.p(e,t),8&t&&(0,i.Ui)(S,1)):(S=Bo(e),S.c(),(0,i.Ui)(S,1),S.m(v,w)):S&&((0,i.dvw)(),(0,i.etI)(S,1,1,(()=>{S=null})),(0,i.gbL)()),(!x||4&t)&&(0,i.LGW)(G,"alt",e[2]),(!x||1&t)&&(0,i.Lob)(k,e[0]),(!x||4&t)&&(0,i.LGW)(y,"href",e[2])}),"update"),i:_((function(e){x||((0,i.Ui)(d.$$.fragment,e),(0,i.Ui)(m.$$.fragment,e),(0,i.Ui)(S),x=!0)}),"intro"),o:_((function(e){(0,i.etI)(d.$$.fragment,e),(0,i.etI)(m.$$.fragment,e),(0,i.etI)(S),x=!1}),"outro"),d:_((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(d),e&&(0,i.GlD)(f),e&&(0,i.GlD)(h),(0,i.vpE)(m),e&&(0,i.GlD)(g),e&&(0,i.GlD)(v),S&&S.d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:W,id:zo.name,type:"if",source:"(36:0) {#if task}",ctx:e}),W}function Bo(e){let t,n;t=new c.ao({props:{user:{avatar:e[3].assignee.avatar_url,name:e[3].assignee.login,email:e[3].assignee.html_url}},$$inline:!0});const o={c:_((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:_((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:_((function(e,n){const o={};8&n&&(o.user={avatar:e[3].assignee.avatar_url,name:e[3].assignee.login,email:e[3].assignee.html_url}),t.$set(o)}),"update"),i:_((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:_((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:_((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Bo.name,type:"if",source:"(49:4) {#if task.assignee}",ctx:e}),o}function Ro(e){let t,n,o,s;const c=[zo,Do],r=[];function a(e,t){return e[3]?0:1}_(a,"select_block_type"),t=a(e),n=r[t]=c[t](e);const l={c:_((function(){n.c(),o=(0,i.cSb)()}),"create"),l:_((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:_((function(e,n){r[t].m(e,n),(0,i.DsI)(e,o,n),s=!0}),"mount"),p:_((function(e,[s]){let l=t;t=a(e),t===l?r[t].p(e,s):((0,i.dvw)(),(0,i.etI)(r[l],1,1,(()=>{r[l]=null})),(0,i.gbL)(),n=r[t],n?n.p(e,s):(n=r[t]=c[t](e),n.c()),(0,i.Ui)(n,1),n.m(o.parentNode,o))}),"update"),i:_((function(e){s||((0,i.Ui)(n),s=!0)}),"intro"),o:_((function(e){(0,i.etI)(n),s=!1}),"outro"),d:_((function(e){r[t].d(e),e&&(0,i.GlD)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:l,id:Ro.name,type:"component",source:"",ctx:e}),l}function Po(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Github_IssuePreview",o,[]);let r,{organization:a}=t,{project:l}=t,{issueNumber:u}=t,{href:p}=t;function d(e,t,o){const i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status&&n(3,r=JSON.parse(i.responseText))};const s=`https://api.github.com/repos/${e}/${t}/issues/${o}`;i.open("GET",s,!0),i.send(null)}_(d,"getInfo");const f=["organization","project","issueNumber","href"];return Object.keys(t).forEach((e=>{~f.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Github_IssuePreview> was created with unknown prop '${e}'`)})),e.$$set=e=>{"organization"in e&&n(4,a=e.organization),"project"in e&&n(0,l=e.project),"issueNumber"in e&&n(1,u=e.issueNumber),"href"in e&&n(2,p=e.href)},e.$capture_state=()=>({ActionIcon:c.A,IconMoreV:c.Cr,UserInfo:c.ao,MarkdownViewer:c.av,Github:Eo,organization:a,project:l,issueNumber:u,href:p,task:r,getInfo:d}),e.$inject_state=e=>{"organization"in e&&n(4,a=e.organization),"project"in e&&n(0,l=e.project),"issueNumber"in e&&n(1,u=e.issueNumber),"href"in e&&n(2,p=e.href),"task"in e&&n(3,r=e.task)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{19&e.$$.dirty&&d(a,l,u)},[l,u,p,r,a]}_(Do,"create_else_block"),_(zo,"create_if_block"),_(Bo,"create_if_block_1"),_(Ro,"create_fragment"),_(Po,"instance");var Zo=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Po,Ro,i.N8,{organization:4,project:0,issueNumber:1,href:2}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Github_IssuePreview",options:e,id:Ro.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[4]||"organization"in n||console.warn("<Github_IssuePreview> was created without expected prop 'organization'"),void 0!==t[0]||"project"in n||console.warn("<Github_IssuePreview> was created without expected prop 'project'"),void 0!==t[1]||"issueNumber"in n||console.warn("<Github_IssuePreview> was created without expected prop 'issueNumber'"),void 0!==t[2]||"href"in n||console.warn("<Github_IssuePreview> was created without expected prop 'href'")}get organization(){throw new Error("<Github_IssuePreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set organization(e){throw new Error("<Github_IssuePreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get project(){throw new Error("<Github_IssuePreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set project(e){throw new Error("<Github_IssuePreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get issueNumber(){throw new Error("<Github_IssuePreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set issueNumber(e){throw new Error("<Github_IssuePreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get href(){throw new Error("<Github_IssuePreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set href(e){throw new Error("<Github_IssuePreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};_(Zo,"Github_IssuePreview");var Mo=Zo,Yo=_((()=>x(void 0,null,(function*(){return(0,o.setResource)(I.component.CreateChannel,z),(0,o.setResource)(I.component.CreateMessage,xn),(0,o.setResource)(I.component.ChannelView,zn),(0,o.setResource)(I.component.ThreadsView,Qn),(0,o.setResource)(I.component.SpaceItem,ho),(0,o.setResource)(I.component.SpaceHeader,Go),(0,o.setResource)(I.component.OembedPreview,Wo),(0,o.setResource)(I.component.GithubIssuePreview,Mo),{}}))),"default")},35407:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,r)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationClient=void 0;const i=n(9479),s=n(47715);t.NotificationClient=class{constructor(e){this.client=e,this.lastPosition=0,this.lastTime=0,this.waitingUpdate=!1,this.autoscroll=!1}before(e,t,n,i){return o(this,void 0,void 0,(function*(){n!==this.prevId?(this.waitingUpdate&&void 0!==this.prevId&&null!=this.prevNotifications&&(yield this.updateLastRead(t,i?this.prevId:void 0)),this.prevId=n,this.prevNotifications=s.default(t),this.lastPosition=0,this.lastTime=0,this.autoscroll=!1):this.lastPosition=e.scrollTop}))}readNow(e,t){return o(this,void 0,void 0,(function*(){this.lastTime=Date.now(),yield this.updateLastRead(e,t)}))}initScroll(e,t,n){if(this.autoscroll)e.scrollTo(0,e.scrollHeight);else if(this.lastPosition>0)e.scrollTo(0,this.lastPosition);else{if(t>0){const o=e.getElementsByClassName("message");let i;for(let e=n?1:0;e<o.length;e++){const n=o[e];if(void 0===n)continue;const s=n.dataset.lastmodified;if(void 0!==s&&parseInt(s)>t){i=n;break}}if(void 0!==i)return void i.scrollIntoView(!1)}e.scrollTo(0,e.scrollHeight)}}scrollHandler(e,t,n,i,s){if(void 0===t)return;this.lastPosition=e.scrollTop;const c=e.getElementsByClassName("message"),r=e.getBoundingClientRect().bottom;for(let e=i?1:0;e<c.length;e++){const t=c[e];if(t.getBoundingClientRect().bottom>r)break;const n=t.dataset.modified;if(void 0===n)continue;const o=parseInt(n);this.lastTime=o>this.lastTime?o:this.lastTime}this.lastTime>n&&(this.waitingUpdate||(this.waitingUpdate=!0,setTimeout((()=>o(this,void 0,void 0,(function*(){return yield this.updateLastRead(t,s)}))),3e3)))}setAutoscroll(e){this.autoscroll=this.lastPosition>0&&this.lastPosition>e.scrollHeight-e.clientHeight-30}updateLastRead(e,t){return o(this,void 0,void 0,(function*(){void 0!==e&&(void 0===t?yield this.client.updateDoc(e._class,e.space,e._id,{lastRead:this.lastTime}):(void 0===e.objectLastReads.set&&(e.objectLastReads=new Map),e.objectLastReads.set(t,this.lastTime),yield this.client.updateDoc(e._class,e.space,e._id,{objectLastReads:e.objectLastReads})),this.waitingUpdate=!1)}))}},t.default=i.plugin("notification",{},{class:{SpaceNotifications:"",SpaceInfo:""},mappers:{SpaceInfo:"",SpaceNotification:""},dd:{SpaceInfo:"",SpaceNotifications:""}})},4003:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,r)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PresentationClient=void 0;const i=n(9479),s=n(72451),c=n(9862);class r{constructor(e,t){this.client=e,this.callback=t,c.onDestroy((()=>{var e;null===(e=this.unsubscribe)||void 0===e||e.call(this),this.unsubscribe=void 0}))}update(e,t,n){var o;this.checkParams(t,e,n)||(null===(o=this.unsubscribe)||void 0===o||o.call(this),this.oldQuery=t,this.oldClass=e,this.oldOptions=n,this.client().then((o=>{this.unsubscribe=o.query(e,t,this.callback,n)})).catch((e=>{console.error(e)})))}checkParams(e,t,n){return s.deepEqual(this.oldQuery,e)&&this.oldClass===t&&s.deepEqual(this.oldOptions,n)}}class a{constructor(e,t){this.client=e,this.accountIdValue=t}static create(e,t){return o(this,void 0,void 0,(function*(){return new a(t,e)}))}findAll(e,t,n){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).findAll(e,t,n)}))}tx(e){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).tx(e).catch((e=>this.handleError(e)))}))}notifyTx(e){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).notifyTx(e).catch((e=>this.handleError(e)))}))}query(e,t,n,o,i){return void 0!==e?(e.update(t,n,i),e):this.liveQuery(t,n,o,i)}accountId(){return this.accountIdValue}createDoc(e,t,n,i,s){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).createDoc(e,t,n,i,s).catch((e=>{throw this.handleError(e),e}))}))}createShortRef(e,t,n){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).createShortRef(e,t,n)}))}updateDoc(e,t,n,i,s){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).updateDoc(e,t,n,i,s).catch((e=>this.handleError(e)))}))}removeDoc(e,t,n,i){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).removeDoc(e,t,n,i).catch((e=>this.handleError(e)))}))}liveQuery(e,t,n,o){const i=new r(this.client,n);return i.update(e,t,o),{update:(e,t,n)=>i.update(e,t,n),unsubscribe:()=>{var e;null===(e=i.unsubscribe)||void 0===e||e.call(i)}}}handleError(e){throw console.error(e),e}}t.PresentationClient=a,t.default=i.plugin("presentation",{},{})}}]);
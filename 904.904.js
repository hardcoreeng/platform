(self.webpackChunkprod=self.webpackChunkprod||[]).push([[904],{47715:function(e,t,n){e.exports=function(){"use strict";var e=Function.prototype.toString,t=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,r=Object.getPrototypeOf,a=Object.prototype,l=a.hasOwnProperty,u=a.propertyIsEnumerable,p="function"==typeof c,d="function"==typeof WeakMap,f=function(n,o){if(!n.constructor)return t(null);var i=n.constructor,s=n.__proto__||r(n);if(i===o.Object)return s===o.Object.prototype?{}:t(s);if(~e.call(i).indexOf("[native code]"))try{return new i}catch(e){}return t(s)},h=function(e,t,n,o){var i=f(e,t);for(var s in o.set(e,i),e)l.call(e,s)&&(i[s]=n(e[s],o));if(p){var r=c(e),a=r.length;if(a)for(var d=0,h=void 0;d<a;d++)h=r[d],u.call(e,h)&&(i[h]=n(e[h],o))}return i},m=function(e,t,n,r){var a=f(e,t);r.set(e,a);var l=p?s(e).concat(c(e)):s(e),u=l.length;if(u)for(var d=0,h=void 0,m=void 0;d<u;d++)if("callee"!==(h=l[d])&&"caller"!==h)if(m=i(e,h)){m.get||m.set||(m.value=n(e[h],r));try{o(a,h,m)}catch(e){a[h]=m.value}}else a[h]=n(e[h],r);return a},g=Array.isArray,v="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void(console&&console.error&&console.error('Unable to locate global object, returning "this".'));function $(e,n){var o=!(!n||!n.isStrict),i=n&&n.realm||v,s=o?m:h,c=function(e,t){if(!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);var n,r,a,l=e.constructor;if(l===i.Object)return s(e,i,c,t);if(g(e)){if(o)return m(e,i,c,t);var u=e.length;n=new l,t.set(e,n);for(var p=0;p<u;p++)n[p]=c(e[p],t);return n}if(e instanceof i.Date)return new l(e.getTime());if(e instanceof i.RegExp)return(n=new l(e.source,e.flags||(r=e,a="",r.global&&(a+="g"),r.ignoreCase&&(a+="i"),r.multiline&&(a+="m"),r.unicode&&(a+="u"),r.sticky&&(a+="y"),a))).lastIndex=e.lastIndex,n;if(i.Map&&e instanceof i.Map)return n=new l,t.set(e,n),e.forEach((function(e,o){n.set(o,c(e,t))})),n;if(i.Set&&e instanceof i.Set)return n=new l,t.set(e,n),e.forEach((function(e){n.add(c(e,t))})),n;if(i.Blob&&e instanceof i.Blob)return e.slice(0,e.size,e.type);if(i.Buffer&&i.Buffer.isBuffer(e))return n=i.Buffer.allocUnsafe?i.Buffer.allocUnsafe(e.length):new l(e.length),t.set(e,n),e.copy(n),n;if(i.ArrayBuffer){if(i.ArrayBuffer.isView(e))return n=new l(e.buffer.slice(0)),t.set(e,n),n;if(e instanceof i.ArrayBuffer)return n=e.slice(0),t.set(e,n),n}return"function"==typeof e.then||e instanceof Error||i.WeakMap&&e instanceof i.WeakMap||i.WeakSet&&e instanceof i.WeakSet?e:s(e,i,c,t)};return c(e,function(){if(d)return new WeakMap;var e=t({has:function(t){return!!~e._keys.indexOf(t)},set:function(t,n){e._keys.push(t),e._values.push(n)},get:function(t){return e._values[e._keys.indexOf(t)]}});return e._keys=[],e._values=[],e}())}return $.default=$,$.strict=function(e,t){return $(e,{isStrict:!0,realm:t?t.realm:void 0})},$}()},97904:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Channel:()=>Xt,ChannelView:()=>an,ReferenceInput:()=>Me,ThreadsView:()=>jn,chunterIds:()=>b,default:()=>qn});var o=n(9479),i=n(3130),s=n(9862),c=n(26148),r=n(35107),a=n(56892),l=n(98097),u=n(41350),p=n.n(u),d=n(4003),f=n(60468),h=n(58518),m=n(72451),g=n(35407),v=n.n(g),$=Object.defineProperty,w=(e,t)=>$(e,"name",{value:t,configurable:!0}),b=(0,l.mergeIds)(a.default,{component:{CreateChannel:"",CreateMessage:"",ChannelView:"",ThreadsView:"",SpaceItem:"",SpaceHeader:""}});function y(e){let t,n,o,s,r,a,l,u,p;function d(t){e[5](t)}w(d,"editbox_value_binding");let f={label:b.string.ChannelName};function h(t){e[6](t)}void 0!==e[0]&&(f.value=e[0]),t=new c.k3({props:f,$$inline:!0}),i.VnY.push((()=>(0,i.akz)(t,"value",d))),w(h,"textarea_value_binding");let m={label:b.string.ChannelDescription};function g(t){e[7](t)}void 0!==e[1]&&(m.value=e[1]),s=new c.Kx({props:m,$$inline:!0}),i.VnY.push((()=>(0,i.akz)(s,"value",h))),w(g,"togglewithlabel_on_binding");let v={label:b.string.MakePrivate,description:b.string.MakePrivateDescription};void 0!==e[2]&&(v.on=e[2]),l=new c.fL({props:v,$$inline:!0}),i.VnY.push((()=>(0,i.akz)(l,"on",g)));const $={c:w((function(){(0,i.YCL)(t.$$.fragment),o=(0,i.DhX)(),(0,i.YCL)(s.$$.fragment),a=(0,i.DhX)(),(0,i.YCL)(l.$$.fragment)}),"create"),m:w((function(e,n){(0,i.yef)(t,e,n),(0,i.DsI)(e,o,n),(0,i.yef)(s,e,n),(0,i.DsI)(e,a,n),(0,i.yef)(l,e,n),p=!0}),"mount"),p:w((function(e,o){const c={};!n&&1&o&&(n=!0,c.value=e[0],(0,i.hjT)((()=>n=!1))),t.$set(c);const a={};!r&&2&o&&(r=!0,a.value=e[1],(0,i.hjT)((()=>r=!1))),s.$set(a);const p={};!u&&4&o&&(u=!0,p.on=e[2],(0,i.hjT)((()=>u=!1))),l.$set(p)}),"update"),i:w((function(e){p||((0,i.Ui)(t.$$.fragment,e),(0,i.Ui)(s.$$.fragment,e),(0,i.Ui)(l.$$.fragment,e),p=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),(0,i.etI)(s.$$.fragment,e),(0,i.etI)(l.$$.fragment,e),p=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e),e&&(0,i.GlD)(o),(0,i.vpE)(s,e),e&&(0,i.GlD)(a),(0,i.vpE)(l,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:$,id:y.name,type:"slot",source:"(44:2) <Grid column={1}>",ctx:e}),$}function L(e){let t,n;t=new c.rj({props:{column:1,$$slots:{default:[y]},$$scope:{ctx:e}},$$inline:!0});const o={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};1031&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:L.name,type:"slot",source:"(36:0) <Dialog   label={chunter.string.CreateChannel}   okLabel={chunter.string.CreateChannel}   okAction={createChannel}   on:close={() => {     dispatch('close')   }} >",ctx:e}),o}function C(e){let t,n;t=new c.Vq({props:{label:b.string.CreateChannel,okLabel:b.string.CreateChannel,okAction:e[4],$$slots:{default:[L]},$$scope:{ctx:e}},$$inline:!0}),t.$on("close",e[8]);const o={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,[n]){const o={};1031&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:C.name,type:"component",source:"",ctx:e}),o}function _(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("CreateChannel",o,[]);const l=(0,s.createEventDispatcher)();let u="",d="",f=!1;const h=(0,r.getClient)();function m(){h.createDoc(b.class.Channel,p().space.Model,{name:u,description:d,private:f,direct:!1,members:[h.accountId()]})}w(m,"createChannel");const g=[];function v(e){u=e,n(0,u)}function $(e){d=e,n(1,d)}function y(e){f=e,n(2,f)}Object.keys(t).forEach((e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateChannel> was created with unknown prop '${e}'`)})),w(v,"editbox_value_binding"),w($,"textarea_value_binding"),w(y,"togglewithlabel_on_binding");const L=w((()=>{l("close")}),"close_handler");return e.$capture_state=()=>({createEventDispatcher:s.createEventDispatcher,EditBox:c.k3,TextArea:c.Kx,Dialog:c.Vq,ToggleWithLabel:c.fL,Grid:c.rj,getClient:r.getClient,chunter:b,core:p(),dispatch:l,name:u,description:d,isPrivate:f,client:h,createChannel:m}),e.$inject_state=e=>{"name"in e&&n(0,u=e.name),"description"in e&&n(1,d=e.description),"isPrivate"in e&&n(2,f=e.isPrivate)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u,d,f,l,m,v,$,y,L]}w(y,"create_default_slot_1"),w(L,"create_default_slot"),w(C,"create_fragment"),w(_,"instance");var j=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,_,C,i.N8,{}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateChannel",options:e,id:C.name})}};w(j,"CreateChannel");var G=j,k="src/components/icons/Attach.svelte";function S(e){let t,n;const o={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M4.82816 10.4853L10.485 4.82845C11.6566 3.65688 13.5561 3.65688 14.7277 4.82845C15.8992 6.00002 15.8992 7.89952 14.7277 9.07109L8.01014 15.7886C7.42436 16.3744 6.47461 16.3744 5.88882 15.7886C5.30304 15.2028 5.30304 14.2531 5.88882 13.6673L11.8992 7.65687C12.0945 7.46161 12.0945 7.14503 11.8992 6.94977C11.704 6.75451 11.3874 6.75451 11.1921 6.94977L5.18172 12.9602C4.20541 13.9365 4.20541 15.5194 5.18172 16.4957C6.15803 17.472 7.74094 17.472 8.71725 16.4957L15.4348 9.77819C16.9969 8.2161 16.9969 5.68344 15.4348 4.12134C13.8727 2.55924 11.34 2.55924 9.77791 4.12134L4.12106 9.77819C3.92579 9.97346 3.92579 10.29 4.12106 10.4853C4.31632 10.6806 4.6329 10.6806 4.82816 10.4853Z"),(0,i.vjr)(n,k,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",x),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,k,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:S.name,type:"component",source:"",ctx:e}),o}w(S,"create_fragment");var x="var(--theme-caption-color)";function E(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Attach",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Attach> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:x}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(E,"instance");var I=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,E,S,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Attach",options:e,id:S.name})}get size(){throw new Error("<Attach>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Attach>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(I,"Attach");var W=I,O="src/components/icons/Emoji.svelte";function z(e){let t,n;const o={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3ZM7.15467 12.4273C8.66416 13.9463 11.0877 14.0045 12.6671 12.5961L12.8453 12.4273C13.04 12.2314 13.3566 12.2304 13.5524 12.4251C13.7265 12.5981 13.7467 12.8674 13.6123 13.0627L13.5547 13.1322L13.5323 13.1545C11.5691 15.1054 8.39616 15.0953 6.44533 13.1322C6.25069 12.9363 6.25169 12.6197 6.44757 12.4251C6.64344 12.2304 6.96002 12.2314 7.15467 12.4273ZM12.5 7.5C13.0523 7.5 13.5 7.94772 13.5 8.5C13.5 9.05228 13.0523 9.5 12.5 9.5C11.9477 9.5 11.5 9.05228 11.5 8.5C11.5 7.94772 11.9477 7.5 12.5 7.5ZM7.5 7.5C8.05228 7.5 8.5 7.94772 8.5 8.5C8.5 9.05228 8.05228 9.5 7.5 9.5C6.94772 9.5 6.5 9.05228 6.5 8.5C6.5 7.94772 6.94772 7.5 7.5 7.5Z"),(0,i.vjr)(n,O,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",D),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,O,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:z.name,type:"component",source:"",ctx:e}),o}w(z,"create_fragment");var D="var(--theme-caption-color)";function B(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Emoji",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Emoji> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:D}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(B,"instance");var R=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,B,z,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Emoji",options:e,id:z.name})}get size(){throw new Error("<Emoji>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Emoji>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(R,"Emoji");var M=R,Z="src/components/icons/GIF.svelte";function U(e){let t,n;const o={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M15.4 3C16.7864 3 17.9194 4.1869 17.9959 5.68238L18 5.84375V14.1562C18 15.6727 16.9148 16.9118 15.5475 16.9955L15.4 17H4.6C3.21357 17 2.0806 15.8131 2.00412 14.3176L2 14.1562V5.84375C2 4.32735 3.08516 3.08816 4.45246 3.0045L4.6 3H15.4ZM15.25 4H4.75C3.82377 4 3.06561 4.793 3.00404 5.79653L3 5.92857V14.0714C3 15.0922 3.71957 15.9277 4.63018 15.9956L4.75 16H15.25C16.1762 16 16.9344 15.207 16.996 14.2035L17 14.0714V5.92857C17 4.90783 16.2804 4.0723 15.3698 4.00445L15.25 4ZM6.85135 7.00214C7.4713 7.00214 7.99907 7.0988 8.43229 7.30058C8.69893 7.42477 8.80624 7.72539 8.67198 7.97203C8.53772 8.21867 8.21272 8.31793 7.94609 8.19374C7.6779 8.06883 7.31378 8.00214 6.85135 8.00214C5.82473 8.00214 5.08108 8.8345 5.08108 10.0011C5.08108 11.1209 5.89403 12 6.85135 12C7.44761 12 7.85273 11.6487 7.91152 11.3268L7.91892 11.2472V10.5011L7.54054 10.5C7.24201 10.5 7 10.2761 7 10C7 9.75454 7.19122 9.55039 7.44338 9.50806L7.54054 9.5L8.45946 9.50107C8.72482 9.50107 8.94552 9.67794 8.99129 9.91119L9 10.0011V11.2472C9 12.1244 8.11351 13 6.85135 13C5.25622 13 4 11.6415 4 10.0011C4 8.31985 5.17727 7.00214 6.85135 7.00214ZM11 7C11.2455 7 11.4496 7.17688 11.4919 7.41012L11.5 7.5V12.5C11.5 12.7761 11.2761 13 11 13C10.7545 13 10.5504 12.8231 10.5081 12.5899L10.5 12.5V7.5C10.5 7.22386 10.7239 7 11 7ZM15.5 7C15.7761 7 16 7.22386 16 7.5C16 7.74546 15.8231 7.94961 15.5899 7.99194L15.5 8H14V10H15.5C15.7761 10 16 10.2239 16 10.5C16 10.7455 15.8231 10.9496 15.5899 10.9919L15.5 11H14V12.5C14 12.7761 13.7761 13 13.5 13C13.2545 13 13.0504 12.8231 13.0081 12.5899L13 12.5V7.5C13 7.22386 13.2239 7 13.5 7H15.5Z"),(0,i.vjr)(n,Z,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",Y),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,Z,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:U.name,type:"component",source:"",ctx:e}),o}w(U,"create_fragment");var Y="var(--theme-caption-color)";function P(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("GIF",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<GIF> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:Y}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(P,"instance");var V=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,P,U,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"GIF",options:e,id:U.name})}get size(){throw new Error("<GIF>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<GIF>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(V,"GIF");var T=V,N="src/components/icons/Send.svelte";function H(e){let t,n;const o={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M2.72113 2.05149L18.0756 9.61746C18.3233 9.73952 18.4252 10.0393 18.3031 10.287C18.2544 10.3858 18.1744 10.4658 18.0756 10.5145L2.72144 18.0803C2.47374 18.2023 2.17399 18.1005 2.05193 17.8528C1.99856 17.7445 1.98619 17.6205 2.0171 17.5038L3.9858 10.0701L2.01676 2.62789C1.94612 2.36093 2.10528 2.08726 2.37224 2.01663C2.48893 1.98576 2.61285 1.99814 2.72113 2.05149ZM3.26445 3.43403L4.87357 9.51612L4.93555 9.50412L5 9.5H12C12.2761 9.5 12.5 9.72386 12.5 10C12.5 10.2455 12.3231 10.4496 12.0899 10.4919L12 10.5H5C4.9686 10.5 4.93787 10.4971 4.90807 10.4916L3.26508 16.6976L16.7234 10.066L3.26445 3.43403Z"),(0,i.vjr)(n,N,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",A),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,N,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:H.name,type:"component",source:"",ctx:e}),o}w(H,"create_fragment");var A="var(--theme-caption-color)";function X(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Send",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Send> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:A}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(X,"instance");var q=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,X,H,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Send",options:e,id:H.name})}get size(){throw new Error("<Send>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Send>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(q,"Send");var K=q,F="src/components/icons/TextStyle.svelte";function Q(e){let t,n;const o={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M14.0872 6.70308C14.9271 5.85998 16.2664 5.81735 17.1568 6.57701L17.2869 6.69697L17.4134 6.83357C18.1376 7.68212 18.1376 8.93671 17.4134 9.78526L17.293 9.91574L10.4167 16.8183C10.2617 16.9739 10.0749 17.0931 9.86988 17.1682L9.71291 17.2161L6.62737 17.9764C6.28827 18.0599 5.98023 17.7813 6.00917 17.4498L6.0236 17.366L6.81558 14.2953C6.86895 14.0883 6.96574 13.8958 7.09885 13.7302L7.20537 13.6112L14.0872 6.70308ZM16.5811 7.40543C16.1201 6.94613 15.393 6.91684 14.898 7.31661L14.7957 7.40884L7.91383 14.317C7.87193 14.359 7.83804 14.408 7.8135 14.4616L7.7839 14.545L7.20061 16.805L9.47368 16.2452C9.51317 16.2354 9.55114 16.221 9.58682 16.2022L9.6385 16.1709L9.70829 16.1126L16.5845 9.20999C17.0806 8.71206 17.0806 7.90677 16.5811 7.40543ZM6.42419 2.22879L6.46607 2.31323L9.448 9.94224L8.676 10.7172L8.004 8.99824H4.007L2.96614 11.678C2.87719 11.9068 2.63835 12.0329 2.40561 11.9879L2.31893 11.9628C2.09015 11.8738 1.96399 11.635 2.00906 11.4023L2.03413 11.3156L5.53436 2.31403C5.6877 1.9197 6.21661 1.89109 6.42419 2.22879ZM6.00061 3.871L4.396 7.99824H7.614L6.00061 3.871Z"),(0,i.vjr)(n,F,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",J),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,F,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Q.name,type:"component",source:"",ctx:e}),o}w(Q,"create_fragment");var J="var(--theme-caption-color)";function ee(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("TextStyle",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TextStyle> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:J}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(ee,"instance");var te=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,ee,Q,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TextStyle",options:e,id:Q.name})}get size(){throw new Error("<TextStyle>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<TextStyle>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(te,"TextStyle");var ne=te,oe="src/components/icons/Bold.svelte";function ie(e){let t,n,o;const s={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M17.7,6c-0.2-1.1-0.6-1.9-1.2-2.4c-0.6-0.6-1.4-1-2.4-1.2C13,2.1,11.8,2,10,2C8.2,2,7,2.1,6,2.3C4.9,2.6,4.1,2.9,3.5,3.5 C2.9,4.1,2.6,4.9,2.3,6C2.1,7,2,8.2,2,10c0,1.8,0.1,3,0.3,4c0.2,1.1,0.6,1.9,1.2,2.4c0.6,0.6,1.4,1,2.4,1.2c1,0.2,2.3,0.3,4,0.3 c1.8,0,3-0.1,4-0.3c1.1-0.2,1.9-0.6,2.4-1.2c0.6-0.6,1-1.4,1.2-2.4c0.2-1,0.3-2.3,0.3-4C18,8.2,17.9,7,17.7,6z M16.7,13.8 c-0.2,0.9-0.5,1.5-0.9,2c-0.4,0.4-1.1,0.7-2,0.9C12.9,16.9,11.7,17,10,17s-2.9-0.1-3.8-0.3c-0.9-0.2-1.5-0.5-2-0.9 c-0.4-0.4-0.7-1.1-0.9-2C3.1,12.9,3,11.7,3,10s0.1-2.9,0.3-3.8c0.2-0.9,0.5-1.5,0.9-2c0.4-0.4,1.1-0.7,2-0.9C7.1,3.1,8.3,3,10,3 s2.9,0.1,3.8,0.3c0.9,0.2,1.5,0.5,2,0.9c0.4,0.4,0.7,1.1,0.9,2C16.9,7.1,17,8.3,17,10S16.9,12.9,16.7,13.8z"),(0,i.vjr)(n,oe,5,2,191),(0,i.LGW)(o,"d","M11.2,6.2H8.7c-0.9,0-1.2,0.2-1.2,1.2v5.3c0,1,0.3,1.2,1.2,1.2h2.5c0.5,0,1-0.2,1.3-0.6c0.4-0.4,0.6-1,0.6-1.6 c0-0.7-0.3-1.3-0.7-1.7c0.4-0.4,0.7-0.9,0.7-1.7C13.2,7,12.2,6.2,11.2,6.2z M11.8,12.6c-0.2,0.2-0.4,0.3-0.6,0.3H8.7 c-0.1,0-0.1,0-0.2,0c0-0.1,0-0.1,0-0.2v-2.2h2.7c0.4,0,0.9,0.4,0.9,1.2C12.2,12,12.1,12.3,11.8,12.6z M11.2,9.5H8.5V7.3 c0-0.1,0-0.1,0-0.2c0.1,0,0.1,0,0.2,0h2.5c0.5,0,0.9,0.4,0.9,1.2S11.7,9.5,11.2,9.5z"),(0,i.vjr)(o,oe,8,2,910),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",se),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,oe,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(t,o)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:ie.name,type:"component",source:"",ctx:e}),s}w(ie,"create_fragment");var se="var(--theme-caption-color)";function ce(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Bold",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Bold> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:se}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(ce,"instance");var re=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,ce,ie,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Bold",options:e,id:ie.name})}get size(){throw new Error("<Bold>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Bold>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(re,"Bold");var ae=re,le="src/components/icons/Italic.svelte";function ue(e){let t,n,o;const s={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M17.7,6c-0.2-1.1-0.6-1.9-1.2-2.4c-0.6-0.6-1.4-1-2.4-1.2C13,2.1,11.8,2,10,2C8.2,2,7,2.1,6,2.3C4.9,2.6,4.1,2.9,3.5,3.5 C2.9,4.1,2.6,4.9,2.3,6C2.1,7,2,8.2,2,10c0,1.8,0.1,3,0.3,4c0.2,1.1,0.6,1.9,1.2,2.4c0.6,0.6,1.4,1,2.4,1.2c1,0.2,2.3,0.3,4,0.3 c1.8,0,3-0.1,4-0.3c1.1-0.2,1.9-0.6,2.4-1.2c0.6-0.6,1-1.4,1.2-2.4c0.2-1,0.3-2.3,0.3-4C18,8.2,17.9,7,17.7,6z M16.7,13.8 c-0.2,0.9-0.5,1.5-0.9,2c-0.4,0.4-1.1,0.7-2,0.9C12.9,16.9,11.7,17,10,17s-2.9-0.1-3.8-0.3c-0.9-0.2-1.5-0.5-2-0.9 c-0.4-0.4-0.7-1.1-0.9-2C3.1,12.9,3,11.7,3,10s0.1-2.9,0.3-3.8c0.2-0.9,0.5-1.5,0.9-2c0.4-0.4,1.1-0.7,2-0.9C7.1,3.1,8.3,3,10,3 s2.9,0.1,3.8,0.3c0.9,0.2,1.5,0.5,2,0.9c0.4,0.4,0.7,1.1,0.9,2C16.9,7.1,17,8.3,17,10S16.9,12.9,16.7,13.8z"),(0,i.vjr)(n,le,5,2,191),(0,i.LGW)(o,"d","M12,7.2c0.3,0,0.5-0.2,0.5-0.5S12.3,6.2,12,6.2h-1.7c0,0,0,0,0,0H8c-0.3,0-0.5,0.2-0.5,0.5S7.7,7.2,8,7.2h1.8l-0.6,5.7H8 c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h4c0.3,0,0.5-0.2,0.5-0.5s-0.2-0.5-0.5-0.5h-1.8l0.6-5.7H12z"),(0,i.vjr)(o,le,8,2,910),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",pe),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,le,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(t,o)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:ue.name,type:"component",source:"",ctx:e}),s}w(ue,"create_fragment");var pe="var(--theme-caption-color)";function de(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Italic",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Italic> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:pe}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(de,"instance");var fe=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,de,ue,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Italic",options:e,id:ue.name})}get size(){throw new Error("<Italic>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Italic>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(fe,"Italic");var he=fe,me="src/components/icons/Brackets.svelte";function ge(e){let t,n,o;const s={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M5.3,4.2c0.3,0,0.5-0.2,0.5-0.5S5.6,3.2,5.3,3.2H3.4c-0.3,0-0.5,0.2-0.5,0.5v12.5c0,0.3,0.2,0.5,0.5,0.5h1.9 c0.3,0,0.5-0.2,0.5-0.5s-0.2-0.5-0.5-0.5H3.9V4.2H5.3z"),(0,i.vjr)(n,me,5,2,191),(0,i.LGW)(o,"d","M16.6,3.2h-1.9c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h1.4v11.5h-1.4c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h1.9 c0.3,0,0.5-0.2,0.5-0.5V3.8C17.1,3.5,16.8,3.2,16.6,3.2z"),(0,i.vjr)(o,me,8,2,370),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",ve),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,me,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(t,o)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:ge.name,type:"component",source:"",ctx:e}),s}w(ge,"create_fragment");var ve="var(--theme-caption-color)";function $e(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Brackets",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Brackets> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:ve}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w($e,"instance");var we=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,$e,ge,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Brackets",options:e,id:ge.name})}get size(){throw new Error("<Brackets>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Brackets>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(we,"Brackets");var be=we,ye="src/components/icons/Mention.svelte";function Le(e){let t,n;const o={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M18,10c0-1.7-0.5-3.3-1.5-4.7c-1-1.4-2.3-2.4-3.9-2.9C11,1.9,9.3,1.9,7.7,2.3c-1.6,0.5-3,1.5-4,2.8C2.6,6.5,2.1,8.1,2,9.7 c-0.1,1.7,0.4,3.3,1.3,4.7c0.9,1.4,2.3,2.5,3.8,3C8.1,17.8,9,18,10,18c0.7,0,1.4-0.1,2.1-0.3c0.3-0.1,0.4-0.3,0.4-0.6 c-0.1-0.3-0.3-0.4-0.6-0.4c-1.4,0.4-2.9,0.3-4.3-0.2C6.2,16,5,15.1,4.2,13.9C3.4,12.7,3,11.2,3,9.8c0-1.5,0.5-2.9,1.4-4 c0.9-1.2,2.1-2,3.5-2.4c1.4-0.4,2.9-0.4,4.3,0.1c1.4,0.5,2.6,1.4,3.4,2.6C16.5,7.1,17,8.5,17,10c0,0,0,0,0,0v1.2 c0,0.9-0.7,1.6-1.6,1.6s-1.6-0.7-1.6-1.6V10c0,0,0,0,0,0s0,0,0,0V7.5c0-0.3-0.2-0.5-0.5-0.5c-0.3,0-0.5,0.2-0.5,0.4 c-0.7-0.8-1.7-1.3-2.8-1.3c-2.1,0-3.8,1.7-3.8,3.8c0,2.1,1.7,3.8,3.8,3.8c1.3,0,2.4-0.6,3.1-1.5c0.4,0.9,1.3,1.5,2.4,1.5 c1.4,0,2.6-1.2,2.6-2.6L18,10C18,10,18,10,18,10z M10,12.8c-1.6,0-2.8-1.3-2.8-2.8c0-1.6,1.3-2.8,2.8-2.8c1.6,0,2.8,1.3,2.8,2.8V10 C12.8,11.6,11.6,12.8,10,12.8z"),(0,i.vjr)(n,ye,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",Ce),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,ye,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Le.name,type:"component",source:"",ctx:e}),o}w(Le,"create_fragment");var Ce="var(--theme-caption-color)";function _e(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Mention",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Mention> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:Ce}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(_e,"instance");var je=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,_e,Le,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Mention",options:e,id:Le.name})}get size(){throw new Error("<Mention>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Mention>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(je,"Mention");var Ge=je,ke="src/components/ReferenceInput.svelte";function Se(e){let t,n,o={ontop:!0,items:e[6],pos:{left:e[3].cursor.left+15,top:e[3].cursor.top-e[3].inputHeight,right:e[3].cursor.right+15,bottom:e[3].cursor.bottom-e[3].inputHeight}};t=new c.KO({props:o,$$inline:!0}),e[17](t),t.$on("blur",e[18]),t.$on("select",e[19]);const s={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};64&n&&(o.items=e[6]),8&n&&(o.pos={left:e[3].cursor.left+15,top:e[3].cursor.top-e[3].inputHeight,right:e[3].cursor.right+15,bottom:e[3].cursor.bottom-e[3].inputHeight}),t.$set(o)}),"update"),i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(n){e[17](null),(0,i.vpE)(t,n)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Se.name,type:"if",source:"(220:8) {#if popupVisible && completions.length > 0}",ctx:e}),s}function xe(e){let t,n,o=e[8]&&e[6].length>0&&Se(e);const s={c:w((function(){o&&o.c(),t=(0,i.cSb)()}),"create"),m:w((function(e,s){o&&o.m(e,s),(0,i.DsI)(e,t,s),n=!0}),"mount"),p:w((function(e,n){e[8]&&e[6].length>0?o?(o.p(e,n),320&n&&(0,i.Ui)(o,1)):(o=Se(e),o.c(),(0,i.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,i.dvw)(),(0,i.etI)(o,1,1,(()=>{o=null})),(0,i.gbL)())}),"update"),i:w((function(e){n||((0,i.Ui)(o),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(o),n=!1}),"outro"),d:w((function(e){o&&o.d(e),e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:xe.name,type:"slot",source:"(205:6) <MessageEditor         bind:this={htmlEditor}         bind:content={editorContent}         {triggers}         transformInjections={transformFunction}         on:content={(event) => {           editorContent = event.detail         }}         on:styleEvent={(e) => updateStyle(e.detail)}       >",ctx:e}),s}function Ee(e){let t,n;t=new c.__({props:{label:b.string.NewMessagePlaceholder},$$inline:!0});const o={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:i.ZTd,i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Ee.name,type:"if",source:"(216:10) {#if isEmpty}",ctx:e}),o}function Ie(e){let t,n,o=e[29]&&Ee(e);const s={c:w((function(){t=(0,i.bGB)("div"),o&&o.c(),(0,i.LGW)(t,"class","label svelte-1rsma5b"),(0,i.LGW)(t,"slot","hoverMessage"),(0,i.vjr)(t,ke,214,8,6851)}),"create"),m:w((function(e,s){(0,i.DsI)(e,t,s),o&&o.m(t,null),n=!0}),"mount"),p:w((function(e,n){e[29]?o?(o.p(e,n),536870912&n&&(0,i.Ui)(o,1)):(o=Ee(e),o.c(),(0,i.Ui)(o,1),o.m(t,null)):o&&((0,i.dvw)(),(0,i.etI)(o,1,1,(()=>{o=null})),(0,i.gbL)())}),"update"),i:w((function(e){n||((0,i.Ui)(o),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(o),n=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),o&&o.d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Ie.name,type:"slot",source:"(215:8) ",ctx:e}),s}function We(e){let t,n,o,s,c,r;o=new K({$$inline:!0});const a={c:w((function(){t=(0,i.bGB)("button"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),(0,i.LGW)(n,"class","icon svelte-1rsma5b"),(0,i.vjr)(n,ke,237,65,7743),(0,i.LGW)(t,"class","sendButton svelte-1rsma5b"),(0,i.vjr)(t,ke,237,6,7684)}),"create"),m:w((function(a,l){(0,i.DsI)(a,t,l),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),s=!0,c||(r=(0,i.iVk)(t,"click",e[24],!1,!1,!1),c=!0)}),"mount"),p:i.ZTd,i:w((function(e){s||((0,i.Ui)(o.$$.fragment,e),s=!0)}),"intro"),o:w((function(e){(0,i.etI)(o.$$.fragment,e),s=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o),c=!1,r()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:a,id:We.name,type:"if",source:"(237:4) {#if submitEnabled}",ctx:e}),a}function Oe(e){let t,n,o,s,c,r,a,l,u,p,d,h,m,g,v,$,b,y,L,C,_,j,G,k,S,x,E,I,O,z,D,B,R,Z,U;function Y(t){e[21](t)}w(Y,"messageeditor_content_binding");let P={triggers:e[9],transformInjections:e[14],$$slots:{hoverMessage:[Ie,({empty:e})=>({29:e}),({empty:e})=>e?536870912:0],default:[xe]},$$scope:{ctx:e}};void 0!==e[4]&&(P.content=e[4]),s=new f.d5({props:P,$$inline:!0}),e[20](s),i.VnY.push((()=>(0,i.akz)(s,"content",Y))),s.$on("content",e[22]),s.$on("styleEvent",e[23]);let V=e[1]&&We(e);d=new W({$$inline:!0}),g=new ne({$$inline:!0}),b=new ae({$$inline:!0}),C=new he({$$inline:!0}),G=new be({$$inline:!0}),x=new Ge({$$inline:!0}),O=new M({$$inline:!0}),B=new T({$$inline:!0});const N={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o=(0,i.bGB)("div"),(0,i.YCL)(s.$$.fragment),r=(0,i.DhX)(),V&&V.c(),l=(0,i.DhX)(),u=(0,i.bGB)("div"),p=(0,i.bGB)("div"),(0,i.YCL)(d.$$.fragment),h=(0,i.DhX)(),m=(0,i.bGB)("div"),(0,i.YCL)(g.$$.fragment),v=(0,i.DhX)(),$=(0,i.bGB)("div"),(0,i.YCL)(b.$$.fragment),y=(0,i.DhX)(),L=(0,i.bGB)("div"),(0,i.YCL)(C.$$.fragment),_=(0,i.DhX)(),j=(0,i.bGB)("div"),(0,i.YCL)(G.$$.fragment),k=(0,i.DhX)(),S=(0,i.bGB)("div"),(0,i.YCL)(x.$$.fragment),E=(0,i.DhX)(),I=(0,i.bGB)("div"),(0,i.YCL)(O.$$.fragment),z=(0,i.DhX)(),D=(0,i.bGB)("div"),(0,i.YCL)(B.$$.fragment),(0,i.LGW)(o,"class","inputMsg svelte-1rsma5b"),(0,i.VHj)(o,"edit-box-vertical",e[0]),(0,i.VHj)(o,"edit-box-horizontal",!e[0]),(0,i.vjr)(o,ke,198,4,6385),(0,i.LGW)(n,"class","flex-between textInput svelte-1rsma5b"),(0,i.LGW)(n,"style",a=`height: ${e[2]+1}em;`),(0,i.vjr)(n,ke,197,2,6310),(0,i.LGW)(p,"class","tool svelte-1rsma5b"),(0,i.vjr)(p,ke,241,4,7832),(0,i.LGW)(m,"class","tool svelte-1rsma5b"),(0,i.vjr)(m,ke,242,4,7871),(0,i.LGW)($,"class","tool svelte-1rsma5b"),(0,i.vjr)($,ke,243,4,7913),(0,i.LGW)(L,"class","tool svelte-1rsma5b"),(0,i.vjr)(L,ke,244,4,7950),(0,i.LGW)(j,"class","tool svelte-1rsma5b"),(0,i.vjr)(j,ke,245,4,7989),(0,i.LGW)(S,"class","tool svelte-1rsma5b"),(0,i.vjr)(S,ke,246,4,8030),(0,i.LGW)(I,"class","tool svelte-1rsma5b"),(0,i.vjr)(I,ke,247,4,8070),(0,i.LGW)(D,"class","tool svelte-1rsma5b"),(0,i.vjr)(D,ke,248,4,8108),(0,i.LGW)(u,"class","buttons svelte-1rsma5b"),(0,i.vjr)(u,ke,240,2,7806),(0,i.LGW)(t,"class","ref-container svelte-1rsma5b"),(0,i.vjr)(t,ke,196,0,6280)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(c,a){(0,i.DsI)(c,t,a),(0,i.gOb)(t,n),(0,i.gOb)(n,o),(0,i.yef)(s,o,null),(0,i.gOb)(n,r),V&&V.m(n,null),(0,i.gOb)(t,l),(0,i.gOb)(t,u),(0,i.gOb)(u,p),(0,i.yef)(d,p,null),(0,i.gOb)(u,h),(0,i.gOb)(u,m),(0,i.yef)(g,m,null),(0,i.gOb)(u,v),(0,i.gOb)(u,$),(0,i.yef)(b,$,null),(0,i.gOb)(u,y),(0,i.gOb)(u,L),(0,i.yef)(C,L,null),(0,i.gOb)(u,_),(0,i.gOb)(u,j),(0,i.yef)(G,j,null),(0,i.gOb)(u,k),(0,i.gOb)(u,S),(0,i.yef)(x,S,null),(0,i.gOb)(u,E),(0,i.gOb)(u,I),(0,i.yef)(O,I,null),(0,i.gOb)(u,z),(0,i.gOb)(u,D),(0,i.yef)(B,D,null),R=!0,Z||(U=(0,i.iVk)(o,"keydown",e[12],!1,!1,!1),Z=!0)}),"mount"),p:w((function(e,[t]){const r={};1610613192&t&&(r.$$scope={dirty:t,ctx:e}),!c&&16&t&&(c=!0,r.content=e[4],(0,i.hjT)((()=>c=!1))),s.$set(r),1&t&&(0,i.VHj)(o,"edit-box-vertical",e[0]),1&t&&(0,i.VHj)(o,"edit-box-horizontal",!e[0]),e[1]?V?(V.p(e,t),2&t&&(0,i.Ui)(V,1)):(V=We(e),V.c(),(0,i.Ui)(V,1),V.m(n,null)):V&&((0,i.dvw)(),(0,i.etI)(V,1,1,(()=>{V=null})),(0,i.gbL)()),(!R||4&t&&a!==(a=`height: ${e[2]+1}em;`))&&(0,i.LGW)(n,"style",a)}),"update"),i:w((function(e){R||((0,i.Ui)(s.$$.fragment,e),(0,i.Ui)(V),(0,i.Ui)(d.$$.fragment,e),(0,i.Ui)(g.$$.fragment,e),(0,i.Ui)(b.$$.fragment,e),(0,i.Ui)(C.$$.fragment,e),(0,i.Ui)(G.$$.fragment,e),(0,i.Ui)(x.$$.fragment,e),(0,i.Ui)(O.$$.fragment,e),(0,i.Ui)(B.$$.fragment,e),R=!0)}),"intro"),o:w((function(e){(0,i.etI)(s.$$.fragment,e),(0,i.etI)(V),(0,i.etI)(d.$$.fragment,e),(0,i.etI)(g.$$.fragment,e),(0,i.etI)(b.$$.fragment,e),(0,i.etI)(C.$$.fragment,e),(0,i.etI)(G.$$.fragment,e),(0,i.etI)(x.$$.fragment,e),(0,i.etI)(O.$$.fragment,e),(0,i.etI)(B.$$.fragment,e),R=!1}),"outro"),d:w((function(n){n&&(0,i.GlD)(t),e[20](null),(0,i.vpE)(s),V&&V.d(),(0,i.vpE)(d),(0,i.vpE)(g),(0,i.vpE)(b),(0,i.vpE)(C),(0,i.vpE)(G),(0,i.vpE)(x),(0,i.vpE)(O),(0,i.vpE)(B),Z=!1,U()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:N,id:Oe.name,type:"component",source:"",ctx:e}),N}function ze(e){return{title:{$like:e+"%"}}}function De(e){const t=[];for(const n of e){const e=n.title;t.push({key:`${n._id}${n.title}`,completion:n.objectId,label:e,title:`${e} - ${n.objectClass}`,class:n.objectClass,id:n.objectId})}return t}function Be(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("ReferenceInput",o,[]);var l=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{stylesEnabled:u=!1}=t,{submitEnabled:m=!0}=t,{lines:g=1}=t;const v=(0,s.createEventDispatcher)();let $,y={isEmpty:!0,cursor:{left:0,top:0,bottom:0,right:0},bold:!1,italic:!1,completionWord:"",selection:{from:0,to:0},completionEnd:"",inputHeight:0},L=(0,h.newMessageDocument)();const C=["@","#","[["];let _,j,G="",k=[],S=!1;const x=(0,r.getClient)();function E(e){return l(this,void 0,void 0,(function*(){const t=yield x.findAll(p().class.Title,{title:e});for(const n of t)if(n.title===e)return[{id:n.objectId,class:n.objectClass}];return[]}))}function I(e){if(n(3,y=e),0===e.completionWord.length)return n(15,G=""),void n(8,S=!1);e.completionWord.startsWith("[[")?e.completionWord.endsWith("]")?(n(8,S=!1),n(15,G="")):(n(15,G=e.completionWord.substring(2)),G.length>0&&n(8,S=!0)):(n(15,G=""),n(8,S=!1)),v("update",L)}function O(e){let t=0;null!==y.completionEnd&&y.completionEnd.endsWith("]]")&&(t=y.completionEnd.length);const n=e;$.insertMark("[["+e.label+"]]",y.selection.from-y.completionWord.length,y.selection.to+t,f.fK.marks.reference,{id:n.id,class:n.class}),$.focus()}function z(e){if(S){if("ArrowUp"===e.key)return _.handleUp(),void e.preventDefault();if("ArrowDown"===e.key)return _.handleDown(),void e.preventDefault();if("Enter"===e.key)return _.handleSubmit(),void e.preventDefault();if("Escape"===e.key)return n(6,k=[]),void n(8,S=!1)}"Enter"!==e.key||e.shiftKey||(D(),e.preventDefault())}function D(){y.isEmpty||v("message",(0,h.serializeMessage)(L)),n(4,L=(0,h.newMessageDocument)())}w(E,"findTitle"),w(I,"updateStyle"),w(O,"handlePopupSelected"),w(z,"onKeyDown"),w(D,"handleSubmit");const B=(0,f.Y0)(E),R=["stylesEnabled","submitEnabled","lines"];function Z(e){i.VnY[e?"unshift":"push"]((()=>{_=e,n(7,_)}))}Object.keys(t).forEach((e=>{~R.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ReferenceInput> was created with unknown prop '${e}'`)})),w(Z,"completionpopup_binding");const U=w((()=>n(6,k=[])),"blur_handler"),Y=w((e=>O(e.detail)),"select_handler");function P(e){i.VnY[e?"unshift":"push"]((()=>{$=e,n(5,$)}))}function V(e){L=e,n(4,L)}w(P,"messageeditor_binding"),w(V,"messageeditor_content_binding");const N=w((e=>{n(4,L=e.detail)}),"content_handler"),H=w((e=>I(e.detail)),"styleEvent_handler"),A=w((()=>D()),"click_handler");return e.$$set=e=>{"stylesEnabled"in e&&n(0,u=e.stylesEnabled),"submitEnabled"in e&&n(1,m=e.submitEnabled),"lines"in e&&n(2,g=e.lines)},e.$capture_state=()=>({__awaiter:l,core:p(),QueryUpdater:d.QueryUpdater,createTextTransform:f.Y0,MessageEditor:f.d5,schema:f.fK,newMessageDocument:h.newMessageDocument,serializeMessage:h.serializeMessage,CompletionPopup:c.KO,Label:c.__,getClient:r.getClient,createEventDispatcher:s.createEventDispatcher,Attach:W,Emoji:M,GIF:T,Send:K,TextStyle:ne,Bold:ae,Italic:he,Brackets:be,Mention:Ge,chunter:b,stylesEnabled:u,submitEnabled:m,lines:g,dispatch:v,styleState:y,editorContent:L,htmlEditor:$,triggers:C,currentPrefix:G,completions:k,completionControl:_,popupVisible:S,lq:j,client:x,query:ze,updateTitles:De,findTitle:E,updateStyle:I,handlePopupSelected:O,onKeyDown:z,handleSubmit:D,transformFunction:B}),e.$inject_state=e=>{"__awaiter"in e&&(l=e.__awaiter),"stylesEnabled"in e&&n(0,u=e.stylesEnabled),"submitEnabled"in e&&n(1,m=e.submitEnabled),"lines"in e&&n(2,g=e.lines),"styleState"in e&&n(3,y=e.styleState),"editorContent"in e&&n(4,L=e.editorContent),"htmlEditor"in e&&n(5,$=e.htmlEditor),"currentPrefix"in e&&n(15,G=e.currentPrefix),"completions"in e&&n(6,k=e.completions),"completionControl"in e&&n(7,_=e.completionControl),"popupVisible"in e&&n(8,S=e.popupVisible),"lq"in e&&n(16,j=e.lq)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{98304&e.$$.dirty&&""!==G&&n(16,j=x.query(j,p().class.Title,ze(G),(e=>{n(6,k=De(e))}),{limit:50}))},[u,m,g,y,L,$,k,_,S,C,I,O,z,D,B,G,j,Z,U,Y,P,V,N,H,A]}w(Se,"create_if_block_2"),w(xe,"create_default_slot"),w(Ee,"create_if_block_1"),w(Ie,"create_hoverMessage_slot"),w(We,"create_if_block"),w(Oe,"create_fragment"),w(ze,"query"),w(De,"updateTitles"),w(Be,"instance");var Re=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Be,Oe,i.N8,{stylesEnabled:0,submitEnabled:1,lines:2}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ReferenceInput",options:e,id:Oe.name})}get stylesEnabled(){throw new Error("<ReferenceInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set stylesEnabled(e){throw new Error("<ReferenceInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get submitEnabled(){throw new Error("<ReferenceInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set submitEnabled(e){throw new Error("<ReferenceInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get lines(){throw new Error("<ReferenceInput>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lines(e){throw new Error("<ReferenceInput>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Re,"ReferenceInput");var Me=Re,Ze="src/components/icons/Bookmark.svelte";function Ue(e){let t,n;const o={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M16.2,18c-0.1,0-0.2,0-0.3-0.1l-6-4l-6,4c-0.2,0.1-0.4,0.1-0.5,0c-0.2-0.1-0.3-0.3-0.3-0.4V4.2 C3.2,3,4.3,2,5.5,2h8.9c1.3,0,2.3,1,2.3,2.2v13.3c0,0.2-0.1,0.4-0.3,0.4C16.4,18,16.3,18,16.2,18z M10,12.8c0.1,0,0.2,0,0.3,0.1 l5.5,3.6V4.2c0-0.6-0.6-1.2-1.3-1.2H5.5C4.8,3,4.2,3.5,4.2,4.2v12.4l5.5-3.6C9.8,12.9,9.9,12.8,10,12.8z"),(0,i.vjr)(n,Ze,5,2,191),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",Ye),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,Ze,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Ue.name,type:"component",source:"",ctx:e}),o}w(Ue,"create_fragment");var Ye="var(--theme-caption-color)";function Pe(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Bookmark",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Bookmark> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:Ye}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(Pe,"instance");var Ve=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Pe,Ue,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Bookmark",options:e,id:Ue.name})}get size(){throw new Error("<Bookmark>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Bookmark>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Ve,"Bookmark");var Te=Ve,Ne="src/components/icons/MoreH.svelte";function He(e){let t,n,o,s;const c={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),s=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M11.8,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S12.7,10.3,11.8,10.3z"),(0,i.vjr)(n,Ne,5,2,191),(0,i.LGW)(o,"d","M18,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S18.9,10.3,18,10.3z"),(0,i.vjr)(o,Ne,6,2,295),(0,i.LGW)(s,"d","M5.5,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S6.5,10.3,5.5,10.3z"),(0,i.vjr)(s,Ne,7,2,395),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",Ae),(0,i.LGW)(t,"viewBox","0 0 24 24"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,Ne,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.gOb)(t,o),(0,i.gOb)(t,s)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:He.name,type:"component",source:"",ctx:e}),c}w(He,"create_fragment");var Ae="var(--theme-caption-color)";function Xe(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("MoreH",o,[]);let{size:c=24}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<MoreH> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:Ae}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(Xe,"instance");var qe=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Xe,He,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"MoreH",options:e,id:He.name})}get size(){throw new Error("<MoreH>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<MoreH>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(qe,"MoreH");var Ke=qe,Fe="src/components/icons/Share.svelte";function Qe(e){let t,n,o;const s={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),o=(0,i.bi5)("path"),(0,i.LGW)(n,"d","M16.7,9.5c-0.3,0-0.5,0.2-0.5,0.5v6.2c0,0.6-0.5,1.1-1.2,1.1H5c-0.6,0-1.2-0.5-1.2-1.1V10 c0-0.3-0.2-0.5-0.5-0.5S2.8,9.7,2.8,10v6.2c0,1.1,1,2.1,2.2,2.1h10c1.2,0,2.2-0.9,2.2-2.1V10C17.2,9.7,17,9.5,16.7,9.5z"),(0,i.vjr)(n,Fe,5,2,191),(0,i.LGW)(o,"d","M7.7,6.2l2.1-2v8.1c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5V4.2l2,2c0.1,0.1,0.2,0.1,0.4,0.1 c0.1,0,0.3,0,0.4-0.1c0.2-0.2,0.2-0.5,0-0.7l-2.9-2.9c0-0.1-0.1-0.1-0.2-0.1c0,0-0.1,0-0.1,0c0,0-0.1,0-0.1,0c0,0,0,0,0,0 c-0.1,0-0.3,0-0.4,0.1L7,5.5C6.8,5.7,6.8,6,7,6.2C7.2,6.4,7.5,6.4,7.7,6.2z"),(0,i.vjr)(o,Fe,8,2,415),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"fill",Je),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,Fe,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(t,o)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Qe.name,type:"component",source:"",ctx:e}),s}w(Qe,"create_fragment");var Je="var(--theme-caption-color)";function et(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Share",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Share> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:Je}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(et,"instance");var tt=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,et,Qe,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Share",options:e,id:Qe.name})}get size(){throw new Error("<Share>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Share>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(tt,"Share");var nt=tt,ot="src/components/icons/Check.svelte";function it(e){let t,n,o,s,c;const r={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),s=(0,i.bi5)("polygon"),(0,i.LGW)(n,"fill",o="#27B166"),(0,i.LGW)(n,"d","M10.1,1C5.2,0.9,1.1,4.9,1,9.8V10c0,5,4,9,9,9c4.9,0,9-4,9-8.9C19,5.1,15.1,1.1,10.1,1z"),(0,i.vjr)(n,ot,5,2,194),(0,i.LGW)(s,"fill",c="#FCFCFC"),(0,i.LGW)(s,"points","8.5,14.3 5.4,11.1 6.6,9.9 8.5,11.7 13.9,6.4 15.1,7.6 "),(0,i.vjr)(s,ot,6,2,311),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,ot,4,0,104)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n),(0,i.gOb)(t,s)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:r,id:it.name,type:"component",source:"",ctx:e}),r}function st(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Check",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Check> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(it,"create_fragment"),w(st,"instance");var ct=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,st,it,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Check",options:e,id:it.name})}get size(){throw new Error("<Check>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Check>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(ct,"Check");var rt=ct,at="src/components/icons/Heart.svelte";function lt(e){let t,n,o;const s={c:w((function(){t=(0,i.bi5)("svg"),n=(0,i.bi5)("path"),(0,i.LGW)(n,"fill",o="#F96E50"),(0,i.LGW)(n,"d","M1,6.8c0-1.3,0.5-2.6,1.5-3.5c0.9-0.9,2.2-1.4,3.5-1.4c1.6,0,3,0.6,4.1,1.8c1-1.2,2.5-1.8,4.1-1.8 c1.3,0,2.6,0.5,3.5,1.4C18.5,4.2,19,5.5,19,6.8c0,4.8-5.8,8.5-9,11.3C6.7,15.2,1,11.6,1,6.8z"),(0,i.vjr)(n,at,5,2,194),(0,i.LGW)(t,"width",e[0]),(0,i.LGW)(t,"height",e[0]),(0,i.LGW)(t,"viewBox","0 0 20 20"),(0,i.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,i.vjr)(t,at,4,0,104)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.LGW)(t,"width",e[0]),1&n&&(0,i.LGW)(t,"height",e[0])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:lt.name,type:"component",source:"",ctx:e}),s}function ut(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Heart",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Heart> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(lt,"create_fragment"),w(ut,"instance");var pt=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,ut,lt,i.N8,{size:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Heart",options:e,id:lt.name})}get size(){throw new Error("<Heart>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Heart>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(pt,"Heart");var dt=pt,ft="src/components/Reactions.svelte";function ht(e,t,n){const o=e.slice();return o[1]=t[n],o}function mt(e){let t,n,o,s,c,r,a,l,u=e[1].count+"";var p=e[1].icon;w((function(e){return{props:{size:20},$$inline:!0}}),"switch_props"),p&&(o=new p({props:{size:20},$$inline:!0}));const d={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o&&(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),c=(0,i.bGB)("div"),r=(0,i.fLW)(u),a=(0,i.DhX)(),(0,i.LGW)(n,"class","icon svelte-1u6udu3"),(0,i.vjr)(n,ft,26,6,921),(0,i.LGW)(c,"class","counter svelte-1u6udu3"),(0,i.vjr)(c,ft,27,6,1003),(0,i.LGW)(t,"class","reaction svelte-1u6udu3"),(0,i.vjr)(t,ft,25,4,892)}),"create"),m:w((function(e,u){(0,i.DsI)(e,t,u),(0,i.gOb)(t,n),o&&(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,c),(0,i.gOb)(c,r),(0,i.gOb)(t,a),l=!0}),"mount"),p:w((function(e,t){if(p!==(p=e[1].icon)){if(o){(0,i.dvw)();const e=o;(0,i.etI)(e.$$.fragment,1,0,(()=>{(0,i.vpE)(e,1)})),(0,i.gbL)()}p?(o=new p({props:{size:20},$$inline:!0}),(0,i.YCL)(o.$$.fragment),(0,i.Ui)(o.$$.fragment,1),(0,i.yef)(o,n,null)):o=null}(!l||1&t)&&u!==(u=e[1].count+"")&&(0,i.Lob)(r,u)}),"update"),i:w((function(e){l||(o&&(0,i.Ui)(o.$$.fragment,e),l=!0)}),"intro"),o:w((function(e){o&&(0,i.etI)(o.$$.fragment,e),l=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),o&&(0,i.vpE)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:d,id:mt.name,type:"each",source:"(25:2) {#each reactions as reaction}",ctx:e}),d}function gt(e){let t,n,o=e[0];(0,i.vzG)(o);let s=[];for(let t=0;t<o.length;t+=1)s[t]=mt(ht(e,o,t));const c=w((e=>(0,i.etI)(s[e],1,1,(()=>{s[e]=null}))),"out"),r={c:w((function(){t=(0,i.bGB)("div");for(let e=0;e<s.length;e+=1)s[e].c();(0,i.LGW)(t,"class","reactions-container svelte-1u6udu3"),(0,i.vjr)(t,ft,23,0,822)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0}),"mount"),p:w((function(e,[n]){if(1&n){let r;for(o=e[0],(0,i.vzG)(o),r=0;r<o.length;r+=1){const c=ht(e,o,r);s[r]?(s[r].p(c,n),(0,i.Ui)(s[r],1)):(s[r]=mt(c),s[r].c(),(0,i.Ui)(s[r],1),s[r].m(t,null))}for((0,i.dvw)(),r=o.length;r<s.length;r+=1)c(r);(0,i.gbL)()}}),"update"),i:w((function(e){if(!n){for(let e=0;e<o.length;e+=1)(0,i.Ui)(s[e]);n=!0}}),"intro"),o:w((function(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)(0,i.etI)(s[e]);n=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),(0,i.RMB)(s,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:r,id:gt.name,type:"component",source:"",ctx:e}),r}function vt(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Reactions",o,[]);let{reactions:c=[{icon:rt,count:3},{icon:dt,count:10}]}=t;const r=["reactions"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Reactions> was created with unknown prop '${e}'`)})),e.$$set=e=>{"reactions"in e&&n(0,c=e.reactions)},e.$capture_state=()=>({Check:rt,Heart:dt,reactions:c}),e.$inject_state=e=>{"reactions"in e&&n(0,c=e.reactions)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}w(ht,"get_each_context"),w(mt,"create_each_block"),w(gt,"create_fragment"),w(vt,"instance");var $t=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,vt,gt,i.N8,{reactions:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Reactions",options:e,id:gt.name})}get reactions(){throw new Error("<Reactions>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set reactions(e){throw new Error("<Reactions>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w($t,"Reactions");var wt=$t,bt="src/components/Replies.svelte";function yt(e,t,n){const o=e.slice();return o[5]=t[n],o}function Lt(e){const t={c:i.ZTd,m:i.ZTd,p:i.ZTd,d:i.ZTd};return(0,i.YyZ)("SvelteRegisterBlock",{block:t,id:Lt.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function Ct(e){let t,n,o=e[4];(0,i.vzG)(o);let s=[];for(let t=0;t<o.length;t+=1)s[t]=_t(yt(e,o,t));let c=e[4].total>St&&jt(e);const r={c:w((function(){for(let e=0;e<s.length;e+=1)s[e].c();t=(0,i.DhX)(),c&&c.c(),n=(0,i.cSb)()}),"create"),m:w((function(e,o){for(let t=0;t<s.length;t+=1)s[t].m(e,o);(0,i.DsI)(e,t,o),c&&c.m(e,o),(0,i.DsI)(e,n,o)}),"mount"),p:w((function(e,n){if(2&n){let c;for(o=e[4],(0,i.vzG)(o),c=0;c<o.length;c+=1){const i=yt(e,o,c);s[c]?s[c].p(i,n):(s[c]=_t(i),s[c].c(),s[c].m(t.parentNode,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}e[4].total>St&&c.p(e,n)}),"update"),d:w((function(e){(0,i.RMB)(s,e),e&&(0,i.GlD)(t),c&&c.d(e),e&&(0,i.GlD)(n)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:r,id:Ct.name,type:"then",source:"(42:34)        {#each users as reply}",ctx:e}),r}function _t(e){let t,n,o,s;const c={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("img"),(0,i.LGW)(n,"class","circle svelte-90yv08"),(0,i.Jn4)(n.src,o=e[5].avatar)||(0,i.LGW)(n,"src",o),(0,i.LGW)(n,"alt",s=e[5].name),(0,i.vjr)(n,bt,43,27,1976),(0,i.LGW)(t,"class","reply svelte-90yv08"),(0,i.vjr)(t,bt,43,8,1957)}),"create"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:_t.name,type:"each",source:"(43:6) {#each users as reply}",ctx:e}),c}function jt(e){let t,n,o,s,c=e[4].total-St+"";const r={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("span"),o=(0,i.fLW)("+"),s=(0,i.fLW)(c),(0,i.LGW)(n,"class","svelte-90yv08"),(0,i.vjr)(n,bt,46,27,2114),(0,i.LGW)(t,"class","reply svelte-90yv08"),(0,i.vjr)(t,bt,46,8,2095)}),"create"),m:w((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.gOb)(n,o),(0,i.gOb)(n,s)}),"mount"),p:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:r,id:jt.name,type:"if",source:"(46:6) {#if users.total > shown}",ctx:e}),r}function Gt(e){const t={c:i.ZTd,m:i.ZTd,p:i.ZTd,d:i.ZTd};return(0,i.YyZ)("SvelteRegisterBlock",{block:t,id:Gt.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function kt(e){let t,n,o,s,r,a,l,u,p=e[0].length+"";s=new c.__({props:{label:b.string.Replies},$$inline:!0});let d={ctx:e,current:null,token:null,hasCatch:!1,pending:Gt,then:Ct,catch:Lt,value:4};(0,i.CR_)(l=e[1](),d);const f={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o=(0,i.fLW)(p),(0,i.YCL)(s.$$.fragment),r=(0,i.DhX)(),a=(0,i.bGB)("div"),d.block.c(),(0,i.LGW)(n,"class","counter svelte-90yv08"),(0,i.vjr)(n,bt,39,2,1777),(0,i.LGW)(a,"class","replies svelte-90yv08"),(0,i.vjr)(a,bt,40,2,1863),(0,i.LGW)(t,"class","replies-container svelte-90yv08"),(0,i.vjr)(t,bt,38,0,1743)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.gOb)(n,o),(0,i.yef)(s,n,null),(0,i.gOb)(t,r),(0,i.gOb)(t,a),d.block.m(a,d.anchor=null),d.mount=()=>a,d.anchor=null,u=!0}),"mount"),p:w((function(t,[n]){e=t,(!u||1&n)&&p!==(p=e[0].length+"")&&(0,i.Lob)(o,p),(0,i.xfz)(d,e,n)}),"update"),i:w((function(e){u||((0,i.Ui)(s.$$.fragment,e),u=!0)}),"intro"),o:w((function(e){(0,i.etI)(s.$$.fragment,e),u=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(s),d.block.d(),d.token=null,d=null}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:f,id:kt.name,type:"component",source:"",ctx:e}),f}w(yt,"get_each_context"),w(Lt,"create_catch_block"),w(Ct,"create_then_block"),w(_t,"create_each_block"),w(jt,"create_if_block"),w(Gt,"create_pending_block"),w(kt,"create_fragment");var St=4;function xt(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Replies",o,[]);var a=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};const l=(0,r.getClient)();let{replies:u=[]}=t;function d(){return a(this,void 0,void 0,(function*(){return yield l.findAll(p().class.Account,{_id:{$in:u}},{limit:St})}))}w(d,"getUsers");const f=["replies"];return Object.keys(t).forEach((e=>{~f.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Replies> was created with unknown prop '${e}'`)})),e.$$set=e=>{"replies"in e&&n(0,u=e.replies)},e.$capture_state=()=>({__awaiter:a,getClient:r.getClient,core:p(),chunter:b,Label:c.__,client:l,replies:u,shown:St,getUsers:d}),e.$inject_state=e=>{"__awaiter"in e&&(a=e.__awaiter),"replies"in e&&n(0,u=e.replies)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u,d]}w(xt,"instance");var Et=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,xt,kt,i.N8,{replies:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Replies",options:e,id:kt.name})}get replies(){throw new Error("<Replies>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set replies(e){throw new Error("<Replies>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Et,"Replies");var It=Et,Wt="src/components/Message.svelte";function Ot(e){let t,n,o,s;const c={c:w((function(){var c,r,a;t=(0,i.bGB)("div"),n=(0,i.bGB)("img"),(0,i.Jn4)(n.src,o=null!=(r=null==(c=e[4])?void 0:c.avatar)?r:"")||(0,i.LGW)(n,"src",o),(0,i.LGW)(n,"alt",s=null==(a=e[4])?void 0:a.name),(0,i.LGW)(n,"class","svelte-vtgnd1"),(0,i.vjr)(n,Wt,116,24,4478),(0,i.LGW)(t,"class","avatar svelte-vtgnd1"),(0,i.vjr)(t,Wt,116,4,4458)}),"create"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n)}),"mount"),p:w((function(e,t){var c,r,a;16&t&&!(0,i.Jn4)(n.src,o=null!=(r=null==(c=e[4])?void 0:c.avatar)?r:"")&&(0,i.LGW)(n,"src",o),16&t&&s!==(s=null==(a=e[4])?void 0:a.name)&&(0,i.LGW)(n,"alt",s)}),"update"),d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:Ot.name,type:"if",source:"(116:2) {#if user}",ctx:e}),c}function zt(e){var t,n;let o,s=(null!=(n=null==(t=e[4])?void 0:t.name)?n:"")+"";const c={c:w((function(){o=(0,i.fLW)(s)}),"create"),m:w((function(e,t){(0,i.DsI)(e,o,t)}),"mount"),p:w((function(e,t){var n,c;16&t&&s!==(s=(null!=(c=null==(n=e[4])?void 0:n.name)?c:"")+"")&&(0,i.Lob)(o,s)}),"update"),d:w((function(e){e&&(0,i.GlD)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:zt.name,type:"if",source:"(121:6) {#if user}",ctx:e}),c}function Dt(e){let t,n,o,s,c,r;o=new wt({$$inline:!0});let a=e[3].length>0&&Bt(e);const l={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),c=(0,i.bGB)("div"),a&&a.c(),(0,i.LGW)(n,"class","svelte-vtgnd1"),(0,i.vjr)(n,Wt,129,8,4990),(0,i.LGW)(c,"class","svelte-vtgnd1"),(0,i.vjr)(c,Wt,132,8,5043),(0,i.LGW)(t,"class","footer svelte-vtgnd1"),(0,i.vjr)(t,Wt,128,6,4961)}),"create"),m:w((function(e,l){(0,i.DsI)(e,t,l),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,c),a&&a.m(c,null),r=!0}),"mount"),p:w((function(e,t){e[3].length>0?a?(a.p(e,t),8&t&&(0,i.Ui)(a,1)):(a=Bt(e),a.c(),(0,i.Ui)(a,1),a.m(c,null)):a&&((0,i.dvw)(),(0,i.etI)(a,1,1,(()=>{a=null})),(0,i.gbL)())}),"update"),i:w((function(e){r||((0,i.Ui)(o.$$.fragment,e),(0,i.Ui)(a),r=!0)}),"intro"),o:w((function(e){(0,i.etI)(o.$$.fragment,e),(0,i.etI)(a),r=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o),a&&a.d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:l,id:Dt.name,type:"if",source:"(128:4) {#if replyIds.length > 0 && !thread}",ctx:e}),l}function Bt(e){let t,n;t=new It({props:{replies:e[3]},$$inline:!0});const o={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};8&n&&(o.replies=e[3]),t.$set(o)}),"update"),i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Bt.name,type:"if",source:"(134:10) {#if replyIds.length > 0}",ctx:e}),o}function Rt(e){let t,n,o,s,r,a,l,u,p,d,f,h,m;o=new c.A({props:{icon:Ke,size:20},$$inline:!0}),a=new c.A({props:{icon:Te,size:20},$$inline:!0}),p=new c.A({props:{icon:nt,size:20},$$inline:!0}),h=new c.A({props:{icon:M,size:20},$$inline:!0});const g={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.bGB)("div"),(0,i.YCL)(a.$$.fragment),l=(0,i.DhX)(),u=(0,i.bGB)("div"),(0,i.YCL)(p.$$.fragment),d=(0,i.DhX)(),f=(0,i.bGB)("div"),(0,i.YCL)(h.$$.fragment),(0,i.LGW)(n,"class","tool svelte-vtgnd1"),(0,i.vjr)(n,Wt,140,6,5215),(0,i.LGW)(r,"class","tool svelte-vtgnd1"),(0,i.vjr)(r,Wt,141,6,5283),(0,i.LGW)(u,"class","tool svelte-vtgnd1"),(0,i.vjr)(u,Wt,142,6,5354),(0,i.LGW)(f,"class","tool svelte-vtgnd1"),(0,i.vjr)(f,Wt,143,6,5422),(0,i.LGW)(t,"class","buttons svelte-vtgnd1"),(0,i.vjr)(t,Wt,139,4,5187)}),"create"),m:w((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),(0,i.yef)(a,r,null),(0,i.gOb)(t,l),(0,i.gOb)(t,u),(0,i.yef)(p,u,null),(0,i.gOb)(t,d),(0,i.gOb)(t,f),(0,i.yef)(h,f,null),m=!0}),"mount"),p:i.ZTd,i:w((function(e){m||((0,i.Ui)(o.$$.fragment,e),(0,i.Ui)(a.$$.fragment,e),(0,i.Ui)(p.$$.fragment,e),(0,i.Ui)(h.$$.fragment,e),m=!0)}),"intro"),o:w((function(e){(0,i.etI)(o.$$.fragment,e),(0,i.etI)(a.$$.fragment,e),(0,i.etI)(p.$$.fragment,e),(0,i.etI)(h.$$.fragment,e),m=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o),(0,i.vpE)(a),(0,i.vpE)(p),(0,i.vpE)(h)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:g,id:Rt.name,type:"if",source:"(139:2) {#if !thread}",ctx:e}),g}function Mt(e){let t,n,o,s,r,a,l,u,p,d,f,h,m,g,v,$,b=e[4]&&Ot(e),y=e[4]&&zt(e);a=new c.ou({props:{value:e[0].modifiedOn,timeOnly:Zt(e[0].modifiedOn)},$$inline:!0}),p=new c.av({props:{message:e[0].message},$$inline:!0});let L=e[3].length>0&&!e[2]&&Dt(e),C=!e[2]&&Rt(e);const _={c:w((function(){t=(0,i.bGB)("div"),b&&b.c(),n=(0,i.DhX)(),o=(0,i.bGB)("div"),s=(0,i.bGB)("div"),y&&y.c(),r=(0,i.bGB)("span"),(0,i.YCL)(a.$$.fragment),l=(0,i.DhX)(),u=(0,i.bGB)("div"),(0,i.YCL)(p.$$.fragment),d=(0,i.DhX)(),L&&L.c(),m=(0,i.DhX)(),C&&C.c(),(0,i.LGW)(r,"class","svelte-vtgnd1"),(0,i.vjr)(r,Wt,120,39,4710),(0,i.LGW)(s,"class","header svelte-vtgnd1"),(0,i.vjr)(s,Wt,119,4,4650),(0,i.LGW)(u,"class","text svelte-vtgnd1"),(0,i.vjr)(u,Wt,124,4,4833),(0,i.LGW)(o,"class","message svelte-vtgnd1"),(0,i.LGW)(o,"data-modified",f=e[0].modifiedOn),(0,i.LGW)(o,"data-lastmodified",h=e[7](e[0])),(0,i.vjr)(o,Wt,118,2,4544),(0,i.LGW)(t,"class","container svelte-vtgnd1"),(0,i.VHj)(t,"no-thread",!e[2]),(0,i.VHj)(t,"isNew",e[6](e[0],e[1])),(0,i.vjr)(t,Wt,114,0,4328)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(c,f){(0,i.DsI)(c,t,f),b&&b.m(t,null),(0,i.gOb)(t,n),(0,i.gOb)(t,o),(0,i.gOb)(o,s),y&&y.m(s,null),(0,i.gOb)(s,r),(0,i.yef)(a,r,null),(0,i.gOb)(o,l),(0,i.gOb)(o,u),(0,i.yef)(p,u,null),(0,i.gOb)(o,d),L&&L.m(o,null),(0,i.gOb)(t,m),C&&C.m(t,null),g=!0,v||($=(0,i.iVk)(t,"click",e[5],!1,!1,!1),v=!0)}),"mount"),p:w((function(e,[c]){e[4]?b?b.p(e,c):(b=Ot(e),b.c(),b.m(t,n)):b&&(b.d(1),b=null),e[4]?y?y.p(e,c):(y=zt(e),y.c(),y.m(s,r)):y&&(y.d(1),y=null);const l={};1&c&&(l.value=e[0].modifiedOn),1&c&&(l.timeOnly=Zt(e[0].modifiedOn)),a.$set(l);const u={};1&c&&(u.message=e[0].message),p.$set(u),e[3].length>0&&!e[2]?L?(L.p(e,c),12&c&&(0,i.Ui)(L,1)):(L=Dt(e),L.c(),(0,i.Ui)(L,1),L.m(o,null)):L&&((0,i.dvw)(),(0,i.etI)(L,1,1,(()=>{L=null})),(0,i.gbL)()),(!g||1&c&&f!==(f=e[0].modifiedOn))&&(0,i.LGW)(o,"data-modified",f),(!g||1&c&&h!==(h=e[7](e[0])))&&(0,i.LGW)(o,"data-lastmodified",h),e[2]?C&&((0,i.dvw)(),(0,i.etI)(C,1,1,(()=>{C=null})),(0,i.gbL)()):C?(C.p(e,c),4&c&&(0,i.Ui)(C,1)):(C=Rt(e),C.c(),(0,i.Ui)(C,1),C.m(t,null)),4&c&&(0,i.VHj)(t,"no-thread",!e[2]),67&c&&(0,i.VHj)(t,"isNew",e[6](e[0],e[1]))}),"update"),i:w((function(e){g||((0,i.Ui)(a.$$.fragment,e),(0,i.Ui)(p.$$.fragment,e),(0,i.Ui)(L),(0,i.Ui)(C),g=!0)}),"intro"),o:w((function(e){(0,i.etI)(a.$$.fragment,e),(0,i.etI)(p.$$.fragment,e),(0,i.etI)(L),(0,i.etI)(C),g=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),b&&b.d(),y&&y.d(),(0,i.vpE)(a),(0,i.vpE)(p),L&&L.d(),C&&C.d(),v=!1,$()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:_,id:Mt.name,type:"component",source:"",ctx:e}),_}function Zt(e){const t=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()).getTime();return new Date(e).getTime()-t>0}function Ut(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("Message",o,[]);var l,d=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{message:f}=t,{notifications:h}=t,{thread:m=!1}=t,g=[];const v=(0,r.getClient)(),$=(0,c.mN)();function b(e){return d(this,void 0,void 0,(function*(){return(yield v.findAll(p().class.Account,{_id:e}))[0]}))}function y(){m||$.navigate({itemId:f._id})}let L;function C(e,t){var n,o;if(void 0===t)return!1;if(m){if(void 0!==e.replyOf){let n=t.lastRead;if(void 0!==t.objectLastReads.get){const i=(0,u.parseFullRef)(e.replyOf);n=null!==(o=t.objectLastReads.get(i._id))&&void 0!==o?o:n}return e.modifiedOn>n}}else{if(e.modifiedOn>t.lastRead)return!0;const o=e.comments;if(void 0!==o){let i=t.lastRead;void 0!==t.objectLastReads.get&&(i=null!==(n=t.objectLastReads.get(e._id))&&void 0!==n?n:i);for(const e of o)if(e.lastModified>i)return!0}}return!1}function _(e){let t=e.modifiedOn;if(!m){const n=e.comments;if(void 0!==n)for(const e of n)t=t>e.lastModified?t:e.lastModified}return t}w(b,"getUser"),w(y,"onClick"),(0,s.onMount)((()=>d(void 0,void 0,void 0,(function*(){n(4,L=yield b(f.modifiedBy))})))),w(C,"isNew"),w(_,"getLastModified");const j=["message","notifications","thread"];return Object.keys(t).forEach((e=>{~j.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Message> was created with unknown prop '${e}'`)})),e.$$set=e=>{"message"in e&&n(0,f=e.message),"notifications"in e&&n(1,h=e.notifications),"thread"in e&&n(2,m=e.thread)},e.$capture_state=()=>({__awaiter:d,_a:l,Account:u.Account,parseFullRef:u.parseFullRef,Ref:u.Ref,Timestamp:u.Timestamp,core:p(),getRouter:c.mN,getClient:r.getClient,onMount:s.onMount,ActionIcon:c.A,DateTime:c.ou,MarkdownViewer:c.av,Bookmark:Te,Emoji:M,MoreH:Ke,Share:nt,Reactions:wt,Replies:It,message:f,notifications:h,thread:m,replyIds:g,client:v,router:$,getUser:b,onClick:y,isToday:Zt,user:L,isNew:C,getLastModified:_}),e.$inject_state=e=>{"__awaiter"in e&&(d=e.__awaiter),"_a"in e&&n(8,l=e._a),"message"in e&&n(0,f=e.message),"notifications"in e&&n(1,h=e.notifications),"thread"in e&&n(2,m=e.thread),"replyIds"in e&&n(3,g=e.replyIds),"user"in e&&n(4,L=e.user)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{if(257&e.$$.dirty){const e=null!==n(8,l=f.comments)&&void 0!==l?l:[];n(3,g=e.map((e=>e.userId)))}},[f,h,m,g,L,y,C,_,l]}w(Ot,"create_if_block_4"),w(zt,"create_if_block_3"),w(Dt,"create_if_block_1"),w(Bt,"create_if_block_2"),w(Rt,"create_if_block"),w(Mt,"create_fragment"),w(Zt,"isToday"),w(Ut,"instance");var Yt=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Ut,Mt,i.N8,{message:0,notifications:1,thread:2}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Message",options:e,id:Mt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"message"in n||console.warn("<Message> was created without expected prop 'message'"),void 0!==t[1]||"notifications"in n||console.warn("<Message> was created without expected prop 'notifications'")}get message(){throw new Error("<Message>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set message(e){throw new Error("<Message>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<Message>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<Message>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get thread(){throw new Error("<Message>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set thread(e){throw new Error("<Message>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Yt,"Message");var Pt=Yt;function Vt(e,t,n){const o=e.slice();return o[5]=t[n],o}function Tt(e,t){let n,o,s;o=new Pt({props:{message:t[5],thread:t[2],notifications:t[1]},$$inline:!0});const c={key:e,first:null,c:w((function(){n=(0,i.cSb)(),(0,i.YCL)(o.$$.fragment),this.first=n}),"create"),m:w((function(e,t){(0,i.DsI)(e,n,t),(0,i.yef)(o,e,t),s=!0}),"mount"),p:w((function(e,n){t=e;const i={};1&n&&(i.message=t[5]),4&n&&(i.thread=t[2]),2&n&&(i.notifications=t[1]),o.$set(i)}),"update"),i:w((function(e){s||((0,i.Ui)(o.$$.fragment,e),s=!0)}),"intro"),o:w((function(e){(0,i.etI)(o.$$.fragment,e),s=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(n),(0,i.vpE)(o,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:Tt.name,type:"each",source:"(25:2) {#each messages as m (m._id)}",ctx:t}),c}function Nt(e){let t,n,o=[],s=new Map,c=e[0];(0,i.vzG)(c);const r=w((e=>e[5]._id),"get_key");(0,i.HeV)(e,c,Vt,r);for(let t=0;t<c.length;t+=1){let n=Vt(e,c,t),i=r(n);s.set(i,o[t]=Tt(i,n))}const a={c:w((function(){t=(0,i.bGB)("div");for(let e=0;e<o.length;e+=1)o[e].c();(0,i.LGW)(t,"class","flex-col"),(0,i.vjr)(t,"src/components/Channel.svelte",23,0,778)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(s,c){(0,i.DsI)(s,t,c);for(let e=0;e<o.length;e+=1)o[e].m(t,null);e[4](t),n=!0}),"mount"),p:w((function(e,[n]){7&n&&(c=e[0],(0,i.vzG)(c),(0,i.dvw)(),(0,i.HeV)(e,c,Vt,r),o=(0,i.GQg)(o,n,r,1,e,c,s,t,i.cly,Tt,null,Vt),(0,i.gbL)())}),"update"),i:w((function(e){if(!n){for(let e=0;e<c.length;e+=1)(0,i.Ui)(o[e]);n=!0}}),"intro"),o:w((function(e){for(let e=0;e<o.length;e+=1)(0,i.etI)(o[e]);n=!1}),"outro"),d:w((function(n){n&&(0,i.GlD)(t);for(let e=0;e<o.length;e+=1)o[e].d();e[4](null)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:a,id:Nt.name,type:"component",source:"",ctx:e}),a}function Ht(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("Channel",o,[]);let c,{messages:r=[]}=t,{notifications:a}=t,{thread:l=!1}=t;const u=["messages","notifications","thread"];function p(e){i.VnY[e?"unshift":"push"]((()=>{c=e,n(3,c)}))}return Object.keys(t).forEach((e=>{~u.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Channel> was created with unknown prop '${e}'`)})),w(p,"div_1_binding"),e.$$set=e=>{"messages"in e&&n(0,r=e.messages),"notifications"in e&&n(1,a=e.notifications),"thread"in e&&n(2,l=e.thread)},e.$capture_state=()=>({Message:Pt,messages:r,notifications:a,thread:l,div:c}),e.$inject_state=e=>{"messages"in e&&n(0,r=e.messages),"notifications"in e&&n(1,a=e.notifications),"thread"in e&&n(2,l=e.thread),"div"in e&&n(3,c=e.div)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r,a,l,c,p]}w(Vt,"get_each_context"),w(Tt,"create_each_block"),w(Nt,"create_fragment"),w(Ht,"instance");var At=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Ht,Nt,i.N8,{messages:0,notifications:1,thread:2}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Channel",options:e,id:Nt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"notifications"in n||console.warn("<Channel> was created without expected prop 'notifications'")}get messages(){throw new Error("<Channel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set messages(e){throw new Error("<Channel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<Channel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<Channel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get thread(){throw new Error("<Channel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set thread(e){throw new Error("<Channel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(At,"Channel");var Xt=At,qt="src/components/CreateDirectMessage.svelte";function Kt(e){let t,n;t=new Xt({props:{notifications:e[3],messages:e[2]},$$inline:!0});const o={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};8&n&&(o.notifications=e[3]),4&n&&(o.messages=e[2]),t.$set(o)}),"update"),i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Kt.name,type:"if",source:"(145:4) {#if currentSpace}",ctx:e}),o}function Ft(e){let t,n,o,s,r,a,l,u,p,d,f;o=new c.jL({props:{component:c.ao,items:e[7](e[4]),searchLabel:b.string.UserTo,showSearch:!0},$$inline:!0});let h=e[0]&&Kt(e);u=new Me({$$inline:!0}),u.$on("message",e[12]);const m={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.bGB)("div"),h&&h.c(),a=(0,i.DhX)(),l=(0,i.bGB)("div"),(0,i.YCL)(u.$$.fragment),(0,i.LGW)(n,"class","address svelte-67ub6e"),(0,i.vjr)(n,qt,135,2,5321),(0,i.LGW)(r,"class","msg-board svelte-67ub6e"),(0,i.vjr)(r,qt,143,2,5507),(0,i.LGW)(l,"class","message-input svelte-67ub6e"),(0,i.vjr)(l,qt,148,2,5662),(0,i.LGW)(t,"class","new-message svelte-67ub6e"),(0,i.vjr)(t,qt,134,0,5293)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(c,m){(0,i.DsI)(c,t,m),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),h&&h.m(r,null),e[11](r),(0,i.gOb)(t,a),(0,i.gOb)(t,l),(0,i.yef)(u,l,null),p=!0,d||(f=(0,i.iVk)(r,"scroll",e[6],!1,!1,!1),d=!0)}),"mount"),p:w((function(e,[t]){const n={};16&t&&(n.items=e[7](e[4])),o.$set(n),e[0]?h?(h.p(e,t),1&t&&(0,i.Ui)(h,1)):(h=Kt(e),h.c(),(0,i.Ui)(h,1),h.m(r,null)):h&&((0,i.dvw)(),(0,i.etI)(h,1,1,(()=>{h=null})),(0,i.gbL)())}),"update"),i:w((function(e){p||((0,i.Ui)(o.$$.fragment,e),(0,i.Ui)(h),(0,i.Ui)(u.$$.fragment,e),p=!0)}),"intro"),o:w((function(e){(0,i.etI)(o.$$.fragment,e),(0,i.etI)(h),(0,i.etI)(u.$$.fragment,e),p=!1}),"outro"),d:w((function(n){n&&(0,i.GlD)(t),(0,i.vpE)(o),h&&h.d(),e[11](null),(0,i.vpE)(u),d=!1,f()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:m,id:Ft.name,type:"component",source:"",ctx:e}),m}function Qt(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("CreateDirectMessage",o,[]);var l=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};const f=(0,r.getClient)(),h=new g.NotificationClient(f);let $,y,L,C,_,j=[],G=[],k=[],S=[];function x(e){return l(this,void 0,void 0,(function*(){if(0!==j.length){if(void 0===$){const e=yield f.createDoc(b.class.Channel,p().space.Model,{name:G.map((e=>e.name)).join(", "),description:"",private:!0,direct:!0,members:[f.accountId(),...j]});n(0,$=e)}yield f.createDoc(b.class.Message,$._id,{message:e}),void 0!==L&&h.readNow(L)}}))}function E(){var e;h.scrollHandler(y,L,null!==(e=null==L?void 0:L.lastRead)&&void 0!==e?e:0,!1)}function I(e){return e.map(((e,t)=>({_id:t,title:e.name,props:{user:e},selected:-1!==j.indexOf(e._id),action:()=>{n(8,j=[...j,e._id])},onDeselect:()=>{n(8,j=j.filter((t=>e._id!==t)))},matcher:t=>-1!==e.name.toLowerCase().indexOf(t)||-1!==e.email.toLowerCase().indexOf(t)})))}w(x,"addMessage"),(0,s.afterUpdate)((()=>{var e;h.initScroll(y,null!==(e=null==L?void 0:L.lastRead)&&void 0!==e?e:0,!1),E()})),w(E,"scrollHandler"),w(I,"popupItems");const W=[];function O(e){i.VnY[e?"unshift":"push"]((()=>{y=e,n(1,y)}))}Object.keys(t).forEach((e=>{~W.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateDirectMessage> was created with unknown prop '${e}'`)})),w(O,"div1_binding");const z=w((e=>{x(e.detail)}),"message_handler");return e.$capture_state=()=>({__awaiter:l,core:p(),Account:u.Account,Ref:u.Ref,Space:u.Space,QueryUpdater:d.QueryUpdater,SelectBox:c.jL,UserInfo:c.ao,getClient:r.getClient,chunter:b,ReferenceInput:Me,Channel:Xt,deepEqual:m.deepEqual,notification:v(),NotificationClient:g.NotificationClient,afterUpdate:s.afterUpdate,client:f,notificationClient:h,to:j,toAccount:G,currentSpace:$,div:y,messages:k,notifications:L,allAccounts:S,accountUpdater:C,query:_,addMessage:x,scrollHandler:E,popupItems:I}),e.$inject_state=e=>{"__awaiter"in e&&(l=e.__awaiter),"to"in e&&n(8,j=e.to),"toAccount"in e&&(G=e.toAccount),"currentSpace"in e&&n(0,$=e.currentSpace),"div"in e&&n(1,y=e.div),"messages"in e&&n(2,k=e.messages),"notifications"in e&&n(3,L=e.notifications),"allAccounts"in e&&n(4,S=e.allAccounts),"accountUpdater"in e&&n(9,C=e.accountUpdater),"query"in e&&n(10,_=e.query)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{512&e.$$.dirty&&n(9,C=f.query(C,p().class.Account,{},(e=>{n(4,S=e.filter((e=>e._id!==f.accountId())))}))),257&e.$$.dirty&&f.findAll(b.class.Channel,{direct:!0,private:!0}).then((e=>{const t=[f.accountId(),...j].sort();for(const o of e){const e=[...o.members].sort();if((0,m.deepEqual)(e,t))return n(0,$=o),void(void 0!==$&&f.findAll(v().class.SpaceNotifications,{objectId:$._id}).then((e=>n(3,L=e.shift()))));n(0,$=void 0)}})),1027&e.$$.dirty&&void 0!==$&&n(10,_=f.query(_,b.class.Message,{space:$._id},(e=>{n(2,k=e),h.setAutoscroll(y)}))),1280&e.$$.dirty&&f.findAll(p().class.Account,{_id:{$in:j}}).then((e=>{G=e,n(3,L=void 0),n(2,k=[]),null==_||_.unsubscribe()}))},[$,y,k,L,S,x,E,I,j,C,_,O,z]}w(Kt,"create_if_block"),w(Ft,"create_fragment"),w(Qt,"instance");var Jt=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Qt,Ft,i.N8,{}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateDirectMessage",options:e,id:Ft.name})}};w(Jt,"CreateDirectMessage");var en=Jt,tn="src/components/ChannelView.svelte";function nn(e){let t,n;t=new Xt({props:{messages:e[3],notifications:e[1]},$$inline:!0});const o={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};8&n&&(o.messages=e[3]),2&n&&(o.notifications=e[1]),t.$set(o)}),"update"),i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:nn.name,type:"if",source:"(74:2) {#if currentSpace}",ctx:e}),o}function on(e){let t,n;t=new Me({$$inline:!0}),t.$on("message",e[8]);const o={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:i.ZTd,i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:on.name,type:"if",source:"(79:2) {#if currentSpace}",ctx:e}),o}function sn(e){let t,n,o,s,c,r,a=e[0]&&nn(e),l=e[0]&&on(e);const u={c:w((function(){t=(0,i.bGB)("div"),a&&a.c(),n=(0,i.DhX)(),o=(0,i.bGB)("div"),l&&l.c(),(0,i.LGW)(t,"class","msg-board svelte-1bxjqog"),(0,i.vjr)(t,tn,72,0,2982),(0,i.LGW)(o,"class","ref-input svelte-1bxjqog"),(0,i.vjr)(o,tn,77,0,3127)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(u,p){(0,i.DsI)(u,t,p),a&&a.m(t,null),e[7](t),(0,i.DsI)(u,n,p),(0,i.DsI)(u,o,p),l&&l.m(o,null),s=!0,c||(r=(0,i.iVk)(t,"scroll",e[5],!1,!1,!1),c=!0)}),"mount"),p:w((function(e,[n]){e[0]?a?(a.p(e,n),1&n&&(0,i.Ui)(a,1)):(a=nn(e),a.c(),(0,i.Ui)(a,1),a.m(t,null)):a&&((0,i.dvw)(),(0,i.etI)(a,1,1,(()=>{a=null})),(0,i.gbL)()),e[0]?l?(l.p(e,n),1&n&&(0,i.Ui)(l,1)):(l=on(e),l.c(),(0,i.Ui)(l,1),l.m(o,null)):l&&((0,i.dvw)(),(0,i.etI)(l,1,1,(()=>{l=null})),(0,i.gbL)())}),"update"),i:w((function(e){s||((0,i.Ui)(a),(0,i.Ui)(l),s=!0)}),"intro"),o:w((function(e){(0,i.etI)(a),(0,i.etI)(l),s=!1}),"outro"),d:w((function(s){s&&(0,i.GlD)(t),a&&a.d(),e[7](null),s&&(0,i.GlD)(n),s&&(0,i.GlD)(o),l&&l.d(),c=!1,r()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:u,id:sn.name,type:"component",source:"",ctx:e}),u}function cn(e,t,n){let{$$slots:o={},$$scope:c}=t;(0,i.KXV)("ChannelView",o,[]);var a=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{currentSpace:l}=t,{notifications:u}=t;const p=(0,r.getClient)(),d=new g.NotificationClient(p);let f,h,m=[];function v(e){return a(this,void 0,void 0,(function*(){yield p.createDoc(b.class.Message,l,{message:e}),void 0!==u&&(yield d.readNow(u))}))}function $(){var e;d.scrollHandler(f,u,null!==(e=null==u?void 0:u.lastRead)&&void 0!==e?e:0,!1)}w(v,"addMessage"),(0,s.beforeUpdate)((()=>a(void 0,void 0,void 0,(function*(){f&&u&&d.before(f,u,l,!1)})))),(0,s.afterUpdate)((()=>{var e;d.initScroll(f,null!==(e=null==u?void 0:u.lastRead)&&void 0!==e?e:0,!1),$()})),w($,"scrollHandler");const y=["currentSpace","notifications"];function L(e){i.VnY[e?"unshift":"push"]((()=>{f=e,n(2,f)}))}Object.keys(t).forEach((e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ChannelView> was created with unknown prop '${e}'`)})),w(L,"div0_binding");const C=w((e=>v(e.detail)),"message_handler");return e.$$set=e=>{"currentSpace"in e&&n(0,l=e.currentSpace),"notifications"in e&&n(1,u=e.notifications)},e.$capture_state=()=>({__awaiter:a,Channel:Xt,ReferenceInput:Me,chunter:b,getClient:r.getClient,afterUpdate:s.afterUpdate,beforeUpdate:s.beforeUpdate,NotificationClient:g.NotificationClient,currentSpace:l,notifications:u,client:p,notificationClient:d,div:f,messages:m,addMessage:v,query:h,scrollHandler:$}),e.$inject_state=e=>{"__awaiter"in e&&(a=e.__awaiter),"currentSpace"in e&&n(0,l=e.currentSpace),"notifications"in e&&n(1,u=e.notifications),"div"in e&&n(2,f=e.div),"messages"in e&&n(3,m=e.messages),"query"in e&&n(6,h=e.query)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{69&e.$$.dirty&&void 0!==l&&n(6,h=p.query(h,b.class.Message,{space:l},(e=>{n(3,m=e),d.setAutoscroll(f)})))},[l,u,f,m,v,$,h,L,C]}w(nn,"create_if_block_1"),w(on,"create_if_block"),w(sn,"create_fragment"),w(cn,"instance");var rn=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,cn,sn,i.N8,{currentSpace:0,notifications:1}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ChannelView",options:e,id:sn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"currentSpace"in n||console.warn("<ChannelView> was created without expected prop 'currentSpace'"),void 0!==t[1]||"notifications"in n||console.warn("<ChannelView> was created without expected prop 'notifications'")}get currentSpace(){throw new Error("<ChannelView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<ChannelView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<ChannelView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<ChannelView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(rn,"ChannelView");var an=rn,ln="src/components/ChannelSeparator.svelte";function un(e){let t,n,o;const s={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),o=(0,i.fLW)(e[0]),(0,i.LGW)(n,"class","label svelte-1csmb5q"),(0,i.vjr)(n,ln,20,2,740),(0,i.LGW)(t,"class","flex-center container svelte-1csmb5q"),(0,i.VHj)(t,"line",e[1]),(0,i.vjr)(t,ln,19,0,691)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){(0,i.DsI)(e,t,s),(0,i.gOb)(t,n),(0,i.gOb)(n,o)}),"mount"),p:w((function(e,[n]){1&n&&(0,i.Lob)(o,e[0]),2&n&&(0,i.VHj)(t,"line",e[1])}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:un.name,type:"component",source:"",ctx:e}),s}function pn(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("ChannelSeparator",o,[]);let{label:c}=t,{line:r=!1}=t;const a=["label","line"];return Object.keys(t).forEach((e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ChannelSeparator> was created with unknown prop '${e}'`)})),e.$$set=e=>{"label"in e&&n(0,c=e.label),"line"in e&&n(1,r=e.line)},e.$capture_state=()=>({label:c,line:r}),e.$inject_state=e=>{"label"in e&&n(0,c=e.label),"line"in e&&n(1,r=e.line)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c,r]}w(un,"create_fragment"),w(pn,"instance");var dn=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,pn,un,i.N8,{label:0,line:1}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ChannelSeparator",options:e,id:un.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"label"in n||console.warn("<ChannelSeparator> was created without expected prop 'label'")}get label(){throw new Error("<ChannelSeparator>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<ChannelSeparator>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get line(){throw new Error("<ChannelSeparator>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set line(e){throw new Error("<ChannelSeparator>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(dn,"ChannelSeparator");var fn=dn;function hn(e,t,n){const o=e.slice();return o[7]=t[n],o}function mn(e,t){let n,o,s;o=new Pt({props:{notifications:t[0],thread:!0,message:t[7]},$$inline:!0});const c={key:e,first:null,c:w((function(){n=(0,i.cSb)(),(0,i.YCL)(o.$$.fragment),this.first=n}),"create"),m:w((function(e,t){(0,i.DsI)(e,n,t),(0,i.yef)(o,e,t),s=!0}),"mount"),p:w((function(e,n){t=e;const i={};1&n&&(i.notifications=t[0]),2&n&&(i.message=t[7]),o.$set(i)}),"update"),i:w((function(e){s||((0,i.Ui)(o.$$.fragment,e),s=!0)}),"intro"),o:w((function(e){(0,i.etI)(o.$$.fragment,e),s=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(n),(0,i.vpE)(o,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:c,id:mn.name,type:"each",source:"(51:2) {#each comments as m (m._id)}",ctx:t}),c}function gn(e){let t,n,o=[],s=new Map,c=e[1];(0,i.vzG)(c);const r=w((e=>e[7]._id),"get_key");(0,i.HeV)(e,c,hn,r);for(let t=0;t<c.length;t+=1){let n=hn(e,c,t),i=r(n);s.set(i,o[t]=mn(i,n))}const a={c:w((function(){t=(0,i.bGB)("div");for(let e=0;e<o.length;e+=1)o[e].c();(0,i.LGW)(t,"class","channel-container svelte-189e0ks"),(0,i.vjr)(t,"src/components/Comments.svelte",49,0,2040)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){(0,i.DsI)(e,t,s);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0}),"mount"),p:w((function(e,[n]){3&n&&(c=e[1],(0,i.vzG)(c),(0,i.dvw)(),(0,i.HeV)(e,c,hn,r),o=(0,i.GQg)(o,n,r,1,e,c,s,t,i.cly,mn,null,hn),(0,i.gbL)())}),"update"),i:w((function(e){if(!n){for(let e=0;e<c.length;e+=1)(0,i.Ui)(o[e]);n=!0}}),"intro"),o:w((function(e){for(let e=0;e<o.length;e+=1)(0,i.etI)(o[e]);n=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t);for(let e=0;e<o.length;e+=1)o[e].d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:a,id:gn.name,type:"component",source:"",ctx:e}),a}function vn(e,t,n){let{$$slots:o={},$$scope:c}=t;(0,i.KXV)("Comments",o,[]);var a=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{message:l}=t,{notifications:p}=t;const d=(0,r.getClient)();let f;const h=(0,s.createEventDispatcher)();(0,s.afterUpdate)((()=>a(void 0,void 0,void 0,(function*(){h("update")}))));let m=[];const g=["message","notifications"];return Object.keys(t).forEach((e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Comments> was created with unknown prop '${e}'`)})),e.$$set=e=>{"message"in e&&n(2,l=e.message),"notifications"in e&&n(0,p=e.notifications)},e.$capture_state=()=>({__awaiter:a,getFullRef:u.getFullRef,SortingOrder:u.SortingOrder,getClient:r.getClient,afterUpdate:s.afterUpdate,createEventDispatcher:s.createEventDispatcher,chunter:b,Message:Pt,message:l,notifications:p,client:d,query:f,dispatch:h,comments:m}),e.$inject_state=e=>{"__awaiter"in e&&(a=e.__awaiter),"message"in e&&n(2,l=e.message),"notifications"in e&&n(0,p=e.notifications),"query"in e&&n(3,f=e.query),"comments"in e&&n(1,m=e.comments)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{12&e.$$.dirty&&n(3,f=d.query(f,b.class.Comment,{replyOf:(0,u.getFullRef)(l._id,l._class)},(e=>{n(1,m=e)}),{sort:{createOn:u.SortingOrder.Ascending}}))},[p,m,l,f]}w(hn,"get_each_context"),w(mn,"create_each_block"),w(gn,"create_fragment"),w(vn,"instance");var $n=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,vn,gn,i.N8,{message:2,notifications:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Comments",options:e,id:gn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[2]||"message"in n||console.warn("<Comments> was created without expected prop 'message'"),void 0!==t[0]||"notifications"in n||console.warn("<Comments> was created without expected prop 'notifications'")}get message(){throw new Error("<Comments>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set message(e){throw new Error("<Comments>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<Comments>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<Comments>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w($n,"Comments");var wn=$n,bn="src/components/ThreadsView.svelte";function yn(e){let t,n,o,s,c,r,a;n=new Pt({props:{message:e[1],notifications:e[0],thread:!0},$$inline:!0}),s=new fn({props:{label:b.string.RepliesText,line:!0},$$inline:!0}),r=new wn({props:{message:e[1],notifications:e[0]},$$inline:!0});const l={c:w((function(){t=(0,i.bGB)("div"),(0,i.YCL)(n.$$.fragment),o=(0,i.DhX)(),(0,i.YCL)(s.$$.fragment),c=(0,i.DhX)(),(0,i.YCL)(r.$$.fragment),(0,i.LGW)(t,"class","flex-col"),(0,i.vjr)(t,bn,97,4,3897)}),"create"),m:w((function(e,l){(0,i.DsI)(e,t,l),(0,i.yef)(n,t,null),(0,i.gOb)(t,o),(0,i.yef)(s,t,null),(0,i.gOb)(t,c),(0,i.yef)(r,t,null),a=!0}),"mount"),p:w((function(e,t){const o={};2&t&&(o.message=e[1]),1&t&&(o.notifications=e[0]),n.$set(o);const i={};2&t&&(i.message=e[1]),1&t&&(i.notifications=e[0]),r.$set(i)}),"update"),i:w((function(e){a||((0,i.Ui)(n.$$.fragment,e),(0,i.Ui)(s.$$.fragment,e),(0,i.Ui)(r.$$.fragment,e),a=!0)}),"intro"),o:w((function(e){(0,i.etI)(n.$$.fragment,e),(0,i.etI)(s.$$.fragment,e),(0,i.etI)(r.$$.fragment,e),a=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(n),(0,i.vpE)(s),(0,i.vpE)(r)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:l,id:yn.name,type:"if",source:"(97:2) {#if message}",ctx:e}),l}function Ln(e){let t,n,o,s,r,a,l,u,p,d,f,h,m,g;o=new c.__({props:{label:b.string.Thread},$$inline:!0}),a=new c.bM({props:{size:16},$$inline:!0});let v=e[1]&&yn(e);f=new Me({$$inline:!0}),f.$on("message",e[9]);const $={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.bGB)("div"),(0,i.YCL)(a.$$.fragment),l=(0,i.DhX)(),u=(0,i.bGB)("div"),v&&v.c(),p=(0,i.DhX)(),d=(0,i.bGB)("div"),(0,i.YCL)(f.$$.fragment),(0,i.LGW)(n,"class","title svelte-udg0nr"),(0,i.vjr)(n,bn,92,2,3674),(0,i.LGW)(r,"class","tool svelte-udg0nr"),(0,i.vjr)(r,bn,93,2,3741),(0,i.LGW)(t,"class","header svelte-udg0nr"),(0,i.vjr)(t,bn,91,0,3651),(0,i.LGW)(u,"class","content svelte-udg0nr"),(0,i.vjr)(u,bn,95,0,3813),(0,i.LGW)(d,"class","ref-input svelte-udg0nr"),(0,i.vjr)(d,bn,104,0,4109)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(c,$){(0,i.DsI)(c,t,$),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),(0,i.yef)(a,r,null),(0,i.DsI)(c,l,$),(0,i.DsI)(c,u,$),v&&v.m(u,null),e[8](u),(0,i.DsI)(c,p,$),(0,i.DsI)(c,d,$),(0,i.yef)(f,d,null),h=!0,m||(g=[(0,i.iVk)(r,"click",e[3],!1,!1,!1),(0,i.iVk)(u,"scroll",e[5],!1,!1,!1)],m=!0)}),"mount"),p:w((function(e,[t]){e[1]?v?(v.p(e,t),2&t&&(0,i.Ui)(v,1)):(v=yn(e),v.c(),(0,i.Ui)(v,1),v.m(u,null)):v&&((0,i.dvw)(),(0,i.etI)(v,1,1,(()=>{v=null})),(0,i.gbL)())}),"update"),i:w((function(e){h||((0,i.Ui)(o.$$.fragment,e),(0,i.Ui)(a.$$.fragment,e),(0,i.Ui)(v),(0,i.Ui)(f.$$.fragment,e),h=!0)}),"intro"),o:w((function(e){(0,i.etI)(o.$$.fragment,e),(0,i.etI)(a.$$.fragment,e),(0,i.etI)(v),(0,i.etI)(f.$$.fragment,e),h=!1}),"outro"),d:w((function(n){n&&(0,i.GlD)(t),(0,i.vpE)(o),(0,i.vpE)(a),n&&(0,i.GlD)(l),n&&(0,i.GlD)(u),v&&v.d(),e[8](null),n&&(0,i.GlD)(p),n&&(0,i.GlD)(d),(0,i.vpE)(f),m=!1,(0,i.j7q)(g)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:$,id:Ln.name,type:"component",source:"",ctx:e}),$}function Cn(e,t,n){let{$$slots:o={},$$scope:a}=t;(0,i.KXV)("ThreadsView",o,[]);var l=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};const p=(0,r.getClient)(),d=(0,c.mN)(),f=new g.NotificationClient(p);let h,m,v,{id:$}=t,{notifications:y}=t,L=0;function C(){d.navigate({itemId:void 0})}function _(e){return l(this,void 0,void 0,(function*(){yield p.createDoc(b.class.Comment,h.space,{replyOf:(0,u.getFullRef)(h._id,h._class),message:e}),void 0!==y&&(yield f.readNow(y,h._id))}))}function j(){void 0!==h&&f.scrollHandler(m,y,L,!0,h._id)}w(C,"close"),w(_,"addMessage"),(0,s.beforeUpdate)((()=>l(void 0,void 0,void 0,(function*(){m&&y&&f.before(m,y,null==h?void 0:h._id,!0)})))),(0,s.afterUpdate)((()=>{f.initScroll(m,L,!0),j()})),w(j,"scrollHandler");const G=["id","notifications"];function k(e){i.VnY[e?"unshift":"push"]((()=>{m=e,n(2,m)}))}Object.keys(t).forEach((e=>{~G.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ThreadsView> was created with unknown prop '${e}'`)})),w(k,"div3_binding");const S=w((e=>_(e.detail)),"message_handler");return e.$$set=e=>{"id"in e&&n(6,$=e.id),"notifications"in e&&n(0,y=e.notifications)},e.$capture_state=()=>({__awaiter:l,Ref:u.Ref,getFullRef:u.getFullRef,IconClose:c.bM,Label:c.__,getRouter:c.mN,getClient:r.getClient,NotificationClient:g.NotificationClient,chunter:b,ChannelSeparator:fn,Comments:wn,MsgView:Pt,ReferenceInput:Me,afterUpdate:s.afterUpdate,beforeUpdate:s.beforeUpdate,client:p,router:d,notificationClient:f,id:$,notifications:y,message:h,div:m,messageLastRead:L,lq:v,close:C,addMessage:_,scrollHandler:j}),e.$inject_state=e=>{"__awaiter"in e&&n(11,l=e.__awaiter),"id"in e&&n(6,$=e.id),"notifications"in e&&n(0,y=e.notifications),"message"in e&&n(1,h=e.message),"div"in e&&n(2,m=e.div),"messageLastRead"in e&&(L=e.messageLastRead),"lq"in e&&n(7,v=e.lq)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{199&e.$$.dirty&&n(7,v=p.query(v,b.class.Message,{_id:$},(e=>l(void 0,void 0,void 0,(function*(){var t,o;n(1,h=e[0]),f.setAutoscroll(m),L=0,void 0!==(null===(t=null==y?void 0:y.objectLastReads)||void 0===t?void 0:t.get)&&(L=null!==(o=y.objectLastReads.get(h._id))&&void 0!==o?o:0)})))))},[y,h,m,C,_,j,$,v,k,S]}w(yn,"create_if_block"),w(Ln,"create_fragment"),w(Cn,"instance");var _n=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Cn,Ln,i.N8,{id:6,notifications:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ThreadsView",options:e,id:Ln.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[6]||"id"in n||console.warn("<ThreadsView> was created without expected prop 'id'"),void 0!==t[0]||"notifications"in n||console.warn("<ThreadsView> was created without expected prop 'notifications'")}get id(){throw new Error("<ThreadsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<ThreadsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<ThreadsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<ThreadsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(_n,"ThreadsView");var jn=_n,Gn="src/components/UserSpaceInfo.svelte";function kn(e){let t,n,o,s,c,r,a,l,u=e[1].map(xn).slice(0,2).join(", ")+(e[1].length>2?` and ${e[1].length-2} more.`:"");const p={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("img"),c=(0,i.DhX)(),r=(0,i.bGB)("div"),a=(0,i.bGB)("div"),l=(0,i.fLW)(u),(0,i.LGW)(n,"class","img svelte-o79fsc"),(0,i.czc)(n,"width",e[3]+"px"),(0,i.czc)(n,"height",e[3]+"px"),(0,i.Jn4)(n.src,o=e[2].avatar)||(0,i.LGW)(n,"src",o),(0,i.LGW)(n,"alt",s="avatar"),(0,i.vjr)(n,Gn,45,6,1433),(0,i.czc)(t,"width",e[3]+"px"),(0,i.czc)(t,"height",e[3]+"px"),(0,i.vjr)(t,Gn,44,4,1378),(0,i.LGW)(a,"class","title svelte-o79fsc"),(0,i.VHj)(a,"header",e[0]),(0,i.VHj)(a,"item",!e[0]),(0,i.vjr)(a,Gn,48,6,1572),(0,i.LGW)(r,"class","caption svelte-o79fsc"),(0,i.vjr)(r,Gn,47,4,1544)}),"create"),m:w((function(e,o){(0,i.DsI)(e,t,o),(0,i.gOb)(t,n),(0,i.DsI)(e,c,o),(0,i.DsI)(e,r,o),(0,i.gOb)(r,a),(0,i.gOb)(a,l)}),"mount"),p:w((function(e,s){8&s&&(0,i.czc)(n,"width",e[3]+"px"),8&s&&(0,i.czc)(n,"height",e[3]+"px"),4&s&&!(0,i.Jn4)(n.src,o=e[2].avatar)&&(0,i.LGW)(n,"src",o),8&s&&(0,i.czc)(t,"width",e[3]+"px"),8&s&&(0,i.czc)(t,"height",e[3]+"px"),2&s&&u!==(u=e[1].map(xn).slice(0,2).join(", ")+(e[1].length>2?` and ${e[1].length-2} more.`:""))&&(0,i.Lob)(l,u),1&s&&(0,i.VHj)(a,"header",e[0]),1&s&&(0,i.VHj)(a,"item",!e[0])}),"update"),d:w((function(e){e&&(0,i.GlD)(t),e&&(0,i.GlD)(c),e&&(0,i.GlD)(r)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:p,id:kn.name,type:"if",source:"(44:2) {#if user}",ctx:e}),p}function Sn(e){let t,n=e[2]&&kn(e);const o={c:w((function(){t=(0,i.bGB)("div"),n&&n.c(),(0,i.LGW)(t,"class","user-container svelte-o79fsc"),(0,i.vjr)(t,Gn,42,0,1332)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,i.DsI)(e,t,o),n&&n.m(t,null)}),"mount"),p:w((function(e,[o]){e[2]?n?n.p(e,o):(n=kn(e),n.c(),n.m(t,null)):n&&(n.d(1),n=null)}),"update"),i:i.ZTd,o:i.ZTd,d:w((function(e){e&&(0,i.GlD)(t),n&&n.d()}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Sn.name,type:"component",source:"",ctx:e}),o}function xn(e){const t=e.name.trim();return t.length>0?t:e.email}function En(e,t,n){let o,{$$slots:s={},$$scope:c}=t;(0,i.KXV)("UserSpaceInfo",s,[]);let{space:a}=t,{headerSize:l=!1}=t;const u=(0,r.getClient)();let f,h,m=[],g=[];const v=["space","headerSize"];return Object.keys(t).forEach((e=>{~v.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<UserSpaceInfo> was created with unknown prop '${e}'`)})),e.$$set=e=>{"space"in e&&n(4,a=e.space),"headerSize"in e&&n(0,l=e.headerSize)},e.$capture_state=()=>({core:p(),QueryUpdater:d.QueryUpdater,getClient:r.getClient,space:a,headerSize:l,client:u,members:m,accounts:g,memberQuery:f,user:h,userName:xn,size:o}),e.$inject_state=e=>{"space"in e&&n(4,a=e.space),"headerSize"in e&&n(0,l=e.headerSize),"members"in e&&n(5,m=e.members),"accounts"in e&&n(1,g=e.accounts),"memberQuery"in e&&n(6,f=e.memberQuery),"user"in e&&n(2,h=e.user),"size"in e&&n(3,o=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(3,o=l?36:24),16&e.$$.dirty&&a&&n(5,m=a.members.filter((e=>e!==u.accountId()))),112&e.$$.dirty&&a&&n(6,f=u.query(f,p().class.Account,{_id:{$in:m}},(e=>{n(1,g=e)}))),2&e.$$.dirty&&n(2,h=g[0])},[l,g,h,o,a,m,f]}w(kn,"create_if_block"),w(Sn,"create_fragment"),w(xn,"userName"),w(En,"instance");var In=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,En,Sn,i.N8,{space:4,headerSize:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"UserSpaceInfo",options:e,id:Sn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[4]||"space"in n||console.warn("<UserSpaceInfo> was created without expected prop 'space'")}get space(){throw new Error("<UserSpaceInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set space(e){throw new Error("<UserSpaceInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get headerSize(){throw new Error("<UserSpaceInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set headerSize(e){throw new Error("<UserSpaceInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(In,"UserSpaceInfo");var Wn=In,On="src/components/SpaceItem.svelte";function zn(e){let t,n,o,s;const c=[Bn,Dn],r=[];function a(e,t){return e[0].direct?0:1}w(a,"select_block_type"),t=a(e),n=r[t]=c[t](e);const l={c:w((function(){n.c(),o=(0,i.cSb)()}),"create"),m:w((function(e,n){r[t].m(e,n),(0,i.DsI)(e,o,n),s=!0}),"mount"),p:w((function(e,s){let l=t;t=a(e),t===l?r[t].p(e,s):((0,i.dvw)(),(0,i.etI)(r[l],1,1,(()=>{r[l]=null})),(0,i.gbL)(),n=r[t],n?n.p(e,s):(n=r[t]=c[t](e),n.c()),(0,i.Ui)(n,1),n.m(o.parentNode,o))}),"update"),i:w((function(e){s||((0,i.Ui)(n),s=!0)}),"intro"),o:w((function(e){(0,i.etI)(n),s=!1}),"outro"),d:w((function(e){r[t].d(e),e&&(0,i.GlD)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:l,id:zn.name,type:"if",source:"(22:0) {#if space}",ctx:e}),l}function Dn(e){let t,n,o,s,r,a,l,u=e[0].name+"";o=new c.JO({props:{icon:e[0].private?b.icon.Lock:b.icon.Hashtag,size:16},$$inline:!0});const p={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("div"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.bGB)("span"),a=(0,i.fLW)(u),(0,i.LGW)(n,"class","icon svelte-1bybztv"),(0,i.vjr)(n,On,26,6,889),(0,i.vjr)(r,On,29,6,1018),(0,i.LGW)(t,"class","flex"),(0,i.vjr)(t,On,25,4,864)}),"create"),m:w((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),(0,i.gOb)(r,a),l=!0}),"mount"),p:w((function(e,t){const n={};1&t&&(n.icon=e[0].private?b.icon.Lock:b.icon.Hashtag),o.$set(n),(!l||1&t)&&u!==(u=e[0].name+"")&&(0,i.Lob)(a,u)}),"update"),i:w((function(e){l||((0,i.Ui)(o.$$.fragment,e),l=!0)}),"intro"),o:w((function(e){(0,i.etI)(o.$$.fragment,e),l=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:p,id:Dn.name,type:"else",source:"(25:2) {:else}",ctx:e}),p}function Bn(e){let t,n;t=new Wn({props:{space:e[0]},$$inline:!0});const o={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};1&n&&(o.space=e[0]),t.$set(o)}),"update"),i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Bn.name,type:"if",source:"(23:2) {#if space.direct}",ctx:e}),o}function Rn(e){let t,n,o=e[0]&&zn(e);const s={c:w((function(){o&&o.c(),t=(0,i.cSb)()}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){o&&o.m(e,s),(0,i.DsI)(e,t,s),n=!0}),"mount"),p:w((function(e,[n]){e[0]?o?(o.p(e,n),1&n&&(0,i.Ui)(o,1)):(o=zn(e),o.c(),(0,i.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,i.dvw)(),(0,i.etI)(o,1,1,(()=>{o=null})),(0,i.gbL)())}),"update"),i:w((function(e){n||((0,i.Ui)(o),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(o),n=!1}),"outro"),d:w((function(e){o&&o.d(e),e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Rn.name,type:"component",source:"",ctx:e}),s}function Mn(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("SpaceItem",o,[]);let{space:r}=t;const a=["space"];return Object.keys(t).forEach((e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<SpaceItem> was created with unknown prop '${e}'`)})),e.$$set=e=>{"space"in e&&n(0,r=e.space)},e.$capture_state=()=>({Icon:c.JO,UserSpaceInfo:Wn,space:r,chunter:b}),e.$inject_state=e=>{"space"in e&&n(0,r=e.space)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r]}w(zn,"create_if_block"),w(Dn,"create_else_block"),w(Bn,"create_if_block_1"),w(Rn,"create_fragment"),w(Mn,"instance");var Zn=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Mn,Rn,i.N8,{space:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"SpaceItem",options:e,id:Rn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"space"in n||console.warn("<SpaceItem> was created without expected prop 'space'")}get space(){throw new Error("<SpaceItem>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set space(e){throw new Error("<SpaceItem>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Zn,"SpaceItem");var Un=Zn,Yn="src/components/SpaceHeader.svelte";function Pn(e){let t,n,o,s;const c=[Tn,Vn],r=[];function a(e,t){return e[0].direct?0:1}w(a,"select_block_type"),t=a(e),n=r[t]=c[t](e);const l={c:w((function(){n.c(),o=(0,i.cSb)()}),"create"),m:w((function(e,n){r[t].m(e,n),(0,i.DsI)(e,o,n),s=!0}),"mount"),p:w((function(e,s){let l=t;t=a(e),t===l?r[t].p(e,s):((0,i.dvw)(),(0,i.etI)(r[l],1,1,(()=>{r[l]=null})),(0,i.gbL)(),n=r[t],n?n.p(e,s):(n=r[t]=c[t](e),n.c()),(0,i.Ui)(n,1),n.m(o.parentNode,o))}),"update"),i:w((function(e){s||((0,i.Ui)(n),s=!0)}),"intro"),o:w((function(e){(0,i.etI)(n),s=!1}),"outro"),d:w((function(e){r[t].d(e),e&&(0,i.GlD)(o)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:l,id:Pn.name,type:"if",source:"(22:0) {#if space}",ctx:e}),l}function Vn(e){let t,n,o,s,r,a,l,u,p,d=e[0].name+"",f=e[0].description+"";o=new c.JO({props:{icon:e[0].private?b.icon.Lock:b.icon.Hashtag,size:16},$$inline:!0});const h={c:w((function(){t=(0,i.bGB)("div"),n=(0,i.bGB)("span"),(0,i.YCL)(o.$$.fragment),s=(0,i.DhX)(),r=(0,i.fLW)(d),a=(0,i.DhX)(),l=(0,i.bGB)("div"),u=(0,i.fLW)(f),(0,i.LGW)(n,"class","svelte-b5rwq6"),(0,i.vjr)(n,Yn,26,6,913),(0,i.LGW)(t,"class","dotted-text title svelte-b5rwq6"),(0,i.vjr)(t,Yn,25,4,875),(0,i.LGW)(l,"class","dotted-text subtitle svelte-b5rwq6"),(0,i.vjr)(l,Yn,31,4,1059)}),"create"),m:w((function(e,c){(0,i.DsI)(e,t,c),(0,i.gOb)(t,n),(0,i.yef)(o,n,null),(0,i.gOb)(t,s),(0,i.gOb)(t,r),(0,i.DsI)(e,a,c),(0,i.DsI)(e,l,c),(0,i.gOb)(l,u),p=!0}),"mount"),p:w((function(e,t){const n={};1&t&&(n.icon=e[0].private?b.icon.Lock:b.icon.Hashtag),o.$set(n),(!p||1&t)&&d!==(d=e[0].name+"")&&(0,i.Lob)(r,d),(!p||1&t)&&f!==(f=e[0].description+"")&&(0,i.Lob)(u,f)}),"update"),i:w((function(e){p||((0,i.Ui)(o.$$.fragment,e),p=!0)}),"intro"),o:w((function(e){(0,i.etI)(o.$$.fragment,e),p=!1}),"outro"),d:w((function(e){e&&(0,i.GlD)(t),(0,i.vpE)(o),e&&(0,i.GlD)(a),e&&(0,i.GlD)(l)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:h,id:Vn.name,type:"else",source:"(25:2) {:else}",ctx:e}),h}function Tn(e){let t,n;t=new Wn({props:{space:e[0],headerSize:!0},$$inline:!0});const o={c:w((function(){(0,i.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,i.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};1&n&&(o.space=e[0]),t.$set(o)}),"update"),i:w((function(e){n||((0,i.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,i.vpE)(t,e)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:o,id:Tn.name,type:"if",source:"(23:2) {#if space.direct}",ctx:e}),o}function Nn(e){let t,n,o=e[0]&&Pn(e);const s={c:w((function(){o&&o.c(),t=(0,i.cSb)()}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){o&&o.m(e,s),(0,i.DsI)(e,t,s),n=!0}),"mount"),p:w((function(e,[n]){e[0]?o?(o.p(e,n),1&n&&(0,i.Ui)(o,1)):(o=Pn(e),o.c(),(0,i.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,i.dvw)(),(0,i.etI)(o,1,1,(()=>{o=null})),(0,i.gbL)())}),"update"),i:w((function(e){n||((0,i.Ui)(o),n=!0)}),"intro"),o:w((function(e){(0,i.etI)(o),n=!1}),"outro"),d:w((function(e){o&&o.d(e),e&&(0,i.GlD)(t)}),"destroy")};return(0,i.YyZ)("SvelteRegisterBlock",{block:s,id:Nn.name,type:"component",source:"",ctx:e}),s}function Hn(e,t,n){let{$$slots:o={},$$scope:s}=t;(0,i.KXV)("SpaceHeader",o,[]);let{space:r}=t;const a=["space"];return Object.keys(t).forEach((e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<SpaceHeader> was created with unknown prop '${e}'`)})),e.$$set=e=>{"space"in e&&n(0,r=e.space)},e.$capture_state=()=>({Icon:c.JO,space:r,chunter:b,UserSpaceInfo:Wn}),e.$inject_state=e=>{"space"in e&&n(0,r=e.space)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r]}w(Pn,"create_if_block"),w(Vn,"create_else_block"),w(Tn,"create_if_block_1"),w(Nn,"create_fragment"),w(Hn,"instance");var An=class extends i.Mjb{constructor(e){super(e),(0,i.S1n)(this,e,Hn,Nn,i.N8,{space:0}),(0,i.YyZ)("SvelteRegisterComponent",{component:this,tagName:"SpaceHeader",options:e,id:Nn.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"space"in n||console.warn("<SpaceHeader> was created without expected prop 'space'")}get space(){throw new Error("<SpaceHeader>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set space(e){throw new Error("<SpaceHeader>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(An,"SpaceHeader");var Xn=An,qn=w((()=>{return void 0,null,e=function*(){return(0,o.setResource)(b.component.CreateChannel,G),(0,o.setResource)(b.component.CreateMessage,en),(0,o.setResource)(b.component.ChannelView,an),(0,o.setResource)(b.component.ThreadsView,jn),(0,o.setResource)(b.component.SpaceItem,Un),(0,o.setResource)(b.component.SpaceHeader,Xn),{}},new Promise(((t,n)=>{var o=t=>{try{s(e.next(t))}catch(e){n(e)}},i=t=>{try{s(e.throw(t))}catch(e){n(e)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,i);s((e=e.apply(undefined,null)).next())}));var e}),"default")},35407:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,r)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationClient=void 0;const i=n(9479),s=n(47715);t.NotificationClient=class{constructor(e){this.client=e,this.lastPosition=0,this.lastTime=0,this.waitingUpdate=!1,this.autoscroll=!1}before(e,t,n,i){return o(this,void 0,void 0,(function*(){n!==this.prevId?(this.waitingUpdate&&void 0!==this.prevId&&null!=this.prevNotifications&&(yield this.updateLastRead(t,i?this.prevId:void 0)),this.prevId=n,this.prevNotifications=s.default(t),this.lastPosition=0,this.lastTime=0,this.autoscroll=!1):this.lastPosition=e.scrollTop}))}readNow(e,t){return o(this,void 0,void 0,(function*(){this.lastTime=Date.now(),yield this.updateLastRead(e,t)}))}initScroll(e,t,n){if(this.autoscroll)e.scrollTo(0,e.scrollHeight);else if(this.lastPosition>0)e.scrollTo(0,this.lastPosition);else{if(t>0){const o=e.getElementsByClassName("message");let i;for(let e=n?1:0;e<o.length;e++){const n=o[e];if(void 0===n)continue;const s=n.dataset.lastmodified;if(void 0!==s&&parseInt(s)>t){i=n;break}}if(void 0!==i)return void i.scrollIntoView(!1)}e.scrollTo(0,e.scrollHeight)}}scrollHandler(e,t,n,i,s){if(void 0===t)return;this.lastPosition=e.scrollTop;const c=e.getElementsByClassName("message"),r=e.getBoundingClientRect().bottom;for(let e=i?1:0;e<c.length;e++){const t=c[e];if(t.getBoundingClientRect().bottom>r)break;const n=t.dataset.modified;if(void 0===n)continue;const o=parseInt(n);this.lastTime=o>this.lastTime?o:this.lastTime}this.lastTime>n&&(this.waitingUpdate||(this.waitingUpdate=!0,setTimeout((()=>o(this,void 0,void 0,(function*(){return yield this.updateLastRead(t,s)}))),3e3)))}setAutoscroll(e){this.autoscroll=this.lastPosition>0&&this.lastPosition>e.scrollHeight-e.clientHeight-30}updateLastRead(e,t){return o(this,void 0,void 0,(function*(){void 0!==e&&(void 0===t?yield this.client.updateDoc(e._class,e.space,e._id,{lastRead:this.lastTime}):(void 0===e.objectLastReads.set&&(e.objectLastReads=new Map),e.objectLastReads.set(t,this.lastTime),yield this.client.updateDoc(e._class,e.space,e._id,{objectLastReads:e.objectLastReads})),this.waitingUpdate=!1)}))}},t.default=i.plugin("notification",{},{class:{SpaceNotifications:"",SpaceInfo:""},mappers:{SpaceInfo:"",SpaceNotification:""},dd:{SpaceInfo:"",SpaceNotifications:""}})},4003:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,r)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PresentationClient=void 0;const i=n(9479),s=n(72451),c=n(9862);class r{constructor(e,t){this.client=e,this.callback=t,c.onDestroy((()=>{var e;null===(e=this.unsubscribe)||void 0===e||e.call(this),this.unsubscribe=void 0}))}update(e,t,n){var o;this.checkParams(t,e,n)||(null===(o=this.unsubscribe)||void 0===o||o.call(this),this.oldQuery=t,this.oldClass=e,this.oldOptions=n,this.client().then((o=>{this.unsubscribe=o.query(e,t,this.callback,n)})).catch((e=>{console.error(e)})))}checkParams(e,t,n){return s.deepEqual(this.oldQuery,e)&&this.oldClass===t&&s.deepEqual(this.oldOptions,n)}}class a{constructor(e,t){this.client=e,this.accountIdValue=t}static create(e,t){return o(this,void 0,void 0,(function*(){return new a(t,e)}))}findAll(e,t,n){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).findAll(e,t,n)}))}tx(e){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).tx(e).catch((e=>this.handleError(e)))}))}notifyTx(e){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).notifyTx(e).catch((e=>this.handleError(e)))}))}query(e,t,n,o,i){return void 0!==e?(e.update(t,n,i),e):this.liveQuery(t,n,o,i)}accountId(){return this.accountIdValue}createDoc(e,t,n,i,s){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).createDoc(e,t,n,i,s).catch((e=>{throw this.handleError(e),e}))}))}createShortRef(e,t,n){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).createShortRef(e,t,n)}))}updateDoc(e,t,n,i,s){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).updateDoc(e,t,n,i,s).catch((e=>this.handleError(e)))}))}removeDoc(e,t,n,i){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).removeDoc(e,t,n,i).catch((e=>this.handleError(e)))}))}liveQuery(e,t,n,o){const i=new r(this.client,n);return i.update(e,t,o),{update:(e,t,n)=>i.update(e,t,n),unsubscribe:()=>{var e;null===(e=i.unsubscribe)||void 0===e||e.call(i)}}}handleError(e){throw console.error(e),e}}t.PresentationClient=a,t.default=i.plugin("presentation",{},{})}}]);
"use strict";(self.webpackChunkprod=self.webpackChunkprod||[]).push([[930,243],{91183:(e,t,n)=>{n.r(t),n.d(t,{default:()=>fn});var o=n(9479),i=n(98097),c=n(1808),s=n(3130),r=n(9862),a=n(26148),l=n(35107),u=n(41350),p=n.n(u),d=n(97904),f=n(35407),m=n(72451),$=n(4003),g=Object.defineProperty,h=(e,t)=>g(e,"name",{value:t,configurable:!0}),w=(e,t,n)=>new Promise(((o,i)=>{var c=e=>{try{r(n.next(e))}catch(e){i(e)}},s=e=>{try{r(n.throw(e))}catch(e){i(e)}},r=e=>e.done?o(e.value):Promise.resolve(e.value).then(c,s);r((n=n.apply(e,t)).next())}));function v(e){switch(e){case c.default.string.Open:return"#9D92C4";case c.default.string.InProgress:return"#61A6AF";case c.default.string.Closed:return"#73A6CD";default:return"#F28469"}}h(v,"getStatusColor");var b=(0,i.mergeIds)(c.default,{component:{CreateProject:"",ProjectView:"",MyTasksView:"",FavoriteView:"",CreateTask:"",EditTask:"",TaskPreview:"",TaskRefView:""}});function y(e){let t,n,o;function i(t){e[8](t)}h(i,"mdrefeditor_value_binding");let c={label:e[2],placeholder:e[3],lines:e[1],findFunction:e[6],completions:e[4]};void 0!==e[0]&&(c.value=e[0]),t=new a.c_({props:c,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"value",i))),t.$on("blur",e[9]),t.$on("prefix",e[10]);const r={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,n){(0,s.yef)(t,e,n),o=!0}),"mount"),p:h((function(e,[o]){const i={};4&o&&(i.label=e[2]),8&o&&(i.placeholder=e[3]),2&o&&(i.lines=e[1]),16&o&&(i.completions=e[4]),!n&&1&o&&(n=!0,i.value=e[0],(0,s.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:h((function(e){o||((0,s.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),o=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:y.name,type:"component",source:"",ctx:e}),r}function k(e){const t=[];for(const n of e){const e=n.title;t.push({key:`${n._id}${n.title}`,completion:n.objectId,label:e,title:`${e} - ${n.objectClass}`,class:n.objectClass,id:n.objectId})}return t}function _(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("DescriptionEditor",o,[]);var c=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return h(i,"adopt"),new(n||(n=Promise))((function(n,c){function s(e){try{a(o.next(e))}catch(e){c(e)}}function r(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){e.done?n(e.value):i(e.value).then(s,r)}h(s,"fulfilled"),h(r,"rejected"),h(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{lines:r=10}=t,{value:u=""}=t,{label:d}=t,{placeholder:f}=t,{currentSpace:m}=t,$=[];const g=(0,l.getClient)();function v(e){return c(this,void 0,void 0,(function*(){const t=yield g.findAll(p().class.Title,{title:{$like:e+"%"}},{limit:50});n(4,$=k(t))}))}function b(e){return c(this,void 0,void 0,(function*(){const t=yield g.findAll(p().class.Account,{name:{$like:"%"+e+"%"}},{limit:50});n(4,$=y(t))}))}function y(e){const t=[];for(const n of e)t.push({key:n._id,completion:n._id,label:n.email,title:n.name,class:p().class.Account,id:`${m}-${n._id}`});return t}function _(e){return c(this,void 0,void 0,(function*(){0!==e.length&&(e.startsWith("[[")?yield v(e.substring(2)):e.startsWith("@")&&(yield b(e.substring(1))))}))}function C(e){return c(this,void 0,void 0,(function*(){const t=yield g.findAll(p().class.Title,{title:e});for(const n of t)if(n.title===e)return[{id:n.objectId,class:n.objectClass}];return[]}))}h(v,"getTitles"),h(b,"getAccounts"),h(y,"updateAccounts"),h(_,"getCompletions"),h(C,"findTitle");const I=["lines","value","label","placeholder","currentSpace"];function S(e){u=e,n(0,u)}function x(t){s.cKT.call(this,e,t)}Object.keys(t).forEach((e=>{~I.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<DescriptionEditor> was created with unknown prop '${e}'`)})),h(S,"mdrefeditor_value_binding"),h(x,"blur_handler");const j=h((e=>w(this,null,(function*(){yield _(e.detail)}))),"prefix_handler");return e.$$set=e=>{"lines"in e&&n(1,r=e.lines),"value"in e&&n(0,u=e.value),"label"in e&&n(2,d=e.label),"placeholder"in e&&n(3,f=e.placeholder),"currentSpace"in e&&n(7,m=e.currentSpace)},e.$capture_state=()=>({__awaiter:c,core:p(),getClient:l.getClient,MDRefEditor:a.c_,lines:r,value:u,label:d,placeholder:f,currentSpace:m,completions:$,client:g,getTitles:v,getAccounts:b,updateTitles:k,updateAccounts:y,getCompletions:_,findTitle:C}),e.$inject_state=e=>{"__awaiter"in e&&(c=e.__awaiter),"lines"in e&&n(1,r=e.lines),"value"in e&&n(0,u=e.value),"label"in e&&n(2,d=e.label),"placeholder"in e&&n(3,f=e.placeholder),"currentSpace"in e&&n(7,m=e.currentSpace),"completions"in e&&n(4,$=e.completions)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u,r,d,f,$,_,C,m,S,x,j]}h(y,"create_fragment"),h(k,"updateTitles"),h(_,"instance");var C=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,_,y,s.N8,{lines:1,value:0,label:2,placeholder:3,currentSpace:7}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"DescriptionEditor",options:e,id:y.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[2]||"label"in n||console.warn("<DescriptionEditor> was created without expected prop 'label'"),void 0!==t[3]||"placeholder"in n||console.warn("<DescriptionEditor> was created without expected prop 'placeholder'"),void 0!==t[7]||"currentSpace"in n||console.warn("<DescriptionEditor> was created without expected prop 'currentSpace'")}get lines(){throw new Error("<DescriptionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lines(e){throw new Error("<DescriptionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<DescriptionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<DescriptionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<DescriptionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<DescriptionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get placeholder(){throw new Error("<DescriptionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set placeholder(e){throw new Error("<DescriptionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get currentSpace(){throw new Error("<DescriptionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<DescriptionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(C,"DescriptionEditor");var I=C;function S(e){let t,n,o,i,c;n=new d.Channel({props:{messages:e[0],notifications:e[1],thread:!0},$$inline:!0}),i=new d.ReferenceInput({props:{currentSpace:e[2]},$$inline:!0}),i.$on("message",e[3]);const r={c:h((function(){t=(0,s.bGB)("div"),(0,s.YCL)(n.$$.fragment),o=(0,s.DhX)(),(0,s.YCL)(i.$$.fragment),(0,s.LGW)(t,"class","msg-board svelte-jrrzf9"),(0,s.vjr)(t,"src/components/Comments.svelte",23,0,794)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,r){(0,s.DsI)(e,t,r),(0,s.yef)(n,t,null),(0,s.DsI)(e,o,r),(0,s.yef)(i,e,r),c=!0}),"mount"),p:h((function(e,[t]){const o={};1&t&&(o.messages=e[0]),2&t&&(o.notifications=e[1]),n.$set(o);const c={};4&t&&(c.currentSpace=e[2]),i.$set(c)}),"update"),i:h((function(e){c||((0,s.Ui)(n.$$.fragment,e),(0,s.Ui)(i.$$.fragment,e),c=!0)}),"intro"),o:h((function(e){(0,s.etI)(n.$$.fragment,e),(0,s.etI)(i.$$.fragment,e),c=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.vpE)(n),e&&(0,s.GlD)(o),(0,s.vpE)(i,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:S.name,type:"component",source:"",ctx:e}),r}function x(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("Comments",o,[]);let{messages:c=[]}=t,{notifications:r}=t,{currentSpace:a}=t;const l=["messages","notifications","currentSpace"];function u(t){s.cKT.call(this,e,t)}return Object.keys(t).forEach((e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Comments> was created with unknown prop '${e}'`)})),h(u,"message_handler"),e.$$set=e=>{"messages"in e&&n(0,c=e.messages),"notifications"in e&&n(1,r=e.notifications),"currentSpace"in e&&n(2,a=e.currentSpace)},e.$capture_state=()=>({Channel:d.Channel,ReferenceInput:d.ReferenceInput,messages:c,notifications:r,currentSpace:a}),e.$inject_state=e=>{"messages"in e&&n(0,c=e.messages),"notifications"in e&&n(1,r=e.notifications),"currentSpace"in e&&n(2,a=e.currentSpace)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c,r,a,u]}h(S,"create_fragment"),h(x,"instance");var j=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,x,S,s.N8,{messages:0,notifications:1,currentSpace:2}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Comments",options:e,id:S.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"notifications"in n||console.warn("<Comments> was created without expected prop 'notifications'"),void 0!==t[2]||"currentSpace"in n||console.warn("<Comments> was created without expected prop 'currentSpace'")}get messages(){throw new Error("<Comments>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set messages(e){throw new Error("<Comments>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<Comments>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<Comments>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get currentSpace(){throw new Error("<Comments>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<Comments>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(j,"Comments");var T=j,L="src/components/Status.svelte";function E(e){let t,n,o,i,c;i=new a.__({props:{label:e[0]},$$inline:!0});const r={c:h((function(){t=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.DhX)(),(0,s.YCL)(i.$$.fragment),(0,s.LGW)(n,"class","status svelte-4y2lh9"),(0,s.czc)(n,"background-color",e[1]),(0,s.vjr)(n,L,22,2,818),(0,s.LGW)(t,"class","taskstatus-container svelte-4y2lh9"),(0,s.vjr)(t,L,21,0,781)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,r){(0,s.DsI)(e,t,r),(0,s.gOb)(t,n),(0,s.gOb)(t,o),(0,s.yef)(i,t,null),c=!0}),"mount"),p:h((function(e,[t]){(!c||2&t)&&(0,s.czc)(n,"background-color",e[1]);const o={};1&t&&(o.label=e[0]),i.$set(o)}),"update"),i:h((function(e){c||((0,s.Ui)(i.$$.fragment,e),c=!0)}),"intro"),o:h((function(e){(0,s.etI)(i.$$.fragment,e),c=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.vpE)(i)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:E.name,type:"component",source:"",ctx:e}),r}function D(e,t,n){let o,{$$slots:i={},$$scope:c}=t;(0,s.KXV)("Status",i,[]);let{value:r}=t;const l=["value"];return Object.keys(t).forEach((e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Status> was created with unknown prop '${e}'`)})),e.$$set=e=>{"value"in e&&n(0,r=e.value)},e.$capture_state=()=>({Label:a.__,getStatusColor:v,value:r,color:o}),e.$inject_state=e=>{"value"in e&&n(0,r=e.value),"color"in e&&n(1,o=e.color)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(1,o=v(r))},[r,o]}h(E,"create_fragment"),h(D,"instance");var Y=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,D,E,s.N8,{value:0}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Status",options:e,id:E.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"value"in n||console.warn("<Status> was created without expected prop 'value'")}get value(){throw new Error("<Status>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<Status>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(Y,"Status");var P=Y,{Object:R}=s.lig,Z="src/components/StatusPicker.svelte";function O(e,t,n){const o=e.slice();return o[12]=t[n],o}function G(e){let t,n;function o(){return e[8](e[12])}h(o,"func_2"),t=new a.rp({props:{component:P,props:{value:e[12]},selectable:!0,action:o},$$inline:!0});const i={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(n,i){e=n;const c={};1&i&&(c.props={value:e[12]}),9&i&&(c.action=o),t.$set(c)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:i,id:G.name,type:"each",source:"(41:4) {#each items.filter((u) => u !== selected) as item}",ctx:e}),i}function U(e){let t,n,o,i;t=new a.rp({props:{component:P,props:{value:e[0]},selectable:!0,selected:!0,action:e[6]},$$inline:!0});let c=e[5].filter(e[7]);(0,s.vzG)(c);let r=[];for(let t=0;t<c.length;t+=1)r[t]=G(O(e,c,t));const l=h((e=>(0,s.etI)(r[e],1,1,(()=>{r[e]=null}))),"out"),u={c:h((function(){(0,s.YCL)(t.$$.fragment),n=(0,s.DhX)();for(let e=0;e<r.length;e+=1)r[e].c();o=(0,s.cSb)()}),"create"),m:h((function(e,c){(0,s.yef)(t,e,c),(0,s.DsI)(e,n,c);for(let t=0;t<r.length;t+=1)r[t].m(e,c);(0,s.DsI)(e,o,c),i=!0}),"mount"),p:h((function(e,n){const i={};if(1&n&&(i.props={value:e[0]}),9&n&&(i.action=e[6]),t.$set(i),57&n){let t;for(c=e[5].filter(e[7]),(0,s.vzG)(c),t=0;t<c.length;t+=1){const i=O(e,c,t);r[t]?(r[t].p(i,n),(0,s.Ui)(r[t],1)):(r[t]=G(i),r[t].c(),(0,s.Ui)(r[t],1),r[t].m(o.parentNode,o))}for((0,s.dvw)(),t=c.length;t<r.length;t+=1)l(t);(0,s.gbL)()}}),"update"),i:h((function(e){if(!i){(0,s.Ui)(t.$$.fragment,e);for(let e=0;e<c.length;e+=1)(0,s.Ui)(r[e]);i=!0}}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)(0,s.etI)(r[e]);i=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e),e&&(0,s.GlD)(n),(0,s.RMB)(r,e),e&&(0,s.GlD)(o)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:u,id:U.name,type:"slot",source:"(29:2) <PopupMenu {margin} bind:show={pressed} bind:title>",ctx:e}),u}function B(e){let t,n,o,i,c,r,l,u,p,d,f,m,$;function g(t){e[9](t)}function w(t){e[10](t)}h(g,"popupmenu_show_binding"),h(w,"popupmenu_title_binding");let v={margin:e[1],$$slots:{default:[U]},$$scope:{ctx:e}};void 0!==e[3]&&(v.show=e[3]),void 0!==e[2]&&(v.title=e[2]),n=new a.ZE({props:v,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(n,"show",g))),s.VnY.push((()=>(0,s.akz)(n,"title",w))),u=new a.__({props:{label:e[2]},$$inline:!0}),d=new P({props:{value:e[0]},$$inline:!0});const b={c:h((function(){t=(0,s.bGB)("div"),(0,s.YCL)(n.$$.fragment),c=(0,s.DhX)(),r=(0,s.bGB)("div"),l=(0,s.bGB)("div"),(0,s.YCL)(u.$$.fragment),p=(0,s.DhX)(),(0,s.YCL)(d.$$.fragment),(0,s.LGW)(l,"class","title svelte-2c90r2"),(0,s.vjr)(l,Z,60,4,1821),(0,s.LGW)(r,"class","selected svelte-2c90r2"),(0,s.vjr)(r,Z,53,2,1683),(0,s.LGW)(t,"class","statusPicker svelte-2c90r2"),(0,s.vjr)(t,Z,27,0,1047)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(o,i){(0,s.DsI)(o,t,i),(0,s.yef)(n,t,null),(0,s.gOb)(t,c),(0,s.gOb)(t,r),(0,s.gOb)(r,l),(0,s.yef)(u,l,null),(0,s.gOb)(r,p),(0,s.yef)(d,r,null),f=!0,m||($=(0,s.iVk)(r,"click",(0,s.AT7)(e[11]),!1,!0,!1),m=!0)}),"mount"),p:h((function(e,[t]){const c={};2&t&&(c.margin=e[1]),32777&t&&(c.$$scope={dirty:t,ctx:e}),!o&&8&t&&(o=!0,c.show=e[3],(0,s.hjT)((()=>o=!1))),!i&&4&t&&(i=!0,c.title=e[2],(0,s.hjT)((()=>i=!1))),n.$set(c);const r={};4&t&&(r.label=e[2]),u.$set(r);const a={};1&t&&(a.value=e[0]),d.$set(a)}),"update"),i:h((function(e){f||((0,s.Ui)(n.$$.fragment,e),(0,s.Ui)(u.$$.fragment,e),(0,s.Ui)(d.$$.fragment,e),f=!0)}),"intro"),o:h((function(e){(0,s.etI)(n.$$.fragment,e),(0,s.etI)(u.$$.fragment,e),(0,s.etI)(d.$$.fragment,e),f=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.vpE)(n),(0,s.vpE)(u),(0,s.vpE)(d),m=!1,$()}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:b,id:B.name,type:"component",source:"",ctx:e}),b}function A(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("StatusPicker",o,[]);let{selected:l}=t,{margin:u=5}=t,p=c.default.string.Status;const d=(0,r.createEventDispatcher)(),f=Object.entries(c.TaskStatuses).map((([e,t])=>t));let m=!1;const $=["selected","margin"];R.keys(t).forEach((e=>{~$.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<StatusPicker> was created with unknown prop '${e}'`)}));const g=h((()=>{n(0,l=void 0),n(3,m=!m),d("change",l)}),"func"),w=h((e=>e!==l),"func_1"),v=h((e=>{n(0,l=e),n(3,m=!m),d("change",l)}),"func_2");function b(e){m=e,n(3,m)}function y(e){p=e,n(2,p)}h(b,"popupmenu_show_binding"),h(y,"popupmenu_title_binding");const k=h((e=>{n(3,m=!m),e.stopPropagation()}),"click_handler");return e.$$set=e=>{"selected"in e&&n(0,l=e.selected),"margin"in e&&n(1,u=e.margin)},e.$capture_state=()=>({PopupMenu:a.ZE,PopupItem:a.rp,Label:a.__,Status:P,task:c.default,TaskStatuses:c.TaskStatuses,createEventDispatcher:r.createEventDispatcher,selected:l,margin:u,title:p,dispatch:d,items:f,pressed:m}),e.$inject_state=e=>{"selected"in e&&n(0,l=e.selected),"margin"in e&&n(1,u=e.margin),"title"in e&&n(2,p=e.title),"pressed"in e&&n(3,m=e.pressed)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[l,u,p,m,d,f,g,w,v,b,y,k]}h(O,"get_each_context"),h(G,"create_each_block"),h(U,"create_default_slot"),h(B,"create_fragment"),h(A,"instance");var V=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,A,B,s.N8,{selected:0,margin:1}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"StatusPicker",options:e,id:B.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"selected"in n||console.warn("<StatusPicker> was created without expected prop 'selected'")}get selected(){throw new Error("<StatusPicker>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selected(e){throw new Error("<StatusPicker>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get margin(){throw new Error("<StatusPicker>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set margin(e){throw new Error("<StatusPicker>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(V,"StatusPicker");var N=V;function q(e){let t,n;t=new a.$0({props:{label:b.string.ToDos,icon:a.jB,$$slots:{default:[z]},$$scope:{ctx:e}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};268435472&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:q.name,type:"else",source:"(162:2) {:else}",ctx:e}),o}function M(e){let t,n;t=new a.rj({props:{column:1},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:s.ZTd,i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:M.name,type:"if",source:"(160:51) ",ctx:e}),o}function W(e){let t,n,o,i;t=new a.$0({props:{label:b.string.GeneralInformation,icon:a.Xh,$$slots:{default:[J]},$$scope:{ctx:e}},$$inline:!0}),o=new a.$0({props:{label:b.string.Comments,icon:a.eB,$$slots:{default:[te]},$$scope:{ctx:e}},$$inline:!0});const c={c:h((function(){(0,s.YCL)(t.$$.fragment),n=(0,s.DhX)(),(0,s.YCL)(o.$$.fragment)}),"create"),m:h((function(e,c){(0,s.yef)(t,e,c),(0,s.DsI)(e,n,c),(0,s.yef)(o,e,c),i=!0}),"mount"),p:h((function(e,n){const i={};268435663&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const c={};268435489&n&&(c.$$scope={dirty:n,ctx:e}),o.$set(c)}),"update"),i:h((function(e){i||((0,s.Ui)(t.$$.fragment,e),(0,s.Ui)(o.$$.fragment,e),i=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),(0,s.etI)(o.$$.fragment,e),i=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e),e&&(0,s.GlD)(n),(0,s.vpE)(o,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:c,id:W.name,type:"if",source:"(128:2) {#if selectedTab === task.string.General}",ctx:e}),c}function z(e){let t,n,o;function i(t){e[21](t)}h(i,"checkboxlist_items_binding");let c={label:b.string.AddCheckItem,editable:!0};void 0!==e[4]&&(c.items=e[4]),t=new a.$({props:c,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"items",i)));const r={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),o=!0}),"mount"),p:h((function(e,o){const i={};!n&&16&o&&(n=!0,i.items=e[4],(0,s.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:h((function(e){o||((0,s.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),o=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:z.name,type:"slot",source:"(163:4) <Section label={task.string.ToDos} icon={IconToDo}>",ctx:e}),r}function X(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:X.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function K(e){let t,n,o;function i(t){e[17](t)}h(i,"userbox_selected_binding");let c={users:e[27],caption:b.string.ProjectMembers,title:b.string.Assignee,label:b.string.AssignTask,showSearch:!0};void 0!==e[3]&&(c.selected=e[3]),t=new a.kL({props:c,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"selected",i)));const r={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),o=!0}),"mount"),p:h((function(e,o){const i={};!n&&8&o&&(n=!0,i.selected=e[3],(0,s.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:h((function(e){o||((0,s.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),o=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:K.name,type:"then",source:"(133:47)            <UserBox             bind:selected={assignee}",ctx:e}),r}function F(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:F.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function H(e){let t,n,o;function i(t){e[19](t)}h(i,"descriptioneditor_value_binding");let c={currentSpace:e[0]._id,placeholder:b.string.TaskDescription,label:b.string.TaskDescription,lines:5};void 0!==e[2]&&(c.value=e[2]),t=new I({props:c,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"value",i)));const r={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),o=!0}),"mount"),p:h((function(e,o){const i={};1&o&&(i.currentSpace=e[0]._id),!n&&4&o&&(n=!0,i.value=e[2],(0,s.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:h((function(e){o||((0,s.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),o=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:H.name,type:"slot",source:"(144:8) <Row>",ctx:e}),r}function Q(e){let t,n,o,i,c,r,l,u,p,d,f,m,$;function g(t){e[15](t)}h(g,"editbox_value_binding");let w={label:b.string.TaskName};function v(t){e[16](t)}void 0!==e[1]&&(w.value=e[1]),t=new a.k3({props:w,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"value",g))),h(v,"statuspicker_selected_binding");let y={};void 0!==e[7]&&(y.selected=e[7]),i=new N({props:y,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(i,"selected",v)));let k={ctx:e,current:null,token:null,hasCatch:!1,pending:F,then:K,catch:X,value:27,blocks:[,,,]};function _(t){e[18](t)}(0,s.CR_)(l=e[10](),k),h(_,"datepicker_selected_binding");let C={title:b.string.PickDue};void 0!==e[6]&&(C.selected=e[6]),p=new a.Mt({props:C,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(p,"selected",_))),m=new a.X2({props:{$$slots:{default:[H]},$$scope:{ctx:e}},$$inline:!0});const I={c:h((function(){(0,s.YCL)(t.$$.fragment),o=(0,s.DhX)(),(0,s.YCL)(i.$$.fragment),r=(0,s.DhX)(),k.block.c(),u=(0,s.DhX)(),(0,s.YCL)(p.$$.fragment),f=(0,s.DhX)(),(0,s.YCL)(m.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),(0,s.DsI)(e,o,n),(0,s.yef)(i,e,n),(0,s.DsI)(e,r,n),k.block.m(e,k.anchor=n),k.mount=()=>u.parentNode,k.anchor=u,(0,s.DsI)(e,u,n),(0,s.yef)(p,e,n),(0,s.DsI)(e,f,n),(0,s.yef)(m,e,n),$=!0}),"mount"),p:h((function(o,r){e=o;const a={};!n&&2&r&&(n=!0,a.value=e[1],(0,s.hjT)((()=>n=!1))),t.$set(a);const l={};!c&&128&r&&(c=!0,l.selected=e[7],(0,s.hjT)((()=>c=!1))),i.$set(l),(0,s.xfz)(k,e,r);const u={};!d&&64&r&&(d=!0,u.selected=e[6],(0,s.hjT)((()=>d=!1))),p.$set(u);const f={};268435461&r&&(f.$$scope={dirty:r,ctx:e}),m.$set(f)}),"update"),i:h((function(e){$||((0,s.Ui)(t.$$.fragment,e),(0,s.Ui)(i.$$.fragment,e),(0,s.Ui)(k.block),(0,s.Ui)(p.$$.fragment,e),(0,s.Ui)(m.$$.fragment,e),$=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),(0,s.etI)(i.$$.fragment,e);for(let e=0;e<3;e+=1){const t=k.blocks[e];(0,s.etI)(t)}(0,s.etI)(p.$$.fragment,e),(0,s.etI)(m.$$.fragment,e),$=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e),e&&(0,s.GlD)(o),(0,s.vpE)(i,e),e&&(0,s.GlD)(r),k.block.d(e),k.token=null,k=null,e&&(0,s.GlD)(u),(0,s.vpE)(p,e),e&&(0,s.GlD)(f),(0,s.vpE)(m,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:I,id:Q.name,type:"slot",source:"(130:6) <Grid column={2}>",ctx:e}),I}function J(e){let t,n;t=new a.rj({props:{column:2,$$slots:{default:[Q]},$$scope:{ctx:e}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};268435663&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:J.name,type:"slot",source:"(129:4) <Section label={task.string.GeneralInformation} icon={IconFile}>",ctx:e}),o}function ee(e){let t,n;t=new T({props:{messages:e[5],currentSpace:e[0]},$$inline:!0}),t.$on("message",e[20]);const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};32&n&&(o.messages=e[5]),1&n&&(o.currentSpace=e[0]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:ee.name,type:"slot",source:"(156:6) <Grid column={1}>",ctx:e}),o}function te(e){let t,n;t=new a.rj({props:{column:1,$$slots:{default:[ee]},$$scope:{ctx:e}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};268435489&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:te.name,type:"slot",source:"(155:4) <Section label={task.string.Comments} icon={IconComments}>",ctx:e}),o}function ne(e){let t,n,o,i,c,r,l;function u(t){e[14](t)}h(u,"tabs_1_selected_binding");let p={tabs:e[13]};void 0!==e[8]&&(p.selected=e[8]),t=new a.mQ({props:p,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"selected",u)));const d=[W,M,q],f=[];function m(e,t){return e[8]===b.string.General?0:e[8]===b.string.Attachment?1:2}h(m,"select_block_type"),i=m(e),c=f[i]=d[i](e);const $={c:h((function(){(0,s.YCL)(t.$$.fragment),o=(0,s.DhX)(),c.c(),r=(0,s.cSb)()}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),(0,s.DsI)(e,o,n),f[i].m(e,n),(0,s.DsI)(e,r,n),l=!0}),"mount"),p:h((function(e,o){const a={};!n&&256&o&&(n=!0,a.selected=e[8],(0,s.hjT)((()=>n=!1))),t.$set(a);let l=i;i=m(e),i===l?f[i].p(e,o):((0,s.dvw)(),(0,s.etI)(f[l],1,1,(()=>{f[l]=null})),(0,s.gbL)(),c=f[i],c?c.p(e,o):(c=f[i]=d[i](e),c.c()),(0,s.Ui)(c,1),c.m(r.parentNode,r))}),"update"),i:h((function(e){l||((0,s.Ui)(t.$$.fragment,e),(0,s.Ui)(c),l=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),(0,s.etI)(c),l=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e),e&&(0,s.GlD)(o),f[i].d(e),e&&(0,s.GlD)(r)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:$,id:ne.name,type:"slot",source:"(118:0) <Dialog   label={task.string.CreateTask}   okLabel={task.string.CreateTask}   okAction={create}   cancelLabel={ui.string.Cancel}   on:close={() => {     dispatch('close')   }} >",ctx:e}),$}function oe(e){let t,n;t=new a.Vq({props:{label:b.string.CreateTask,okLabel:b.string.CreateTask,okAction:e[12],cancelLabel:a.ZP.string.Cancel,$$slots:{default:[ne]},$$scope:{ctx:e}},$$inline:!0}),t.$on("close",e[22]);const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,[n]){const o={};268435967&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:oe.name,type:"component",source:"",ctx:e}),o}function ie(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("CreateTask",o,[]);var m=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return h(i,"adopt"),new(n||(n=Promise))((function(n,c){function s(e){try{a(o.next(e))}catch(e){c(e)}}function r(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){e.done?n(e.value):i(e.value).then(s,r)}h(s,"fulfilled"),h(r,"rejected"),h(a,"step"),a((o=o.apply(e,t||[])).next())}))};const $=(0,r.createEventDispatcher)();let g,w,{space:v}=t,y="",k="",_=[],C=[],S=c.TaskStatuses.Open;const x=(0,u.generateId)(),j=(0,l.getClient)();function L(){return m(this,void 0,void 0,(function*(){const e=v.members;return void 0!==e?yield j.findAll(p().class.Account,{_id:{$in:e}}):[]}))}function E(e){C.push({message:e,modifiedBy:j.accountId(),modifiedOn:Date.now(),createOn:Date.now(),_id:(0,u.generateId)(),space:v._id,_class:d.chunterIds.class.Comment,replyOf:(0,u.getFullRef)(x,b.class.Task)}),n(5,C),Y()}function D(){return m(this,void 0,void 0,(function*(){const e=yield j.createShortRef(x,b.class.Task,v._id);yield j.createDoc(b.class.Task,v._id,{name:y,assignee:g,description:k,checkItems:_,shortRefId:e,dueTo:w,status:S,comments:[]},x);for(const e of C)yield j.createDoc(d.chunterIds.class.Comment,v._id,{message:e.message,replyOf:(0,u.getFullRef)(x,b.class.Task)});Y()}))}function Y(){return m(this,void 0,void 0,(function*(){const e=(yield j.findAll(f.default.class.SpaceNotifications,{objectId:v._id})).shift();void 0!==e&&(void 0===e.objectLastReads.set&&(e.objectLastReads=new Map),e.objectLastReads.set(x,Date.now()),yield j.updateDoc(e._class,e.space,e._id,{lastRead:Date.now()}))}))}h(L,"getProjectMembers"),h(E,"addMessage"),h(D,"create"),h(Y,"updateLastRead");const P=[b.string.General,b.string.Attachment,b.string.ToDos];let R=b.string.General;const Z=["space"];function O(e){R=e,n(8,R)}function G(e){y=e,n(1,y)}function U(e){S=e,n(7,S)}function B(e){g=e,n(3,g)}function A(e){w=e,n(6,w)}function V(e){k=e,n(2,k)}Object.keys(t).forEach((e=>{~Z.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateTask> was created with unknown prop '${e}'`)})),h(O,"tabs_1_selected_binding"),h(G,"editbox_value_binding"),h(U,"statuspicker_selected_binding"),h(B,"userbox_selected_binding"),h(A,"datepicker_selected_binding"),h(V,"descriptioneditor_value_binding");const q=h((e=>E(e.detail)),"message_handler");function M(e){_=e,n(4,_)}h(M,"checkboxlist_items_binding");const W=h((()=>{$("close")}),"close_handler");return e.$$set=e=>{"space"in e&&n(0,v=e.space)},e.$capture_state=()=>({__awaiter:m,createEventDispatcher:r.createEventDispatcher,ui:a.ZP,EditBox:a.k3,Dialog:a.Vq,UserBox:a.kL,DatePicker:a.Mt,Tabs:a.mQ,Section:a.$0,IconFile:a.Xh,IconComments:a.eB,Grid:a.rj,Row:a.X2,CheckBoxList:a.$,IconToDo:a.jB,getClient:l.getClient,TaskStatuses:c.TaskStatuses,task:b,core:p(),generateId:u.generateId,getFullRef:u.getFullRef,Timestamp:u.Timestamp,DescriptionEditor:I,Comments:T,StatusPicker:N,chunter:d.chunterIds,notification:f.default,dispatch:$,space:v,name:y,description:k,assignee:g,checkItems:_,comments:C,dueTo:w,status:S,id:x,client:j,getProjectMembers:L,addMessage:E,create:D,updateLastRead:Y,tabs:P,selectedTab:R}),e.$inject_state=e=>{"__awaiter"in e&&(m=e.__awaiter),"space"in e&&n(0,v=e.space),"name"in e&&n(1,y=e.name),"description"in e&&n(2,k=e.description),"assignee"in e&&n(3,g=e.assignee),"checkItems"in e&&n(4,_=e.checkItems),"comments"in e&&n(5,C=e.comments),"dueTo"in e&&n(6,w=e.dueTo),"status"in e&&n(7,S=e.status),"selectedTab"in e&&n(8,R=e.selectedTab)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[v,y,k,g,_,C,w,S,R,$,L,E,D,P,O,G,U,B,A,V,q,M,W]}h(q,"create_else_block"),h(M,"create_if_block_1"),h(W,"create_if_block"),h(z,"create_default_slot_6"),h(X,"create_catch_block"),h(K,"create_then_block"),h(F,"create_pending_block"),h(H,"create_default_slot_5"),h(Q,"create_default_slot_4"),h(J,"create_default_slot_3"),h(ee,"create_default_slot_2"),h(te,"create_default_slot_1"),h(ne,"create_default_slot"),h(oe,"create_fragment"),h(ie,"instance");var ce=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,ie,oe,s.N8,{space:0}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateTask",options:e,id:oe.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"space"in n||console.warn("<CreateTask> was created without expected prop 'space'")}get space(){throw new Error("<CreateTask>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set space(e){throw new Error("<CreateTask>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(ce,"CreateTask");var se=ce;function re(e){let t,n;t=new T({props:{messages:e[2],currentSpace:e[0],notifications:e[1]},$$inline:!0}),t.$on("message",e[6]);const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,[n]){const o={};4&n&&(o.messages=e[2]),1&n&&(o.currentSpace=e[0]),2&n&&(o.notifications=e[1]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:re.name,type:"component",source:"",ctx:e}),o}function ae(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("CommentsView",o,[]);let{currentSpace:c}=t,{taskId:r}=t,{notifications:a}=t;const p=(0,l.getClient)();let f,m=[];function $(e){p.createDoc(d.chunterIds.class.Comment,c,{message:e,replyOf:(0,u.getFullRef)(r,b.class.Task)})}h($,"addMessage");const g=["currentSpace","taskId","notifications"];Object.keys(t).forEach((e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CommentsView> was created with unknown prop '${e}'`)}));const w=h((e=>$(e.detail)),"message_handler");return e.$$set=e=>{"currentSpace"in e&&n(0,c=e.currentSpace),"taskId"in e&&n(4,r=e.taskId),"notifications"in e&&n(1,a=e.notifications)},e.$capture_state=()=>({getFullRef:u.getFullRef,SortingOrder:u.SortingOrder,getClient:l.getClient,Comments:T,task:b,chunter:d.chunterIds,currentSpace:c,taskId:r,notifications:a,client:p,messages:m,addMessage:$,query:f}),e.$inject_state=e=>{"currentSpace"in e&&n(0,c=e.currentSpace),"taskId"in e&&n(4,r=e.taskId),"notifications"in e&&n(1,a=e.notifications),"messages"in e&&n(2,m=e.messages),"query"in e&&n(5,f=e.query)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{49&e.$$.dirty&&n(5,f=p.query(f,d.chunterIds.class.Comment,{space:c,replyOf:(0,u.getFullRef)(r,b.class.Task)},(e=>{n(2,m=e)}),{sort:{createOn:u.SortingOrder.Ascending}}))},[c,a,m,$,r,f,w]}h(re,"create_fragment"),h(ae,"instance");var le=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,ae,re,s.N8,{currentSpace:0,taskId:4,notifications:1}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CommentsView",options:e,id:re.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"currentSpace"in n||console.warn("<CommentsView> was created without expected prop 'currentSpace'"),void 0!==t[4]||"taskId"in n||console.warn("<CommentsView> was created without expected prop 'taskId'"),void 0!==t[1]||"notifications"in n||console.warn("<CommentsView> was created without expected prop 'notifications'")}get currentSpace(){throw new Error("<CommentsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<CommentsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get taskId(){throw new Error("<CommentsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set taskId(e){throw new Error("<CommentsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<CommentsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<CommentsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(le,"CommentsView");var ue=le,pe="src/components/EditTask.svelte";function de(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:de.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2021 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function fe(e){let t,n,o=e[2]&&me(e);const i={c:h((function(){o&&o.c(),t=(0,s.cSb)()}),"create"),m:h((function(e,i){o&&o.m(e,i),(0,s.DsI)(e,t,i),n=!0}),"mount"),p:h((function(e,n){e[2]?o?(o.p(e,n),4&n&&(0,s.Ui)(o,1)):(o=me(e),o.c(),(0,s.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,s.dvw)(),(0,s.etI)(o,1,1,(()=>{o=null})),(0,s.gbL)())}),"update"),i:h((function(e){n||((0,s.Ui)(o),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(o),n=!1}),"outro"),d:h((function(e){o&&o.d(e),e&&(0,s.GlD)(t)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:i,id:fe.name,type:"then",source:"(101:31)    {#if item}",ctx:e}),i}function me(e){let t,n,o,i,c,r,l,u,p,d,f,m=e[2].name+"";r=new a.bM({props:{size:16},$$inline:!0}),u=new a.De({props:{autoscrollable:!0,vertical:!0,$$slots:{default:[_e]},$$scope:{ctx:e}},$$inline:!0});const $={c:h((function(){t=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.fLW)(m),i=(0,s.DhX)(),c=(0,s.bGB)("div"),(0,s.YCL)(r.$$.fragment),l=(0,s.DhX)(),(0,s.YCL)(u.$$.fragment),(0,s.LGW)(n,"class","title svelte-pbgpcx"),(0,s.vjr)(n,pe,103,6,3939),(0,s.LGW)(c,"class","tool svelte-pbgpcx"),(0,s.vjr)(c,pe,104,6,3982),(0,s.LGW)(t,"class","header svelte-pbgpcx"),(0,s.vjr)(t,pe,102,4,3912)}),"create"),m:h((function(a,m){(0,s.DsI)(a,t,m),(0,s.gOb)(t,n),(0,s.gOb)(n,o),(0,s.gOb)(t,i),(0,s.gOb)(t,c),(0,s.yef)(r,c,null),(0,s.DsI)(a,l,m),(0,s.yef)(u,a,m),p=!0,d||(f=(0,s.iVk)(c,"click",e[6],!1,!1,!1),d=!0)}),"mount"),p:h((function(e,t){(!p||4&t)&&m!==(m=e[2].name+"")&&(0,s.Lob)(o,m);const n={};134217758&t&&(n.$$scope={dirty:t,ctx:e}),u.$set(n)}),"update"),i:h((function(e){p||((0,s.Ui)(r.$$.fragment,e),(0,s.Ui)(u.$$.fragment,e),p=!0)}),"intro"),o:h((function(e){(0,s.etI)(r.$$.fragment,e),(0,s.etI)(u.$$.fragment,e),p=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.vpE)(r),e&&(0,s.GlD)(l),(0,s.vpE)(u,e),d=!1,f()}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:$,id:me.name,type:"if",source:"(102:2) {#if item}",ctx:e}),$}function $e(e){let t,n;t=new a.$0({props:{label:b.string.ToDos,icon:a.jB,$$slots:{default:[we]},$$scope:{ctx:e}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};134217732&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:$e.name,type:"else",source:"(161:6) {:else}",ctx:e}),o}function ge(e){let t,n;t=new a.rj({props:{column:1},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:s.ZTd,i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:ge.name,type:"if",source:"(159:55) ",ctx:e}),o}function he(e){let t,n,o,i;t=new a.$0({props:{label:b.string.GeneralInformation,icon:a.Xh,$$slots:{default:[ye]},$$scope:{ctx:e}},$$inline:!0}),o=new a.$0({props:{label:b.string.Comments,icon:a.eB,$$slots:{default:[ke]},$$scope:{ctx:e}},$$inline:!0});const c={c:h((function(){(0,s.YCL)(t.$$.fragment),n=(0,s.DhX)(),(0,s.YCL)(o.$$.fragment)}),"create"),m:h((function(e,c){(0,s.yef)(t,e,c),(0,s.DsI)(e,n,c),(0,s.yef)(o,e,c),i=!0}),"mount"),p:h((function(e,n){const i={};134217740&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const c={};134217734&n&&(c.$$scope={dirty:n,ctx:e}),o.$set(c)}),"update"),i:h((function(e){i||((0,s.Ui)(t.$$.fragment,e),(0,s.Ui)(o.$$.fragment,e),i=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),(0,s.etI)(o.$$.fragment,e),i=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e),e&&(0,s.GlD)(n),(0,s.vpE)(o,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:c,id:he.name,type:"if",source:"(109:6) {#if selectedTab === task.string.General}",ctx:e}),c}function we(e){let t,n,o;function i(t){e[18](t)}h(i,"checkboxlist_items_binding");let c={editable:!0,label:b.string.AddCheckItem};void 0!==e[2].checkItems&&(c.items=e[2].checkItems),t=new a.$({props:c,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"items",i))),t.$on("change",e[19]);const r={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),o=!0}),"mount"),p:h((function(e,o){const i={};!n&&4&o&&(n=!0,i.items=e[2].checkItems,(0,s.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:h((function(e){o||((0,s.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),o=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:we.name,type:"slot",source:"(162:8) <Section label={task.string.ToDos} icon={IconToDo}>",ctx:e}),r}function ve(e){let t,n,o;function i(t){e[16](t)}h(i,"descriptioneditor_value_binding");let c={currentSpace:e[2].space,label:b.string.TaskDescription,placeholder:b.string.TaskDescription};void 0!==e[2].description&&(c.value=e[2].description),t=new I({props:c,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"value",i))),t.$on("blur",e[17]);const r={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),o=!0}),"mount"),p:h((function(e,o){const i={};4&o&&(i.currentSpace=e[2].space),!n&&4&o&&(n=!0,i.value=e[2].description,(0,s.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:h((function(e){o||((0,s.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),o=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:ve.name,type:"slot",source:"(143:12) <Row>",ctx:e}),r}function be(e){let t,n,o,i,c,r,l,u,p,d,f;function m(t){e[11](t)}h(m,"editbox_value_binding");let $={label:b.string.TaskName};void 0!==e[2].name&&($.value=e[2].name),t=new a.k3({props:$,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"value",m))),t.$on("blur",e[12]),i=new N({props:{selected:e[2].status},$$inline:!0}),i.$on("change",e[13]),r=new a.kL({props:{selected:e[2].assignee,users:e[3],title:b.string.Assignee,caption:b.string.ProjectMembers,label:b.string.AssignTask,showSearch:!0},$$inline:!0}),r.$on("change",e[14]),u=new a.Mt({props:{selected:new Date(e[2].dueTo),title:b.string.PickDue},$$inline:!0}),u.$on("change",e[15]),d=new a.X2({props:{$$slots:{default:[ve]},$$scope:{ctx:e}},$$inline:!0});const g={c:h((function(){(0,s.YCL)(t.$$.fragment),o=(0,s.DhX)(),(0,s.YCL)(i.$$.fragment),c=(0,s.DhX)(),(0,s.YCL)(r.$$.fragment),l=(0,s.DhX)(),(0,s.YCL)(u.$$.fragment),p=(0,s.DhX)(),(0,s.YCL)(d.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),(0,s.DsI)(e,o,n),(0,s.yef)(i,e,n),(0,s.DsI)(e,c,n),(0,s.yef)(r,e,n),(0,s.DsI)(e,l,n),(0,s.yef)(u,e,n),(0,s.DsI)(e,p,n),(0,s.yef)(d,e,n),f=!0}),"mount"),p:h((function(e,o){const c={};!n&&4&o&&(n=!0,c.value=e[2].name,(0,s.hjT)((()=>n=!1))),t.$set(c);const a={};4&o&&(a.selected=e[2].status),i.$set(a);const l={};4&o&&(l.selected=e[2].assignee),8&o&&(l.users=e[3]),r.$set(l);const p={};4&o&&(p.selected=new Date(e[2].dueTo)),u.$set(p);const f={};134217732&o&&(f.$$scope={dirty:o,ctx:e}),d.$set(f)}),"update"),i:h((function(e){f||((0,s.Ui)(t.$$.fragment,e),(0,s.Ui)(i.$$.fragment,e),(0,s.Ui)(r.$$.fragment,e),(0,s.Ui)(u.$$.fragment,e),(0,s.Ui)(d.$$.fragment,e),f=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),(0,s.etI)(i.$$.fragment,e),(0,s.etI)(r.$$.fragment,e),(0,s.etI)(u.$$.fragment,e),(0,s.etI)(d.$$.fragment,e),f=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e),e&&(0,s.GlD)(o),(0,s.vpE)(i,e),e&&(0,s.GlD)(c),(0,s.vpE)(r,e),e&&(0,s.GlD)(l),(0,s.vpE)(u,e),e&&(0,s.GlD)(p),(0,s.vpE)(d,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:g,id:be.name,type:"slot",source:"(111:10) <Grid column={2}>",ctx:e}),g}function ye(e){let t,n;t=new a.rj({props:{column:2,$$slots:{default:[be]},$$scope:{ctx:e}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};134217740&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:ye.name,type:"slot",source:"(110:8) <Section label={task.string.GeneralInformation} icon={IconFile}>",ctx:e}),o}function ke(e){let t,n;t=new ue({props:{notifications:e[1],currentSpace:e[2].space,taskId:e[2]._id},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};2&n&&(o.notifications=e[1]),4&n&&(o.currentSpace=e[2].space),4&n&&(o.taskId=e[2]._id),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:ke.name,type:"slot",source:"(156:8) <Section label={task.string.Comments} icon={IconComments}>",ctx:e}),o}function _e(e){let t,n,o,i,c,r,l;function u(t){e[10](t)}h(u,"tabs_1_selected_binding");let p={tabs:e[7]};void 0!==e[4]&&(p.selected=e[4]),t=new a.mQ({props:p,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"selected",u)));const d=[he,ge,$e],f=[];function m(e,t){return e[4]===b.string.General?0:e[4]===b.string.Attachment?1:2}h(m,"select_block_type"),i=m(e),c=f[i]=d[i](e);const $={c:h((function(){(0,s.YCL)(t.$$.fragment),o=(0,s.DhX)(),c.c(),r=(0,s.cSb)()}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),(0,s.DsI)(e,o,n),f[i].m(e,n),(0,s.DsI)(e,r,n),l=!0}),"mount"),p:h((function(e,o){const a={};!n&&16&o&&(n=!0,a.selected=e[4],(0,s.hjT)((()=>n=!1))),t.$set(a);let l=i;i=m(e),i===l?f[i].p(e,o):((0,s.dvw)(),(0,s.etI)(f[l],1,1,(()=>{f[l]=null})),(0,s.gbL)(),c=f[i],c?c.p(e,o):(c=f[i]=d[i](e),c.c()),(0,s.Ui)(c,1),c.m(r.parentNode,r))}),"update"),i:h((function(e){l||((0,s.Ui)(t.$$.fragment,e),(0,s.Ui)(c),l=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),(0,s.etI)(c),l=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e),e&&(0,s.GlD)(o),f[i].d(e),e&&(0,s.GlD)(r)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:$,id:_e.name,type:"slot",source:"(107:4) <ScrollBox autoscrollable={true} vertical>",ctx:e}),$}function Ce(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:Ce.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2021 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function Ie(e){let t,n,o,i={ctx:e,current:null,token:null,hasCatch:!1,pending:Ce,then:fe,catch:de,value:26,blocks:[,,,]};(0,s.CR_)(n=e[5](e[0]),i);const c={c:h((function(){t=(0,s.cSb)(),i.block.c()}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,n){(0,s.DsI)(e,t,n),i.block.m(e,i.anchor=n),i.mount=()=>t.parentNode,i.anchor=t,o=!0}),"mount"),p:h((function(t,[o]){e=t,i.ctx=e,1&o&&n!==(n=e[5](e[0]))&&(0,s.CR_)(n,i)||(0,s.xfz)(i,e,o)}),"update"),i:h((function(e){o||((0,s.Ui)(i.block),o=!0)}),"intro"),o:h((function(e){for(let e=0;e<3;e+=1){const t=i.blocks[e];(0,s.etI)(t)}o=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),i.block.d(e),i.token=null,i=null}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:c,id:Ie.name,type:"component",source:"",ctx:e}),c}function Se(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("EditTask",o,[]);var c=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return h(i,"adopt"),new(n||(n=Promise))((function(n,c){function s(e){try{a(o.next(e))}catch(e){c(e)}}function r(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){e.done?n(e.value):i(e.value).then(s,r)}h(s,"fulfilled"),h(r,"rejected"),h(a,"step"),a((o=o.apply(e,t||[])).next())}))};const d=(0,l.getClient)(),m=(0,a.mN)(),$=new f.NotificationClient(d);let g,w,v,y,{id:k}=t,{notifications:_=new Map}=t,C=[];function S(e){return c(this,void 0,void 0,(function*(){return y=d.query(y,b.class.Task,{_id:e},(e=>c(this,void 0,void 0,(function*(){var t;n(1,g=_.get(e[0].space)),n(2,v=e[0]);const o=null===(t=(yield d.findAll(p().class.Space,{_id:v.space})).pop())||void 0===t?void 0:t.members;n(3,C=void 0!==o?yield d.findAll(p().class.Account,{_id:{$in:o}}):[])})))),v}))}function x(){m.navigate({itemId:void 0})}h(S,"getItem"),(0,r.onDestroy)((()=>c(void 0,void 0,void 0,(function*(){void 0!==g&&$.readNow(g,k)})))),(0,r.afterUpdate)((()=>c(void 0,void 0,void 0,(function*(){w!==k&&(void 0!==w&&void 0!==g&&$.readNow(g,w),w=k)})))),h(x,"close");const j=[b.string.General,b.string.Attachment,b.string.ToDos];let T=b.string.General;function L(e,t){return c(this,void 0,void 0,(function*(){if(void 0!==v){const n={[e]:t};d.updateDoc(v._class,v.space,v._id,n)}}))}h(L,"update");const E=["id","notifications"];function D(e){T=e,n(4,T)}function Y(t){e.$$.not_equal(v.name,t)&&(v.name=t,n(2,v))}Object.keys(t).forEach((e=>{~E.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<EditTask> was created with unknown prop '${e}'`)})),h(D,"tabs_1_selected_binding"),h(Y,"editbox_value_binding");const P=h((e=>{L("name",v.name)}),"blur_handler"),R=h((e=>{L("status",e.detail)}),"change_handler"),Z=h((e=>{L("assignee",e.detail)}),"change_handler_1"),O=h((e=>{L("dueTo",e.detail)}),"change_handler_2");function G(t){e.$$.not_equal(v.description,t)&&(v.description=t,n(2,v))}h(G,"descriptioneditor_value_binding");const U=h((e=>{L("description",null==v?void 0:v.description)}),"blur_handler_1");function B(t){e.$$.not_equal(v.checkItems,t)&&(v.checkItems=t,n(2,v))}h(B,"checkboxlist_items_binding");const A=h((e=>{L("checkItems",null==v?void 0:v.checkItems)}),"change_handler_3");return e.$$set=e=>{"id"in e&&n(0,k=e.id),"notifications"in e&&n(9,_=e.notifications)},e.$capture_state=()=>({__awaiter:c,EditBox:a.k3,UserBox:a.kL,ScrollBox:a.De,IconClose:a.bM,DatePicker:a.Mt,Tabs:a.mQ,Section:a.$0,IconFile:a.Xh,IconComments:a.eB,IconToDo:a.jB,Grid:a.rj,Row:a.X2,CheckBoxList:a.$,getRouter:a.mN,getClient:l.getClient,task:b,core:p(),Space:u.Space,DescriptionEditor:I,CommentsView:ue,StatusPicker:N,onDestroy:r.onDestroy,afterUpdate:r.afterUpdate,NotificationClient:f.NotificationClient,client:d,router:m,notificationClient:$,id:k,notifications:_,notification:g,prevId:w,item:v,projectMembers:C,lq:y,getItem:S,close:x,tabs:j,selectedTab:T,update:L}),e.$inject_state=e=>{"__awaiter"in e&&(c=e.__awaiter),"id"in e&&n(0,k=e.id),"notifications"in e&&n(9,_=e.notifications),"notification"in e&&n(1,g=e.notification),"prevId"in e&&(w=e.prevId),"item"in e&&n(2,v=e.item),"projectMembers"in e&&n(3,C=e.projectMembers),"lq"in e&&(y=e.lq),"selectedTab"in e&&n(4,T=e.selectedTab)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&S(k)},[k,g,v,C,T,S,x,j,L,_,D,Y,P,R,Z,O,G,U,B,A]}h(de,"create_catch_block"),h(fe,"create_then_block"),h(me,"create_if_block"),h($e,"create_else_block"),h(ge,"create_if_block_2"),h(he,"create_if_block_1"),h(we,"create_default_slot_5"),h(ve,"create_default_slot_4"),h(be,"create_default_slot_3"),h(ye,"create_default_slot_2"),h(ke,"create_default_slot_1"),h(_e,"create_default_slot"),h(Ce,"create_pending_block"),h(Ie,"create_fragment"),h(Se,"instance");var xe=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,Se,Ie,s.N8,{id:0,notifications:9}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"EditTask",options:e,id:Ie.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"id"in n||console.warn("<EditTask> was created without expected prop 'id'")}get id(){throw new Error("<EditTask>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<EditTask>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<EditTask>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<EditTask>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(xe,"EditTask");var je=xe,Te="src/components/icons/MoreH.svelte";function Le(e){let t,n,o,i;const c={c:h((function(){t=(0,s.bi5)("svg"),n=(0,s.bi5)("path"),o=(0,s.bi5)("path"),i=(0,s.bi5)("path"),(0,s.LGW)(n,"d","M11.8,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S12.7,10.3,11.8,10.3z"),(0,s.vjr)(n,Te,5,2,191),(0,s.LGW)(o,"d","M18,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S18.9,10.3,18,10.3z"),(0,s.vjr)(o,Te,6,2,295),(0,s.LGW)(i,"d","M5.5,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S6.5,10.3,5.5,10.3z"),(0,s.vjr)(i,Te,7,2,395),(0,s.LGW)(t,"width",e[0]),(0,s.LGW)(t,"height",e[0]),(0,s.LGW)(t,"fill",Ee),(0,s.LGW)(t,"viewBox","0 0 24 24"),(0,s.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,s.vjr)(t,Te,4,0,94)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,c){(0,s.DsI)(e,t,c),(0,s.gOb)(t,n),(0,s.gOb)(t,o),(0,s.gOb)(t,i)}),"mount"),p:h((function(e,[n]){1&n&&(0,s.LGW)(t,"width",e[0]),1&n&&(0,s.LGW)(t,"height",e[0])}),"update"),i:s.ZTd,o:s.ZTd,d:h((function(e){e&&(0,s.GlD)(t)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:c,id:Le.name,type:"component",source:"",ctx:e}),c}h(Le,"create_fragment");var Ee="var(--theme-caption-color)";function De(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("MoreH",o,[]);let{size:c=24}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<MoreH> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:Ee}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}h(De,"instance");var Ye=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,De,Le,s.N8,{size:0}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"MoreH",options:e,id:Le.name})}get size(){throw new Error("<MoreH>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<MoreH>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(Ye,"MoreH");var Pe=Ye,Re="src/components/icons/Chat.svelte";function Ze(e){let t,n,o,i,c,r;const a={c:h((function(){t=(0,s.bi5)("svg"),n=(0,s.bi5)("g"),o=(0,s.bi5)("path"),i=(0,s.bi5)("path"),c=(0,s.bi5)("path"),r=(0,s.bi5)("path"),(0,s.LGW)(o,"d","M16.3,3.7C14.6,2,12.4,1,10,1C7.6,1,5.4,2,3.7,3.7C1,6.3,0.3,10.4,1.9,13.7c0.2,0.4,0.3,0.7,0.3,0.9 c0,0.3-0.1,0.7-0.2,1C1.6,16.4,1.3,17.3,2,18c0.7,0.7,1.6,0.4,2.3,0.1c0.4-0.1,0.7-0.2,1-0.3c0.2,0,0.6,0.1,0.9,0.3 C7.4,18.7,8.7,19,10,19c2.3,0,4.6-0.9,6.4-2.6C19.8,12.8,19.8,7.2,16.3,3.7z M15.5,15.5c-2.3,2.3-5.8,2.9-8.7,1.5 c-0.5-0.2-0.9-0.4-1.4-0.4c-0.5,0-1,0.2-1.4,0.3c-0.4,0.1-0.9,0.3-1,0.2c-0.1-0.1,0.1-0.7,0.2-1c0.1-0.4,0.3-0.9,0.3-1.4 c0-0.5-0.2-1-0.4-1.4c-1.4-2.9-0.7-6.4,1.5-8.7C6,3.1,7.9,2.3,10,2.3c2.1,0,4,0.8,5.4,2.3C18.5,7.6,18.5,12.4,15.5,15.5z"),(0,s.vjr)(o,Re,6,4,199),(0,s.LGW)(i,"d","M13.3,9.5L13.3,9.5c-0.5,0-0.8,0.4-0.8,0.8c0,0.5,0.4,0.8,0.8,0.8c0.5,0,0.8-0.4,0.8-0.8 C14.1,9.9,13.8,9.5,13.3,9.5z"),(0,s.vjr)(i,Re,9,4,779),(0,s.LGW)(c,"d","M10,9.5L10,9.5c-0.5,0-0.8,0.4-0.8,0.8c0,0.5,0.4,0.8,0.8,0.8s0.8-0.4,0.8-0.8C10.8,9.9,10.4,9.5,10,9.5z"),(0,s.vjr)(c,Re,12,4,921),(0,s.LGW)(r,"d","M6.6,9.5L6.6,9.5c-0.5,0-0.8,0.4-0.8,0.8c0,0.5,0.4,0.8,0.8,0.8s0.8-0.4,0.8-0.8C7.4,9.9,7.1,9.5,6.6,9.5z"),(0,s.vjr)(r,Re,13,4,1040),(0,s.vjr)(n,Re,5,2,191),(0,s.LGW)(t,"width",e[0]),(0,s.LGW)(t,"height",e[0]),(0,s.LGW)(t,"fill",Oe),(0,s.LGW)(t,"viewBox","0 0 20 20"),(0,s.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,s.vjr)(t,Re,4,0,94)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,a){(0,s.DsI)(e,t,a),(0,s.gOb)(t,n),(0,s.gOb)(n,o),(0,s.gOb)(n,i),(0,s.gOb)(n,c),(0,s.gOb)(n,r)}),"mount"),p:h((function(e,[n]){1&n&&(0,s.LGW)(t,"width",e[0]),1&n&&(0,s.LGW)(t,"height",e[0])}),"update"),i:s.ZTd,o:s.ZTd,d:h((function(e){e&&(0,s.GlD)(t)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:a,id:Ze.name,type:"component",source:"",ctx:e}),a}h(Ze,"create_fragment");var Oe="var(--theme-caption-color)";function Ge(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("Chat",o,[]);let{size:c=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Chat> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:Oe}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}h(Ge,"instance");var Ue=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,Ge,Ze,s.N8,{size:0}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Chat",options:e,id:Ze.name})}get size(){throw new Error("<Chat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Chat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(Ue,"Chat");var Be=Ue,Ae="src/components/KanbanCard.svelte";function Ve(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:Ve.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2021 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function Ne(e){let t,n;t=new a.ao({props:{user:e[4],size:24,avatarOnly:!0},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};1&n&&(o.user=e[4]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:Ne.name,type:"then",source:"(46:44)        <UserInfo {user}",ctx:e}),o}function qe(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:qe.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2021 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function Me(e){let t,n,o,i,r,l,u,p,d,f,m,$,g,w,v,b=e[0].name+"",y=e[0].comments.length+"",k={ctx:e,current:null,token:null,hasCatch:!1,pending:qe,then:Ne,catch:Ve,value:4,blocks:[,,,]};(0,s.CR_)(l=e[1](e[0].assignee),k),d=new a.A({props:{size:24,icon:Be,label:c.default.string.Comments},$$inline:!0}),w=new a.A({props:{size:24,icon:Pe,label:a.ZP.string.More},$$inline:!0});const _={c:h((function(){t=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.fLW)(b),i=(0,s.DhX)(),r=(0,s.bGB)("div"),k.block.c(),u=(0,s.DhX)(),p=(0,s.bGB)("div"),(0,s.YCL)(d.$$.fragment),f=(0,s.DhX)(),m=(0,s.bGB)("div"),$=(0,s.fLW)(y),g=(0,s.DhX)(),(0,s.YCL)(w.$$.fragment),(0,s.LGW)(n,"class","header svelte-1m6tbvp"),(0,s.vjr)(n,Ae,43,2,1907),(0,s.LGW)(m,"class","counter svelte-1m6tbvp"),(0,s.vjr)(m,Ae,50,6,2176),(0,s.LGW)(p,"class","actions svelte-1m6tbvp"),(0,s.vjr)(p,Ae,48,4,2076),(0,s.LGW)(r,"class","footer svelte-1m6tbvp"),(0,s.vjr)(r,Ae,44,2,1946),(0,s.LGW)(t,"class","card-container svelte-1m6tbvp"),(0,s.vjr)(t,Ae,42,0,1876)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,c){(0,s.DsI)(e,t,c),(0,s.gOb)(t,n),(0,s.gOb)(n,o),(0,s.gOb)(t,i),(0,s.gOb)(t,r),k.block.m(r,k.anchor=null),k.mount=()=>r,k.anchor=u,(0,s.gOb)(r,u),(0,s.gOb)(r,p),(0,s.yef)(d,p,null),(0,s.gOb)(p,f),(0,s.gOb)(p,m),(0,s.gOb)(m,$),(0,s.gOb)(p,g),(0,s.yef)(w,p,null),v=!0}),"mount"),p:h((function(t,[n]){e=t,(!v||1&n)&&b!==(b=e[0].name+"")&&(0,s.Lob)(o,b),k.ctx=e,1&n&&l!==(l=e[1](e[0].assignee))&&(0,s.CR_)(l,k)||(0,s.xfz)(k,e,n),(!v||1&n)&&y!==(y=e[0].comments.length+"")&&(0,s.Lob)($,y)}),"update"),i:h((function(e){v||((0,s.Ui)(k.block),(0,s.Ui)(d.$$.fragment,e),(0,s.Ui)(w.$$.fragment,e),v=!0)}),"intro"),o:h((function(e){for(let e=0;e<3;e+=1){const t=k.blocks[e];(0,s.etI)(t)}(0,s.etI)(d.$$.fragment,e),(0,s.etI)(w.$$.fragment,e),v=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),k.block.d(),k.token=null,k=null,(0,s.vpE)(d),(0,s.vpE)(w)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:_,id:Me.name,type:"component",source:"",ctx:e}),_}function We(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("KanbanCard",o,[]);var r=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return h(i,"adopt"),new(n||(n=Promise))((function(n,c){function s(e){try{a(o.next(e))}catch(e){c(e)}}function r(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){e.done?n(e.value):i(e.value).then(s,r)}h(s,"fulfilled"),h(r,"rejected"),h(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{doc:u}=t;const d=(0,l.getClient)();function f(e){return r(this,void 0,void 0,(function*(){if(void 0!==e)return(yield d.findAll(p().class.Account,{_id:e})).pop()}))}h(f,"getUser");const m=["doc"];return Object.keys(t).forEach((e=>{~m.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<KanbanCard> was created with unknown prop '${e}'`)})),e.$$set=e=>{"doc"in e&&n(0,u=e.doc)},e.$capture_state=()=>({__awaiter:r,ui:a.ZP,ActionIcon:a.A,UserInfo:a.ao,task:c.default,MoreH:Pe,Chat:Be,core:p(),getClient:l.getClient,doc:u,client:d,getUser:f}),e.$inject_state=e=>{"__awaiter"in e&&(r=e.__awaiter),"doc"in e&&n(0,u=e.doc)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u,f]}h(Ve,"create_catch_block"),h(Ne,"create_then_block"),h(qe,"create_pending_block"),h(Me,"create_fragment"),h(We,"instance");var ze=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,We,Me,s.N8,{doc:0}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"KanbanCard",options:e,id:Me.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"doc"in n||console.warn("<KanbanCard> was created without expected prop 'doc'")}get doc(){throw new Error("<KanbanCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set doc(e){throw new Error("<KanbanCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(ze,"KanbanCard");var Xe=ze,{Object:Ke}=s.lig;function Fe(e){let t,n;t=new a.pt({props:{items:e[0],states:e[1],cardComponent:Xe},$$inline:!0}),t.$on("drop",e[2]);const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,[n]){const o={};1&n&&(o.items=e[0]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:Fe.name,type:"component",source:"",ctx:e}),o}function He(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("KanbanView",o,[]);var r=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return h(i,"adopt"),new(n||(n=Promise))((function(n,c){function s(e){try{a(o.next(e))}catch(e){c(e)}}function r(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){e.done?n(e.value):i(e.value).then(s,r)}h(s,"fulfilled"),h(r,"rejected"),h(a,"step"),a((o=o.apply(e,t||[])).next())}))};let u,{query:p}=t;const d=new Map(Object.entries(c.TaskStatuses).map((([e,t])=>[t,e]))),f=(0,l.getClient)();let $;const g=Object.entries(c.TaskStatuses).map((([e,t])=>({_id:e,name:t,color:v(t)})));function w(e){return r(this,void 0,void 0,(function*(){const{item:t,state:n}=e.detail,o=n,i=b.find((e=>e._id===t));yield f.updateDoc(i._class,i.space,t,{status:c.TaskStatuses[o]})}))}h(w,"onDrop");let b=[];const y=["query"];return Ke.keys(t).forEach((e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<KanbanView> was created with unknown prop '${e}'`)})),e.$$set=e=>{"query"in e&&n(3,p=e.query)},e.$capture_state=()=>({__awaiter:r,TaskStatuses:c.TaskStatuses,getClient:l.getClient,deepEqual:m.deepEqual,Kanban:a.pt,KanbanCard:Xe,getStatusColor:v,task:c.default,query:p,prevQuery:u,statusByName:d,client:f,lq:$,states:g,onDrop:w,items:b}),e.$inject_state=e=>{"__awaiter"in e&&(r=e.__awaiter),"query"in e&&n(3,p=e.query),"prevQuery"in e&&n(4,u=e.prevQuery),"lq"in e&&n(5,$=e.lq),"items"in e&&n(0,b=e.items)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{56&e.$$.dirty&&((0,m.deepEqual)(u,p)||(n(4,u=p),n(5,$=f.query($,c.default.class.Task,p,(e=>{n(0,b=e.map((e=>{var t;return Object.assign(Object.assign({},e),{state:null!==(t=d.get(e.status))&&void 0!==t?t:""})})))})))))},[b,g,w,p,u,$]}h(Fe,"create_fragment"),h(He,"instance");var Qe=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,He,Fe,s.N8,{query:3}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"KanbanView",options:e,id:Fe.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[3]||"query"in n||console.warn("<KanbanView> was created without expected prop 'query'")}get query(){throw new Error("<KanbanView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<KanbanView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(Qe,"KanbanView");var Je=Qe;function et(e){let t,n,o;n=new a.__({props:{label:e[0]},$$inline:!0});const i={c:h((function(){t=(0,s.bGB)("div"),(0,s.YCL)(n.$$.fragment),(0,s.LGW)(t,"class","taskstatus-container svelte-k75kif"),(0,s.czc)(t,"background-color",e[1]),(0,s.vjr)(t,"src/components/TaskStatus.svelte",21,0,781)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,i){(0,s.DsI)(e,t,i),(0,s.yef)(n,t,null),o=!0}),"mount"),p:h((function(e,[i]){const c={};1&i&&(c.label=e[0]),n.$set(c),(!o||2&i)&&(0,s.czc)(t,"background-color",e[1])}),"update"),i:h((function(e){o||((0,s.Ui)(n.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(n.$$.fragment,e),o=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.vpE)(n)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:i,id:et.name,type:"component",source:"",ctx:e}),i}function tt(e,t,n){let o,{$$slots:i={},$$scope:c}=t;(0,s.KXV)("TaskStatus",i,[]);let{title:r}=t;const l=["title"];return Object.keys(t).forEach((e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TaskStatus> was created with unknown prop '${e}'`)})),e.$$set=e=>{"title"in e&&n(0,r=e.title)},e.$capture_state=()=>({Label:a.__,getStatusColor:v,title:r,color:o}),e.$inject_state=e=>{"title"in e&&n(0,r=e.title),"color"in e&&n(1,o=e.color)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(1,o=v(r))},[r,o]}h(et,"create_fragment"),h(tt,"instance");var nt=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,tt,et,s.N8,{title:0}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TaskStatus",options:e,id:et.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"title"in n||console.warn("<TaskStatus> was created without expected prop 'title'")}get title(){throw new Error("<TaskStatus>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<TaskStatus>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(nt,"TaskStatus");var ot=nt,{Object:it}=s.lig;function ct(e){let t,n;t=new a.iA({props:{data:e[0],columns:e[1],showHeader:!0},$$inline:!0}),t.$on("rowClick",e[2]);const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,[n]){const o={};1&n&&(o.data=e[0]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:ct.name,type:"component",source:"",ctx:e}),o}function st(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("TableView",o,[]);var r=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return h(i,"adopt"),new(n||(n=Promise))((function(n,c){function s(e){try{a(o.next(e))}catch(e){c(e)}}function r(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){e.done?n(e.value):i(e.value).then(s,r)}h(s,"fulfilled"),h(r,"rejected"),h(a,"step"),a((o=o.apply(e,t||[])).next())}))};let d,{query:f}=t;const $=[{label:c.default.string.TaskName,properties:[{key:"name",property:"label"}],component:a.__},{label:c.default.string.Status,properties:[{key:"status",property:"title"}],component:ot},{label:c.default.string.Assignee,properties:[{key:"asigneeUser",property:"user"}],component:a.ao},{label:c.default.string.Due,properties:[{key:"dueTo",property:"value"},{value:"true",property:"dateOnly"}],component:a.ou}],g=(0,l.getClient)(),w=(0,a.mN)();let v,b=[];function y(e){w.navigate({itemId:e.detail.id})}function k(e){return r(this,void 0,void 0,(function*(){if(void 0!==e)return(yield g.findAll(p().class.Account,{_id:e})).pop()}))}h(y,"onClick"),h(k,"getUser");const _=["query"];return it.keys(t).forEach((e=>{~_.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TableView> was created with unknown prop '${e}'`)})),e.$$set=e=>{"query"in e&&n(3,f=e.query)},e.$capture_state=()=>({__awaiter:r,Table:a.iA,Label:a.__,UserInfo:a.ao,DateTime:a.ou,getRouter:a.mN,core:p(),DocumentQuery:u.DocumentQuery,getClient:l.getClient,deepEqual:m.deepEqual,TaskStatus:ot,task:c.default,query:f,prevQuery:d,columns:$,client:g,router:w,data:b,lq:v,onClick:y,getUser:k}),e.$inject_state=e=>{"__awaiter"in e&&n(6,r=e.__awaiter),"query"in e&&n(3,f=e.query),"prevQuery"in e&&n(4,d=e.prevQuery),"data"in e&&n(0,b=e.data),"lq"in e&&n(5,v=e.lq)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{57&e.$$.dirty&&((0,m.deepEqual)(d,f)||(n(4,d=f),n(5,v=g.query(v,c.default.class.Task,f,(e=>r(void 0,void 0,void 0,(function*(){n(0,b=[]);for(const t of e)b.push(Object.assign(t,{asigneeUser:yield k(t.assignee)}));n(0,b),n(4,d),n(3,f),n(5,v),n(6,r)})))))))},[b,$,y,f,d,v]}h(ct,"create_fragment"),h(st,"instance");var rt=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,st,ct,s.N8,{query:3}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TableView",options:e,id:ct.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[3]||"query"in n||console.warn("<TableView> was created without expected prop 'query'")}get query(){throw new Error("<TableView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<TableView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(rt,"TableView");var at=rt,lt="src/components/Card.svelte";function ut(e){let t,n,o,i,c;const r=[e[1]];let l={};for(let e=0;e<r.length;e+=1)l=(0,s.f0i)(l,r[e]);i=new a.Ex({props:l,$$inline:!0});const u={c:h((function(){t=(0,s.bGB)("div"),n=(0,s.bGB)("span"),n.textContent="Progress",o=(0,s.DhX)(),(0,s.YCL)(i.$$.fragment),(0,s.LGW)(n,"class","svelte-65310n"),(0,s.vjr)(n,lt,54,8,2332),(0,s.LGW)(t,"class","progress svelte-65310n"),(0,s.vjr)(t,lt,53,6,2301)}),"create"),m:h((function(e,r){(0,s.DsI)(e,t,r),(0,s.gOb)(t,n),(0,s.gOb)(t,o),(0,s.yef)(i,t,null),c=!0}),"mount"),p:h((function(e,t){const n=2&t?(0,s.LoY)(r,[(0,s.gCg)(e[1])]):{};i.$set(n)}),"update"),i:h((function(e){c||((0,s.Ui)(i.$$.fragment,e),c=!0)}),"intro"),o:h((function(e){(0,s.etI)(i.$$.fragment,e),c=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.vpE)(i)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:u,id:ut.name,type:"if",source:"(53:4) {#if progress.max > 0}",ctx:e}),u}function pt(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:pt.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function dt(e){let t,n;t=new a.ao({props:{user:e[6],size:24,avatarOnly:!0},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};1&n&&(o.user=e[6]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:dt.name,type:"then",source:"(61:45)        <UserInfo {user}",ctx:e}),o}function ft(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:ft.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function mt(e){let t,n,o,i,r,l,u,p,d,f,m,$,g,w,v,b,y,k,_,C,I=e[0].name+"",S=e[0].description+"",x=e[0].comments.length+"",j=e[1].max>0&&ut(e),T={ctx:e,current:null,token:null,hasCatch:!1,pending:ft,then:dt,catch:pt,value:6,blocks:[,,,]};(0,s.CR_)(m=e[2](e[0].assignee),T),w=new a.A({props:{size:24,icon:Be,label:c.default.string.Comments},$$inline:!0}),_=new a.A({props:{size:24,icon:Pe,label:a.ZP.string.More},$$inline:!0});const L={c:h((function(){t=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("div"),i=(0,s.fLW)(I),r=(0,s.DhX)(),l=(0,s.bGB)("div"),u=(0,s.fLW)(S),p=(0,s.DhX)(),j&&j.c(),d=(0,s.DhX)(),f=(0,s.bGB)("div"),T.block.c(),$=(0,s.DhX)(),g=(0,s.bGB)("div"),(0,s.YCL)(w.$$.fragment),v=(0,s.DhX)(),b=(0,s.bGB)("div"),y=(0,s.fLW)(x),k=(0,s.DhX)(),(0,s.YCL)(_.$$.fragment),(0,s.LGW)(o,"class","title svelte-65310n"),(0,s.vjr)(o,lt,50,4,2177),(0,s.LGW)(l,"class","description svelte-65310n"),(0,s.vjr)(l,lt,51,4,2218),(0,s.LGW)(n,"class","content svelte-65310n"),(0,s.vjr)(n,lt,49,2,2151),(0,s.LGW)(b,"class","counter svelte-65310n"),(0,s.vjr)(b,lt,65,6,2653),(0,s.LGW)(g,"class","action svelte-65310n"),(0,s.vjr)(g,lt,63,4,2554),(0,s.LGW)(f,"class","footer svelte-65310n"),(0,s.vjr)(f,lt,59,2,2423),(0,s.LGW)(t,"class","card-container svelte-65310n"),(0,s.vjr)(t,lt,48,0,2120)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,c){(0,s.DsI)(e,t,c),(0,s.gOb)(t,n),(0,s.gOb)(n,o),(0,s.gOb)(o,i),(0,s.gOb)(n,r),(0,s.gOb)(n,l),(0,s.gOb)(l,u),(0,s.gOb)(n,p),j&&j.m(n,null),(0,s.gOb)(t,d),(0,s.gOb)(t,f),T.block.m(f,T.anchor=null),T.mount=()=>f,T.anchor=$,(0,s.gOb)(f,$),(0,s.gOb)(f,g),(0,s.yef)(w,g,null),(0,s.gOb)(g,v),(0,s.gOb)(g,b),(0,s.gOb)(b,y),(0,s.gOb)(g,k),(0,s.yef)(_,g,null),C=!0}),"mount"),p:h((function(t,[o]){e=t,(!C||1&o)&&I!==(I=e[0].name+"")&&(0,s.Lob)(i,I),(!C||1&o)&&S!==(S=e[0].description+"")&&(0,s.Lob)(u,S),e[1].max>0?j?(j.p(e,o),2&o&&(0,s.Ui)(j,1)):(j=ut(e),j.c(),(0,s.Ui)(j,1),j.m(n,null)):j&&((0,s.dvw)(),(0,s.etI)(j,1,1,(()=>{j=null})),(0,s.gbL)()),T.ctx=e,1&o&&m!==(m=e[2](e[0].assignee))&&(0,s.CR_)(m,T)||(0,s.xfz)(T,e,o),(!C||1&o)&&x!==(x=e[0].comments.length+"")&&(0,s.Lob)(y,x)}),"update"),i:h((function(e){C||((0,s.Ui)(j),(0,s.Ui)(T.block),(0,s.Ui)(w.$$.fragment,e),(0,s.Ui)(_.$$.fragment,e),C=!0)}),"intro"),o:h((function(e){(0,s.etI)(j);for(let e=0;e<3;e+=1){const t=T.blocks[e];(0,s.etI)(t)}(0,s.etI)(w.$$.fragment,e),(0,s.etI)(_.$$.fragment,e),C=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),j&&j.d(),T.block.d(),T.token=null,T=null,(0,s.vpE)(w),(0,s.vpE)(_)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:L,id:mt.name,type:"component",source:"",ctx:e}),L}function $t(e,t,n){let o,{$$slots:i={},$$scope:r}=t;(0,s.KXV)("Card",i,[]);var d=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return h(i,"adopt"),new(n||(n=Promise))((function(n,c){function s(e){try{a(o.next(e))}catch(e){c(e)}}function r(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){e.done?n(e.value):i(e.value).then(s,r)}h(s,"fulfilled"),h(r,"rejected"),h(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{card:f}=t;const m=(0,l.getClient)();function $(e){return d(this,void 0,void 0,(function*(){if(void 0!==e)return(yield m.findAll(p().class.Account,{_id:e})).pop()}))}h($,"getUser");const g=["card"];return Object.keys(t).forEach((e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Card> was created with unknown prop '${e}'`)})),e.$$set=e=>{"card"in e&&n(0,f=e.card)},e.$capture_state=()=>({__awaiter:d,ui:a.ZP,ActionIcon:a.A,Progress:a.Ex,UserInfo:a.ao,MoreH:Pe,Chat:Be,task:c.default,getStatusColor:v,core:p(),Account:u.Account,Ref:u.Ref,getClient:l.getClient,card:f,attach:3,client:m,getUser:$,progress:o}),e.$inject_state=e=>{"__awaiter"in e&&(d=e.__awaiter),"card"in e&&n(0,f=e.card),"progress"in e&&n(1,o=e.progress)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(1,o={max:f.checkItems.length,value:f.checkItems.filter((e=>e.done)).length,color:v(f.status)})},[f,o,$,3]}h(ut,"create_if_block"),h(pt,"create_catch_block"),h(dt,"create_then_block"),h(ft,"create_pending_block"),h(mt,"create_fragment"),h($t,"instance");var gt=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,$t,mt,s.N8,{card:0,attach:3}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Card",options:e,id:mt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"card"in n||console.warn("<Card> was created without expected prop 'card'")}get card(){throw new Error("<Card>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set card(e){throw new Error("<Card>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get attach(){return this.$$.ctx[3]}set attach(e){throw new Error("<Card>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(gt,"Card");var ht=gt;function wt(e,t,n){const o=e.slice();return o[4]=t[n],o}function vt(e){let t,n;t=new ht({props:{card:e[4]},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};1&n&&(o.card=e[4]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:vt.name,type:"each",source:"(33:2) {#each cards as card}",ctx:e}),o}function bt(e){let t,n,o=e[0];(0,s.vzG)(o);let i=[];for(let t=0;t<o.length;t+=1)i[t]=vt(wt(e,o,t));const c=h((e=>(0,s.etI)(i[e],1,1,(()=>{i[e]=null}))),"out"),r={c:h((function(){t=(0,s.bGB)("div");for(let e=0;e<i.length;e+=1)i[e].c();(0,s.LGW)(t,"class","cards-container svelte-mf4gun"),(0,s.vjr)(t,"src/components/CardView.svelte",31,0,966)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.DsI)(e,t,o);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0}),"mount"),p:h((function(e,[n]){if(1&n){let r;for(o=e[0],(0,s.vzG)(o),r=0;r<o.length;r+=1){const c=wt(e,o,r);i[r]?(i[r].p(c,n),(0,s.Ui)(i[r],1)):(i[r]=vt(c),i[r].c(),(0,s.Ui)(i[r],1),i[r].m(t,null))}for((0,s.dvw)(),r=o.length;r<i.length;r+=1)c(r);(0,s.gbL)()}}),"update"),i:h((function(e){if(!n){for(let e=0;e<o.length;e+=1)(0,s.Ui)(i[e]);n=!0}}),"intro"),o:h((function(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)(0,s.etI)(i[e]);n=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.RMB)(i,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:bt.name,type:"component",source:"",ctx:e}),r}function yt(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("CardView",o,[]);let{query:r}=t;const a=(0,l.getClient)();let u,p=[];const d=["query"];return Object.keys(t).forEach((e=>{~d.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CardView> was created with unknown prop '${e}'`)})),e.$$set=e=>{"query"in e&&n(1,r=e.query)},e.$capture_state=()=>({task:c.default,getClient:l.getClient,Card:ht,query:r,client:a,cards:p,lq:u}),e.$inject_state=e=>{"query"in e&&n(1,r=e.query),"cards"in e&&n(0,p=e.cards),"lq"in e&&n(2,u=e.lq)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{6&e.$$.dirty&&void 0!==r&&n(2,u=a.query(u,c.default.class.Task,r,(e=>{n(0,p=e)})))},[p,r,u]}h(wt,"get_each_context"),h(vt,"create_each_block"),h(bt,"create_fragment"),h(yt,"instance");var kt=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,yt,bt,s.N8,{query:1}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CardView",options:e,id:bt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"query"in n||console.warn("<CardView> was created without expected prop 'query'")}get query(){throw new Error("<CardView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<CardView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(kt,"CardView");var _t=kt,Ct="src/components/TaskView.svelte";function It(e){let t,n;t=new at({props:{query:e[0]},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};1&n&&(o.query=e[0]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:It.name,type:"if",source:"(42:30) ",ctx:e}),o}function St(e){let t,n,o;n=new a.De({props:{vertical:!0,$$slots:{default:[jt]},$$scope:{ctx:e}},$$inline:!0});const i={c:h((function(){t=(0,s.bGB)("div"),(0,s.YCL)(n.$$.fragment),(0,s.LGW)(t,"class","content svelte-xe7vp3"),(0,s.vjr)(t,Ct,36,2,1274)}),"create"),m:h((function(e,i){(0,s.DsI)(e,t,i),(0,s.yef)(n,t,null),o=!0}),"mount"),p:h((function(e,t){const o={};17&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)}),"update"),i:h((function(e){o||((0,s.Ui)(n.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(n.$$.fragment,e),o=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.vpE)(n)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:i,id:St.name,type:"if",source:"(36:30) ",ctx:e}),i}function xt(e){let t,n;t=new Je({props:{query:e[0]},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};1&n&&(o.query=e[0]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:xt.name,type:"if",source:"(34:0) {#if selected === 'kanban'}",ctx:e}),o}function jt(e){let t,n;t=new _t({props:{query:e[0]},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};1&n&&(o.query=e[0]),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:jt.name,type:"slot",source:"(38:4) <ScrollBox vertical>",ctx:e}),o}function Tt(e){let t,n,o,i,c,r,l,u;function p(t){e[3](t)}h(p,"icongroup_selected_binding");let d={items:e[2]};void 0!==e[1]&&(d.selected=e[1]),n=new a.Rs({props:d,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(n,"selected",p)));const f=[xt,St,It],m=[];function $(e,t){return"kanban"===e[1]?0:"card"===e[1]?1:"list"===e[1]?2:-1}h($,"select_block_type"),~(c=$(e))&&(r=m[c]=f[c](e));const g={c:h((function(){t=(0,s.bGB)("div"),(0,s.YCL)(n.$$.fragment),i=(0,s.DhX)(),r&&r.c(),l=(0,s.cSb)(),(0,s.LGW)(t,"class","toolbar svelte-xe7vp3"),(0,s.vjr)(t,Ct,30,0,1121)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.DsI)(e,t,o),(0,s.yef)(n,t,null),(0,s.DsI)(e,i,o),~c&&m[c].m(e,o),(0,s.DsI)(e,l,o),u=!0}),"mount"),p:h((function(e,[t]){const i={};!o&&2&t&&(o=!0,i.selected=e[1],(0,s.hjT)((()=>o=!1))),n.$set(i);let a=c;c=$(e),c===a?~c&&m[c].p(e,t):(r&&((0,s.dvw)(),(0,s.etI)(m[a],1,1,(()=>{m[a]=null})),(0,s.gbL)()),~c?(r=m[c],r?r.p(e,t):(r=m[c]=f[c](e),r.c()),(0,s.Ui)(r,1),r.m(l.parentNode,l)):r=null)}),"update"),i:h((function(e){u||((0,s.Ui)(n.$$.fragment,e),(0,s.Ui)(r),u=!0)}),"intro"),o:h((function(e){(0,s.etI)(n.$$.fragment,e),(0,s.etI)(r),u=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.vpE)(n),e&&(0,s.GlD)(i),~c&&m[c].d(e),e&&(0,s.GlD)(l)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:g,id:Tt.name,type:"component",source:"",ctx:e}),g}function Lt(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("TaskView",o,[]);const c=[{icon:a.Zd,tooltip:a.ZP.string.List,id:"list"},{icon:a.YP,tooltip:a.ZP.string.Cards,id:"card"},{icon:a.CI,tooltip:a.ZP.string.Kanban,id:"kanban"}];let r="list",{query:l}=t;const u=["query"];function p(e){r=e,n(1,r)}return Object.keys(t).forEach((e=>{~u.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TaskView> was created with unknown prop '${e}'`)})),h(p,"icongroup_selected_binding"),e.$$set=e=>{"query"in e&&n(0,l=e.query)},e.$capture_state=()=>({ui:a.ZP,ScrollBox:a.De,IconGroup:a.Rs,IconList:a.Zd,IconCard:a.YP,IconKanban:a.CI,KanbanView:Je,TableView:at,CardView:_t,items:c,selected:r,query:l}),e.$inject_state=e=>{"selected"in e&&n(1,r=e.selected),"query"in e&&n(0,l=e.query)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[l,r,c,p]}h(It,"create_if_block_2"),h(St,"create_if_block_1"),h(xt,"create_if_block"),h(jt,"create_default_slot"),h(Tt,"create_fragment"),h(Lt,"instance");var Et=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,Lt,Tt,s.N8,{query:0}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TaskView",options:e,id:Tt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"query"in n||console.warn("<TaskView> was created without expected prop 'query'")}get query(){throw new Error("<TaskView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<TaskView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(Et,"TaskView");var Dt=Et;function Yt(e){let t,n;t=new Dt({props:{query:{space:e[0]}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,[n]){const o={};1&n&&(o.query={space:e[0]}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:Yt.name,type:"component",source:"",ctx:e}),o}function Pt(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("ProjectView",o,[]);let{currentSpace:c}=t;const r=["currentSpace"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ProjectView> was created with unknown prop '${e}'`)})),e.$$set=e=>{"currentSpace"in e&&n(0,c=e.currentSpace)},e.$capture_state=()=>({TaskView:Dt,currentSpace:c}),e.$inject_state=e=>{"currentSpace"in e&&n(0,c=e.currentSpace)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}h(Yt,"create_fragment"),h(Pt,"instance");var Rt=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,Pt,Yt,s.N8,{currentSpace:0}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ProjectView",options:e,id:Yt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"currentSpace"in n||console.warn("<ProjectView> was created without expected prop 'currentSpace'")}get currentSpace(){throw new Error("<ProjectView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<ProjectView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(Rt,"ProjectView");var Zt=Rt;function Ot(e){let t,n;t=new Dt({props:{query:{assignee:e[0]}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:s.ZTd,i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:Ot.name,type:"component",source:"",ctx:e}),o}function Gt(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("MyTasksView",o,[]);const c=(0,l.getClient)().accountId(),r=[];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<MyTasksView> was created with unknown prop '${e}'`)})),e.$capture_state=()=>({getClient:l.getClient,TaskView:Dt,accountId:c}),[c]}h(Ot,"create_fragment"),h(Gt,"instance");var Ut=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,Gt,Ot,s.N8,{}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"MyTasksView",options:e,id:Ot.name})}};h(Ut,"MyTasksView");var Bt=Ut;function At(e){let t,n;t=new Dt({props:{query:{space:{$in:e[0]}}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,[n]){const o={};1&n&&(o.query={space:{$in:e[0]}}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:At.name,type:"component",source:"",ctx:e}),o}function Vt(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("FavoriteView",o,[]);const r=(0,l.getClient)();let a,u=[];a=r.query(a,c.default.class.Project,{"account.starred":!0},(e=>{n(0,u=e.map((e=>e._id)))}));const p=[];return Object.keys(t).forEach((e=>{~p.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<FavoriteView> was created with unknown prop '${e}'`)})),e.$capture_state=()=>({TaskView:Dt,getClient:l.getClient,task:c.default,client:r,query:a,ids:u}),e.$inject_state=e=>{"query"in e&&(a=e.query),"ids"in e&&n(0,u=e.ids)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u]}h(At,"create_fragment"),h(Vt,"instance");var Nt=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,Vt,At,s.N8,{}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"FavoriteView",options:e,id:At.name})}};h(Nt,"FavoriteView");var qt=Nt;function Mt(e,t,n){const o=e.slice();return o[19]=t[n],o[20]=t,o[21]=n,o}function Wt(e){let t,n,o,i,c,r,l,u,p;function d(t){e[9](t)}h(d,"editbox_value_binding");let f={label:b.string.ProjectName};function m(t){e[10](t)}void 0!==e[2]&&(f.value=e[2]),t=new a.k3({props:f,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"value",d))),h(m,"textarea_value_binding");let $={label:b.string.ProjectDescription};function g(t){e[11](t)}void 0!==e[3]&&($.value=e[3]),i=new a.Kx({props:$,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(i,"value",m))),h(g,"togglewithlabel_on_binding");let w={label:b.string.MakePrivate,description:b.string.MakePrivateDescription};void 0!==e[4]&&(w.on=e[4]),l=new a.fL({props:w,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(l,"on",g)));const v={c:h((function(){(0,s.YCL)(t.$$.fragment),o=(0,s.DhX)(),(0,s.YCL)(i.$$.fragment),r=(0,s.DhX)(),(0,s.YCL)(l.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),(0,s.DsI)(e,o,n),(0,s.yef)(i,e,n),(0,s.DsI)(e,r,n),(0,s.yef)(l,e,n),p=!0}),"mount"),p:h((function(e,o){const r={};!n&&4&o&&(n=!0,r.value=e[2],(0,s.hjT)((()=>n=!1))),t.$set(r);const a={};!c&&8&o&&(c=!0,a.value=e[3],(0,s.hjT)((()=>c=!1))),i.$set(a);const p={};!u&&16&o&&(u=!0,p.on=e[4],(0,s.hjT)((()=>u=!1))),l.$set(p)}),"update"),i:h((function(e){p||((0,s.Ui)(t.$$.fragment,e),(0,s.Ui)(i.$$.fragment,e),(0,s.Ui)(l.$$.fragment,e),p=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),(0,s.etI)(i.$$.fragment,e),(0,s.etI)(l.$$.fragment,e),p=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e),e&&(0,s.GlD)(o),(0,s.vpE)(i,e),e&&(0,s.GlD)(r),(0,s.vpE)(l,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:v,id:Wt.name,type:"slot",source:"(66:4) <Grid column={1}>",ctx:e}),v}function zt(e){let t,n;t=new a.rj({props:{column:1,$$slots:{default:[Wt]},$$scope:{ctx:e}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};4194332&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:zt.name,type:"slot",source:"(65:2) <Section label={task.string.GeneralInformation} icon={IconFile}>",ctx:e}),o}function Xt(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:Xt.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function Kt(e){let t,n;t=new a.rj({props:{column:1,$$slots:{default:[Qt]},$$scope:{ctx:e}},$$inline:!0});const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,n){const o={};4194307&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:Kt.name,type:"then",source:"(77:34)        <Grid column={1}",ctx:e}),o}function Ft(e){let t,n,o;function i(t){e[12](t,e[19],e[20],e[21])}h(i,"userbox_selected_binding");let c={users:e[7](e[0],e[19]),title:b.string.IviteMember,label:b.string.IviteMember,showSearch:!0};void 0!==e[19]&&(c.selected=e[19]),t=new a.kL({props:c,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"selected",i))),t.$on("change",e[13]);const r={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),o=!0}),"mount"),p:h((function(o,i){e=o;const c={};1&i&&(c.users=e[7](e[0],e[19])),!n&&1&i&&(n=!0,c.selected=e[19],(0,s.hjT)((()=>n=!1))),t.$set(c)}),"update"),i:h((function(e){o||((0,s.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),o=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:Ft.name,type:"each",source:"(79:8) {#each members as member}",ctx:e}),r}function Ht(e){let t,n,o;function i(t){e[14](t)}h(i,"userbox_selected_binding_1");let c={users:e[7](e[0]),title:b.string.IviteMember,label:b.string.IviteMember,showSearch:!0};void 0!==e[1]&&(c.selected=e[1]),t=new a.kL({props:c,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(t,"selected",i)));const r={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),m:h((function(e,n){(0,s.yef)(t,e,n),o=!0}),"mount"),p:h((function(e,o){const i={};1&o&&(i.users=e[7](e[0])),!n&&2&o&&(n=!0,i.selected=e[1],(0,s.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:h((function(e){o||((0,s.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),o=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:r,id:Ht.name,type:"if",source:"(91:8) {#if getAvaibleMembers(members).length}",ctx:e}),r}function Qt(e){let t,n,o,i=e[7](e[0]).length,c=e[0];(0,s.vzG)(c);let r=[];for(let t=0;t<c.length;t+=1)r[t]=Ft(Mt(e,c,t));const a=h((e=>(0,s.etI)(r[e],1,1,(()=>{r[e]=null}))),"out");let l=i&&Ht(e);const u={c:h((function(){for(let e=0;e<r.length;e+=1)r[e].c();t=(0,s.DhX)(),l&&l.c(),n=(0,s.cSb)()}),"create"),m:h((function(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);(0,s.DsI)(e,t,i),l&&l.m(e,i),(0,s.DsI)(e,n,i),o=!0}),"mount"),p:h((function(e,o){if(193&o){let n;for(c=e[0],(0,s.vzG)(c),n=0;n<c.length;n+=1){const i=Mt(e,c,n);r[n]?(r[n].p(i,o),(0,s.Ui)(r[n],1)):(r[n]=Ft(i),r[n].c(),(0,s.Ui)(r[n],1),r[n].m(t.parentNode,t))}for((0,s.dvw)(),n=c.length;n<r.length;n+=1)a(n);(0,s.gbL)()}1&o&&(i=e[7](e[0]).length),i?l?(l.p(e,o),1&o&&(0,s.Ui)(l,1)):(l=Ht(e),l.c(),(0,s.Ui)(l,1),l.m(n.parentNode,n)):l&&((0,s.dvw)(),(0,s.etI)(l,1,1,(()=>{l=null})),(0,s.gbL)())}),"update"),i:h((function(e){if(!o){for(let e=0;e<c.length;e+=1)(0,s.Ui)(r[e]);(0,s.Ui)(l),o=!0}}),"intro"),o:h((function(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)(0,s.etI)(r[e]);(0,s.etI)(l),o=!1}),"outro"),d:h((function(e){(0,s.RMB)(r,e),e&&(0,s.GlD)(t),l&&l.d(e),e&&(0,s.GlD)(n)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:u,id:Qt.name,type:"slot",source:"(78:6) <Grid column={1}>",ctx:e}),u}function Jt(e){const t={c:s.ZTd,m:s.ZTd,p:s.ZTd,i:s.ZTd,o:s.ZTd,d:s.ZTd};return(0,s.YyZ)("SvelteRegisterBlock",{block:t,id:Jt.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function en(e){let t,n,o,i={ctx:e,current:null,token:null,hasCatch:!1,pending:Jt,then:Kt,catch:Xt,value:16,blocks:[,,,]};(0,s.CR_)(n=e[8](),i);const c={c:h((function(){t=(0,s.cSb)(),i.block.c()}),"create"),m:h((function(e,n){(0,s.DsI)(e,t,n),i.block.m(e,i.anchor=n),i.mount=()=>t.parentNode,i.anchor=t,o=!0}),"mount"),p:h((function(t,n){e=t,(0,s.xfz)(i,e,n)}),"update"),i:h((function(e){o||((0,s.Ui)(i.block),o=!0)}),"intro"),o:h((function(e){for(let e=0;e<3;e+=1){const t=i.blocks[e];(0,s.etI)(t)}o=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),i.block.d(e),i.token=null,i=null}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:c,id:en.name,type:"slot",source:"(76:2) <Section label={task.string.ProjectMembers} icon={IconComments}>",ctx:e}),c}function tn(e){let t,n,o,i;t=new a.$0({props:{label:b.string.GeneralInformation,icon:a.Xh,$$slots:{default:[zt]},$$scope:{ctx:e}},$$inline:!0}),o=new a.$0({props:{label:b.string.ProjectMembers,icon:a.eB,$$slots:{default:[en]},$$scope:{ctx:e}},$$inline:!0});const c={c:h((function(){(0,s.YCL)(t.$$.fragment),n=(0,s.DhX)(),(0,s.YCL)(o.$$.fragment)}),"create"),m:h((function(e,c){(0,s.yef)(t,e,c),(0,s.DsI)(e,n,c),(0,s.yef)(o,e,c),i=!0}),"mount"),p:h((function(e,n){const i={};4194332&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const c={};4194307&n&&(c.$$scope={dirty:n,ctx:e}),o.$set(c)}),"update"),i:h((function(e){i||((0,s.Ui)(t.$$.fragment,e),(0,s.Ui)(o.$$.fragment,e),i=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),(0,s.etI)(o.$$.fragment,e),i=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e),e&&(0,s.GlD)(n),(0,s.vpE)(o,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:c,id:tn.name,type:"slot",source:"(64:0) <Dialog label={task.string.CreateProject} okLabel={task.string.CreateProject} okAction={createProject} on:close>",ctx:e}),c}function nn(e){let t,n;t=new a.Vq({props:{label:b.string.CreateProject,okLabel:b.string.CreateProject,okAction:e[5],$$slots:{default:[tn]},$$scope:{ctx:e}},$$inline:!0}),t.$on("close",e[15]);const o={c:h((function(){(0,s.YCL)(t.$$.fragment)}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,o){(0,s.yef)(t,e,o),n=!0}),"mount"),p:h((function(e,[n]){const o={};4194335&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:h((function(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(t.$$.fragment,e),n=!1}),"outro"),d:h((function(e){(0,s.vpE)(t,e)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:o,id:nn.name,type:"component",source:"",ctx:e}),o}function on(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("CreateProject",o,[]);var c=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return h(i,"adopt"),new(n||(n=Promise))((function(n,c){function s(e){try{a(o.next(e))}catch(e){c(e)}}function r(e){try{a(o.throw(e))}catch(e){c(e)}}function a(e){e.done?n(e.value):i(e.value).then(s,r)}h(s,"fulfilled"),h(r,"rejected"),h(a,"step"),a((o=o.apply(e,t||[])).next())}))};const r=(0,l.getClient)();let u,d="",f="",m=!1,$=[r.accountId()],g=[];function w(){r.createDoc(b.class.Project,p().space.Model,{name:d,description:f,private:m,members:$})}function v(){n(0,$=$.filter((e=>void 0!==e)))}function y(e,t){return void 0===t?g.filter((t=>!e.includes(t._id))):g.filter((n=>!e.includes(n._id)||t===n._id))}function k(){return c(this,void 0,void 0,(function*(){g=yield r.findAll(p().class.Account,{})}))}h(w,"createProject"),h(v,"filterMembers"),h(y,"getAvaibleMembers"),h(k,"getUsers");const _=[];function C(e){d=e,n(2,d)}function I(e){f=e,n(3,f)}function S(e){m=e,n(4,m)}function x(e,t,o,i){o[i]=e,n(0,$),n(1,u)}Object.keys(t).forEach((e=>{~_.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateProject> was created with unknown prop '${e}'`)})),h(C,"editbox_value_binding"),h(I,"textarea_value_binding"),h(S,"togglewithlabel_on_binding"),h(x,"userbox_selected_binding");const j=h((()=>{v()}),"change_handler");function T(e){u=e,n(1,u),n(0,$)}function L(t){s.cKT.call(this,e,t)}return h(T,"userbox_selected_binding_1"),h(L,"close_handler"),e.$capture_state=()=>({__awaiter:c,EditBox:a.k3,Dialog:a.Vq,TextArea:a.Kx,ToggleWithLabel:a.fL,Section:a.$0,IconFile:a.Xh,IconComments:a.eB,UserBox:a.kL,Grid:a.rj,getClient:l.getClient,task:b,core:p(),client:r,name:d,description:f,isPrivate:m,members:$,users:g,newMember:u,createProject:w,filterMembers:v,getAvaibleMembers:y,getUsers:k}),e.$inject_state=e=>{"__awaiter"in e&&(c=e.__awaiter),"name"in e&&n(2,d=e.name),"description"in e&&n(3,f=e.description),"isPrivate"in e&&n(4,m=e.isPrivate),"members"in e&&n(0,$=e.members),"users"in e&&(g=e.users),"newMember"in e&&n(1,u=e.newMember)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{3&e.$$.dirty&&void 0!==u&&($.push(u),n(0,$),n(1,u),n(1,u=void 0))},[$,u,d,f,m,w,v,y,k,C,I,S,x,j,T,L]}h(Mt,"get_each_context"),h(Wt,"create_default_slot_4"),h(zt,"create_default_slot_3"),h(Xt,"create_catch_block"),h(Kt,"create_then_block"),h(Ft,"create_each_block"),h(Ht,"create_if_block"),h(Qt,"create_default_slot_2"),h(Jt,"create_pending_block"),h(en,"create_default_slot_1"),h(tn,"create_default_slot"),h(nn,"create_fragment"),h(on,"instance");var cn=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,on,nn,s.N8,{}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateProject",options:e,id:nn.name})}};h(cn,"CreateProject");var sn=cn,rn="src/components/presenters/TaskPreview.svelte";function an(e){let t,n,o,i,c,r,l,u,p,d,f,m,$,g,w,v,y,k,_,C,I,S,x,j=e[0].shortRefId+"",T=e[0].name+"",L=e[0].comments.length+"";function E(t){e[6](t)}p=new a.A({props:{size:24,icon:a.Cr,direction:"left"},$$inline:!0}),h(E,"checkboxlist_items_binding");let D={label:b.string.AddCheckItem};void 0!==e[0].checkItems&&(D.items=e[0].checkItems),m=new a.$({props:D,$$inline:!0}),s.VnY.push((()=>(0,s.akz)(m,"items",E))),v=new a.ao({props:{user:e[1]},$$inline:!0}),_=new a.A({props:{size:24,icon:Be,direction:"left"},$$inline:!0});const Y={c:h((function(){t=(0,s.bGB)("div"),n=(0,s.bGB)("div"),o=(0,s.bGB)("span"),i=(0,s.fLW)(j),c=(0,s.DhX)(),r=(0,s.bGB)("span"),l=(0,s.fLW)(T),u=(0,s.DhX)(),(0,s.YCL)(p.$$.fragment),d=(0,s.DhX)(),f=(0,s.bGB)("div"),(0,s.YCL)(m.$$.fragment),g=(0,s.DhX)(),w=(0,s.bGB)("div"),(0,s.YCL)(v.$$.fragment),y=(0,s.DhX)(),k=(0,s.bGB)("div"),(0,s.YCL)(_.$$.fragment),C=(0,s.DhX)(),I=(0,s.bGB)("div"),S=(0,s.fLW)(L),(0,s.LGW)(o,"class","svelte-71gibb"),(0,s.vjr)(o,rn,41,6,1575),(0,s.LGW)(r,"class","svelte-71gibb"),(0,s.vjr)(r,rn,42,6,1612),(0,s.LGW)(n,"class","taskWithId svelte-71gibb"),(0,s.vjr)(n,rn,40,4,1544),(0,s.LGW)(t,"class","header svelte-71gibb"),(0,s.vjr)(t,rn,39,2,1519),(0,s.LGW)(f,"class","checklist svelte-71gibb"),(0,s.vjr)(f,rn,46,2,1724),(0,s.LGW)(I,"class","counter svelte-71gibb"),(0,s.vjr)(I,rn,53,6,1997),(0,s.LGW)(k,"class","actions svelte-71gibb"),(0,s.vjr)(k,rn,51,4,1903),(0,s.LGW)(w,"class","footer svelte-71gibb"),(0,s.vjr)(w,rn,49,2,1845)}),"create"),m:h((function(e,a){(0,s.DsI)(e,t,a),(0,s.gOb)(t,n),(0,s.gOb)(n,o),(0,s.gOb)(o,i),(0,s.gOb)(n,c),(0,s.gOb)(n,r),(0,s.gOb)(r,l),(0,s.gOb)(t,u),(0,s.yef)(p,t,null),(0,s.DsI)(e,d,a),(0,s.DsI)(e,f,a),(0,s.yef)(m,f,null),(0,s.DsI)(e,g,a),(0,s.DsI)(e,w,a),(0,s.yef)(v,w,null),(0,s.gOb)(w,y),(0,s.gOb)(w,k),(0,s.yef)(_,k,null),(0,s.gOb)(k,C),(0,s.gOb)(k,I),(0,s.gOb)(I,S),x=!0}),"mount"),p:h((function(e,t){(!x||1&t)&&j!==(j=e[0].shortRefId+"")&&(0,s.Lob)(i,j),(!x||1&t)&&T!==(T=e[0].name+"")&&(0,s.Lob)(l,T);const n={};!$&&1&t&&($=!0,n.items=e[0].checkItems,(0,s.hjT)((()=>$=!1))),m.$set(n);const o={};2&t&&(o.user=e[1]),v.$set(o),(!x||1&t)&&L!==(L=e[0].comments.length+"")&&(0,s.Lob)(S,L)}),"update"),i:h((function(e){x||((0,s.Ui)(p.$$.fragment,e),(0,s.Ui)(m.$$.fragment,e),(0,s.Ui)(v.$$.fragment,e),(0,s.Ui)(_.$$.fragment,e),x=!0)}),"intro"),o:h((function(e){(0,s.etI)(p.$$.fragment,e),(0,s.etI)(m.$$.fragment,e),(0,s.etI)(v.$$.fragment,e),(0,s.etI)(_.$$.fragment,e),x=!1}),"outro"),d:h((function(e){e&&(0,s.GlD)(t),(0,s.vpE)(p),e&&(0,s.GlD)(d),e&&(0,s.GlD)(f),(0,s.vpE)(m),e&&(0,s.GlD)(g),e&&(0,s.GlD)(w),(0,s.vpE)(v),(0,s.vpE)(_)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:Y,id:an.name,type:"if",source:"(39:0) {#if task}",ctx:e}),Y}function ln(e){let t,n,o=e[0]&&an(e);const i={c:h((function(){o&&o.c(),t=(0,s.cSb)()}),"create"),l:h((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:h((function(e,i){o&&o.m(e,i),(0,s.DsI)(e,t,i),n=!0}),"mount"),p:h((function(e,[n]){e[0]?o?(o.p(e,n),1&n&&(0,s.Ui)(o,1)):(o=an(e),o.c(),(0,s.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,s.dvw)(),(0,s.etI)(o,1,1,(()=>{o=null})),(0,s.gbL)())}),"update"),i:h((function(e){n||((0,s.Ui)(o),n=!0)}),"intro"),o:h((function(e){(0,s.etI)(o),n=!1}),"outro"),d:h((function(e){o&&o.d(e),e&&(0,s.GlD)(t)}),"destroy")};return(0,s.YyZ)("SvelteRegisterBlock",{block:i,id:ln.name,type:"component",source:"",ctx:e}),i}function un(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,s.KXV)("TaskPreview",o,[]);const r=(0,l.getClient)();let d,f,m,g,{objectId:w}=t,{objectClass:v}=t;const y=["objectId","objectClass"];function k(t){e.$$.not_equal(d.checkItems,t)&&(d.checkItems=t,n(0,d),n(4,m),n(3,v),n(2,w))}return Object.keys(t).forEach((e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TaskPreview> was created with unknown prop '${e}'`)})),h(k,"checkboxlist_items_binding"),e.$$set=e=>{"objectId"in e&&n(2,w=e.objectId),"objectClass"in e&&n(3,v=e.objectClass)},e.$capture_state=()=>({CheckBoxList:a.$,UserInfo:a.ao,ActionIcon:a.A,IconMoreV:a.Cr,IconChat:Be,core:p(),Class:u.Class,Ref:u.Ref,Account:u.Account,getClient:l.getClient,QueryUpdater:$.QueryUpdater,Task:c.Task,taskIds:b,client:r,objectId:w,objectClass:v,task:d,assignee:f,taskUpdater:m,taskAssignee:g}),e.$inject_state=e=>{"objectId"in e&&n(2,w=e.objectId),"objectClass"in e&&n(3,v=e.objectClass),"task"in e&&n(0,d=e.task),"assignee"in e&&n(1,f=e.assignee),"taskUpdater"in e&&n(4,m=e.taskUpdater),"taskAssignee"in e&&n(5,g=e.taskAssignee)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{28&e.$$.dirty&&n(4,m=r.query(m,v,{_id:w},(e=>{n(0,d=e.shift())}))),33&e.$$.dirty&&void 0!==(null==d?void 0:d.assignee)&&n(5,g=r.query(g,p().class.Account,{_id:d.assignee},(e=>{n(1,f=e.shift())})))},[d,f,w,v,m,g,k]}h(an,"create_if_block"),h(ln,"create_fragment"),h(un,"instance");var pn=class extends s.Mjb{constructor(e){super(e),(0,s.S1n)(this,e,un,ln,s.N8,{objectId:2,objectClass:3}),(0,s.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TaskPreview",options:e,id:ln.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[2]||"objectId"in n||console.warn("<TaskPreview> was created without expected prop 'objectId'"),void 0!==t[3]||"objectClass"in n||console.warn("<TaskPreview> was created without expected prop 'objectClass'")}get objectId(){throw new Error("<TaskPreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set objectId(e){throw new Error("<TaskPreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get objectClass(){throw new Error("<TaskPreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set objectClass(e){throw new Error("<TaskPreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};h(pn,"TaskPreview");var dn=pn,fn=h((()=>w(void 0,null,(function*(){return(0,o.setResource)(b.component.CreateProject,sn),(0,o.setResource)(b.component.ProjectView,Zt),(0,o.setResource)(b.component.MyTasksView,Bt),(0,o.setResource)(b.component.FavoriteView,qt),(0,o.setResource)(b.component.CreateTask,se),(0,o.setResource)(b.component.EditTask,je),(0,o.setResource)(b.component.TaskPreview,dn),{}}))),"default")}}]);
"use strict";(self.webpackChunkprod=self.webpackChunkprod||[]).push([[930,243],{91183:(e,t,n)=>{n.r(t),n.d(t,{default:()=>mn});var o=n(9479),i=n(98097),s=n(1808),c=n(3130),r=n(9862),a=n(26148),l=n(35107),u=n(41350),p=n.n(u),d=n(97904),f=n(35407),m=n.n(f),$=n(72451),g=n(4003),h=Object.defineProperty,w=(e,t)=>h(e,"name",{value:t,configurable:!0});function b(e){switch(e){case s.default.string.Open:return"#9D92C4";case s.default.string.InProgress:return"#61A6AF";case s.default.string.Closed:return"#73A6CD";default:return"#F28469"}}w(b,"getStatusColor");var v=(0,i.mergeIds)(s.default,{component:{CreateProject:"",ProjectView:"",MyTasksView:"",FavoriteView:"",CreateTask:"",EditTask:"",TaskPreview:"",TaskRefView:""}});function y(e){let t,n,o;function i(t){e[8](t)}w(i,"mdrefeditor_value_binding");let s={label:e[2],placeholder:e[3],lines:e[1],findFunction:e[6],completions:e[5]};void 0!==e[0]&&(s.value=e[0]),t=new a.c_({props:s,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"value",i))),t.$on("blur",e[9]),t.$on("prefix",e[10]);const r={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,n){(0,c.yef)(t,e,n),o=!0}),"mount"),p:w((function(e,[o]){const i={};4&o&&(i.label=e[2]),8&o&&(i.placeholder=e[3]),2&o&&(i.lines=e[1]),32&o&&(i.completions=e[5]),!n&&1&o&&(n=!0,i.value=e[0],(0,c.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:w((function(e){o||((0,c.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),o=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:y.name,type:"component",source:"",ctx:e}),r}function k(e){return{title:{$like:e+"%"}}}function _(e){const t=[];for(const n of e){const e=n.title;t.push({key:`${n.objectId}${n.title}`,completion:n.objectId,label:e,title:`${e} - ${n.objectClass}`,class:n.objectClass,id:n.objectId})}return t}function C(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("DescriptionEditor",o,[]);var s=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{lines:r=10}=t,{value:u=""}=t,{label:d}=t,{placeholder:f}=t,m="",$=[];const g=(0,l.getClient)();let h;function b(e){return s(this,void 0,void 0,(function*(){const t=yield g.findAll(p().class.Title,{title:e});for(const n of t)if(n.title===e)return[{id:n.objectId,class:n.objectClass}];return[]}))}w(b,"findTitle");const v=["lines","value","label","placeholder"];function y(e){u=e,n(0,u)}function C(t){c.cKT.call(this,e,t)}Object.keys(t).forEach((e=>{~v.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<DescriptionEditor> was created with unknown prop '${e}'`)})),w(y,"mdrefeditor_value_binding"),w(C,"blur_handler");const I=w((e=>{n(4,m=e.detail)}),"prefix_handler");return e.$$set=e=>{"lines"in e&&n(1,r=e.lines),"value"in e&&n(0,u=e.value),"label"in e&&n(2,d=e.label),"placeholder"in e&&n(3,f=e.placeholder)},e.$capture_state=()=>({__awaiter:s,core:p(),getClient:l.getClient,MDRefEditor:a.c_,lines:r,value:u,label:d,placeholder:f,currentPrefix:m,completions:$,client:g,query:k,lq:h,updateTitles:_,findTitle:b}),e.$inject_state=e=>{"__awaiter"in e&&(s=e.__awaiter),"lines"in e&&n(1,r=e.lines),"value"in e&&n(0,u=e.value),"label"in e&&n(2,d=e.label),"placeholder"in e&&n(3,f=e.placeholder),"currentPrefix"in e&&n(4,m=e.currentPrefix),"completions"in e&&n(5,$=e.completions),"lq"in e&&n(7,h=e.lq)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{144&e.$$.dirty&&""!==m&&n(7,h=g.query(h,p().class.Title,k(m),(e=>{n(5,$=_(e))}),{limit:50}))},[u,r,d,f,m,$,b,h,y,C,I]}w(y,"create_fragment"),w(k,"query"),w(_,"updateTitles"),w(C,"instance");var I=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,C,y,c.N8,{lines:1,value:0,label:2,placeholder:3}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"DescriptionEditor",options:e,id:y.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[2]||"label"in n||console.warn("<DescriptionEditor> was created without expected prop 'label'"),void 0!==t[3]||"placeholder"in n||console.warn("<DescriptionEditor> was created without expected prop 'placeholder'")}get lines(){throw new Error("<DescriptionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set lines(e){throw new Error("<DescriptionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<DescriptionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<DescriptionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<DescriptionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<DescriptionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get placeholder(){throw new Error("<DescriptionEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set placeholder(e){throw new Error("<DescriptionEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(I,"DescriptionEditor");var x=I;function S(e){let t,n,o,i,s;n=new d.Channel({props:{messages:e[0],notifications:e[1],thread:!0},$$inline:!0}),i=new d.ReferenceInput({$$inline:!0}),i.$on("message",e[2]);const r={c:w((function(){t=(0,c.bGB)("div"),(0,c.YCL)(n.$$.fragment),o=(0,c.DhX)(),(0,c.YCL)(i.$$.fragment),(0,c.LGW)(t,"class","msg-board svelte-jrrzf9"),(0,c.vjr)(t,"src/components/Comments.svelte",21,0,767)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,r){(0,c.DsI)(e,t,r),(0,c.yef)(n,t,null),(0,c.DsI)(e,o,r),(0,c.yef)(i,e,r),s=!0}),"mount"),p:w((function(e,[t]){const o={};1&t&&(o.messages=e[0]),2&t&&(o.notifications=e[1]),n.$set(o)}),"update"),i:w((function(e){s||((0,c.Ui)(n.$$.fragment,e),(0,c.Ui)(i.$$.fragment,e),s=!0)}),"intro"),o:w((function(e){(0,c.etI)(n.$$.fragment,e),(0,c.etI)(i.$$.fragment,e),s=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.vpE)(n),e&&(0,c.GlD)(o),(0,c.vpE)(i,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:S.name,type:"component",source:"",ctx:e}),r}function j(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("Comments",o,[]);let{messages:s=[]}=t,{notifications:r}=t;const a=["messages","notifications"];function l(t){c.cKT.call(this,e,t)}return Object.keys(t).forEach((e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Comments> was created with unknown prop '${e}'`)})),w(l,"message_handler"),e.$$set=e=>{"messages"in e&&n(0,s=e.messages),"notifications"in e&&n(1,r=e.notifications)},e.$capture_state=()=>({Channel:d.Channel,ReferenceInput:d.ReferenceInput,messages:s,notifications:r}),e.$inject_state=e=>{"messages"in e&&n(0,s=e.messages),"notifications"in e&&n(1,r=e.notifications)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s,r,l]}w(S,"create_fragment"),w(j,"instance");var T=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,j,S,c.N8,{messages:0,notifications:1}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Comments",options:e,id:S.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"notifications"in n||console.warn("<Comments> was created without expected prop 'notifications'")}get messages(){throw new Error("<Comments>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set messages(e){throw new Error("<Comments>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<Comments>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<Comments>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(T,"Comments");var L=T,E="src/components/Status.svelte";function D(e){let t,n,o,i,s;i=new a.__({props:{label:e[0]},$$inline:!0});const r={c:w((function(){t=(0,c.bGB)("div"),n=(0,c.bGB)("div"),o=(0,c.DhX)(),(0,c.YCL)(i.$$.fragment),(0,c.LGW)(n,"class","status svelte-4y2lh9"),(0,c.czc)(n,"background-color",e[1]),(0,c.vjr)(n,E,22,2,818),(0,c.LGW)(t,"class","taskstatus-container svelte-4y2lh9"),(0,c.vjr)(t,E,21,0,781)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,r){(0,c.DsI)(e,t,r),(0,c.gOb)(t,n),(0,c.gOb)(t,o),(0,c.yef)(i,t,null),s=!0}),"mount"),p:w((function(e,[t]){(!s||2&t)&&(0,c.czc)(n,"background-color",e[1]);const o={};1&t&&(o.label=e[0]),i.$set(o)}),"update"),i:w((function(e){s||((0,c.Ui)(i.$$.fragment,e),s=!0)}),"intro"),o:w((function(e){(0,c.etI)(i.$$.fragment,e),s=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.vpE)(i)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:D.name,type:"component",source:"",ctx:e}),r}function Y(e,t,n){let o,{$$slots:i={},$$scope:s}=t;(0,c.KXV)("Status",i,[]);let{value:r}=t;const l=["value"];return Object.keys(t).forEach((e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Status> was created with unknown prop '${e}'`)})),e.$$set=e=>{"value"in e&&n(0,r=e.value)},e.$capture_state=()=>({Label:a.__,getStatusColor:b,value:r,color:o}),e.$inject_state=e=>{"value"in e&&n(0,r=e.value),"color"in e&&n(1,o=e.color)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(1,o=b(r))},[r,o]}w(D,"create_fragment"),w(Y,"instance");var P=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,Y,D,c.N8,{value:0}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Status",options:e,id:D.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"value"in n||console.warn("<Status> was created without expected prop 'value'")}get value(){throw new Error("<Status>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<Status>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(P,"Status");var R=P,{Object:Z}=c.lig,O="src/components/StatusPicker.svelte";function G(e,t,n){const o=e.slice();return o[12]=t[n],o}function U(e){let t,n;function o(){return e[8](e[12])}w(o,"func_2"),t=new a.rp({props:{component:R,props:{value:e[12]},selectable:!0,action:o},$$inline:!0});const i={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(n,i){e=n;const s={};1&i&&(s.props={value:e[12]}),9&i&&(s.action=o),t.$set(s)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:i,id:U.name,type:"each",source:"(41:4) {#each items.filter((u) => u !== selected) as item}",ctx:e}),i}function B(e){let t,n,o,i;t=new a.rp({props:{component:R,props:{value:e[0]},selectable:!0,selected:!0,action:e[6]},$$inline:!0});let s=e[5].filter(e[7]);(0,c.vzG)(s);let r=[];for(let t=0;t<s.length;t+=1)r[t]=U(G(e,s,t));const l=w((e=>(0,c.etI)(r[e],1,1,(()=>{r[e]=null}))),"out"),u={c:w((function(){(0,c.YCL)(t.$$.fragment),n=(0,c.DhX)();for(let e=0;e<r.length;e+=1)r[e].c();o=(0,c.cSb)()}),"create"),m:w((function(e,s){(0,c.yef)(t,e,s),(0,c.DsI)(e,n,s);for(let t=0;t<r.length;t+=1)r[t].m(e,s);(0,c.DsI)(e,o,s),i=!0}),"mount"),p:w((function(e,n){const i={};if(1&n&&(i.props={value:e[0]}),9&n&&(i.action=e[6]),t.$set(i),57&n){let t;for(s=e[5].filter(e[7]),(0,c.vzG)(s),t=0;t<s.length;t+=1){const i=G(e,s,t);r[t]?(r[t].p(i,n),(0,c.Ui)(r[t],1)):(r[t]=U(i),r[t].c(),(0,c.Ui)(r[t],1),r[t].m(o.parentNode,o))}for((0,c.dvw)(),t=s.length;t<r.length;t+=1)l(t);(0,c.gbL)()}}),"update"),i:w((function(e){if(!i){(0,c.Ui)(t.$$.fragment,e);for(let e=0;e<s.length;e+=1)(0,c.Ui)(r[e]);i=!0}}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)(0,c.etI)(r[e]);i=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e),e&&(0,c.GlD)(n),(0,c.RMB)(r,e),e&&(0,c.GlD)(o)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:u,id:B.name,type:"slot",source:"(29:2) <PopupMenu {margin} bind:show={pressed} bind:title>",ctx:e}),u}function A(e){let t,n,o,i,s,r,l,u,p,d,f,m,$;function g(t){e[9](t)}function h(t){e[10](t)}w(g,"popupmenu_show_binding"),w(h,"popupmenu_title_binding");let b={margin:e[1],$$slots:{default:[B]},$$scope:{ctx:e}};void 0!==e[3]&&(b.show=e[3]),void 0!==e[2]&&(b.title=e[2]),n=new a.ZE({props:b,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(n,"show",g))),c.VnY.push((()=>(0,c.akz)(n,"title",h))),u=new a.__({props:{label:e[2]},$$inline:!0}),d=new R({props:{value:e[0]},$$inline:!0});const v={c:w((function(){t=(0,c.bGB)("div"),(0,c.YCL)(n.$$.fragment),s=(0,c.DhX)(),r=(0,c.bGB)("div"),l=(0,c.bGB)("div"),(0,c.YCL)(u.$$.fragment),p=(0,c.DhX)(),(0,c.YCL)(d.$$.fragment),(0,c.LGW)(l,"class","title svelte-2c90r2"),(0,c.vjr)(l,O,60,4,1821),(0,c.LGW)(r,"class","selected svelte-2c90r2"),(0,c.vjr)(r,O,53,2,1683),(0,c.LGW)(t,"class","statusPicker svelte-2c90r2"),(0,c.vjr)(t,O,27,0,1047)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(o,i){(0,c.DsI)(o,t,i),(0,c.yef)(n,t,null),(0,c.gOb)(t,s),(0,c.gOb)(t,r),(0,c.gOb)(r,l),(0,c.yef)(u,l,null),(0,c.gOb)(r,p),(0,c.yef)(d,r,null),f=!0,m||($=(0,c.iVk)(r,"click",(0,c.AT7)(e[11]),!1,!0,!1),m=!0)}),"mount"),p:w((function(e,[t]){const s={};2&t&&(s.margin=e[1]),32777&t&&(s.$$scope={dirty:t,ctx:e}),!o&&8&t&&(o=!0,s.show=e[3],(0,c.hjT)((()=>o=!1))),!i&&4&t&&(i=!0,s.title=e[2],(0,c.hjT)((()=>i=!1))),n.$set(s);const r={};4&t&&(r.label=e[2]),u.$set(r);const a={};1&t&&(a.value=e[0]),d.$set(a)}),"update"),i:w((function(e){f||((0,c.Ui)(n.$$.fragment,e),(0,c.Ui)(u.$$.fragment,e),(0,c.Ui)(d.$$.fragment,e),f=!0)}),"intro"),o:w((function(e){(0,c.etI)(n.$$.fragment,e),(0,c.etI)(u.$$.fragment,e),(0,c.etI)(d.$$.fragment,e),f=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.vpE)(n),(0,c.vpE)(u),(0,c.vpE)(d),m=!1,$()}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:v,id:A.name,type:"component",source:"",ctx:e}),v}function V(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("StatusPicker",o,[]);let{selected:l}=t,{margin:u=5}=t,p=s.default.string.Status;const d=(0,r.createEventDispatcher)(),f=Object.entries(s.TaskStatuses).map((([e,t])=>t));let m=!1;const $=["selected","margin"];Z.keys(t).forEach((e=>{~$.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<StatusPicker> was created with unknown prop '${e}'`)}));const g=w((()=>{n(0,l=void 0),n(3,m=!m),d("change",l)}),"func"),h=w((e=>e!==l),"func_1"),b=w((e=>{n(0,l=e),n(3,m=!m),d("change",l)}),"func_2");function v(e){m=e,n(3,m)}function y(e){p=e,n(2,p)}w(v,"popupmenu_show_binding"),w(y,"popupmenu_title_binding");const k=w((e=>{n(3,m=!m),e.stopPropagation()}),"click_handler");return e.$$set=e=>{"selected"in e&&n(0,l=e.selected),"margin"in e&&n(1,u=e.margin)},e.$capture_state=()=>({PopupMenu:a.ZE,PopupItem:a.rp,Label:a.__,Status:R,task:s.default,TaskStatuses:s.TaskStatuses,createEventDispatcher:r.createEventDispatcher,selected:l,margin:u,title:p,dispatch:d,items:f,pressed:m}),e.$inject_state=e=>{"selected"in e&&n(0,l=e.selected),"margin"in e&&n(1,u=e.margin),"title"in e&&n(2,p=e.title),"pressed"in e&&n(3,m=e.pressed)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[l,u,p,m,d,f,g,h,b,v,y,k]}w(G,"get_each_context"),w(U,"create_each_block"),w(B,"create_default_slot"),w(A,"create_fragment"),w(V,"instance");var N=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,V,A,c.N8,{selected:0,margin:1}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"StatusPicker",options:e,id:A.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"selected"in n||console.warn("<StatusPicker> was created without expected prop 'selected'")}get selected(){throw new Error("<StatusPicker>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selected(e){throw new Error("<StatusPicker>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get margin(){throw new Error("<StatusPicker>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set margin(e){throw new Error("<StatusPicker>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(N,"StatusPicker");var q=N;function M(e){let t,n;t=new a.$0({props:{label:v.string.ToDos,icon:a.jB,$$slots:{default:[X]},$$scope:{ctx:e}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};268435472&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:M.name,type:"else",source:"(161:2) {:else}",ctx:e}),o}function W(e){let t,n;t=new a.rj({props:{column:1},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:c.ZTd,i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:W.name,type:"if",source:"(159:51) ",ctx:e}),o}function z(e){let t,n,o,i;t=new a.$0({props:{label:v.string.GeneralInformation,icon:a.Xh,$$slots:{default:[ee]},$$scope:{ctx:e}},$$inline:!0}),o=new a.$0({props:{label:v.string.Comments,icon:a.eB,$$slots:{default:[ne]},$$scope:{ctx:e}},$$inline:!0});const s={c:w((function(){(0,c.YCL)(t.$$.fragment),n=(0,c.DhX)(),(0,c.YCL)(o.$$.fragment)}),"create"),m:w((function(e,s){(0,c.yef)(t,e,s),(0,c.DsI)(e,n,s),(0,c.yef)(o,e,s),i=!0}),"mount"),p:w((function(e,n){const i={};268435662&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const s={};268435489&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)}),"update"),i:w((function(e){i||((0,c.Ui)(t.$$.fragment,e),(0,c.Ui)(o.$$.fragment,e),i=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),(0,c.etI)(o.$$.fragment,e),i=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e),e&&(0,c.GlD)(n),(0,c.vpE)(o,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:s,id:z.name,type:"if",source:"(128:2) {#if selectedTab === task.string.General}",ctx:e}),s}function X(e){let t,n,o;function i(t){e[21](t)}w(i,"checkboxlist_items_binding");let s={label:v.string.AddCheckItem,editable:!0};void 0!==e[4]&&(s.items=e[4]),t=new a.$({props:s,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"items",i)));const r={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),o=!0}),"mount"),p:w((function(e,o){const i={};!n&&16&o&&(n=!0,i.items=e[4],(0,c.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:w((function(e){o||((0,c.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),o=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:X.name,type:"slot",source:"(162:4) <Section label={task.string.ToDos} icon={IconToDo}>",ctx:e}),r}function K(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:K.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function F(e){let t,n,o;function i(t){e[17](t)}w(i,"userbox_selected_binding");let s={users:e[27],caption:v.string.ProjectMembers,title:v.string.Assignee,label:v.string.AssignTask,showSearch:!0};void 0!==e[3]&&(s.selected=e[3]),t=new a.kL({props:s,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"selected",i)));const r={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),o=!0}),"mount"),p:w((function(e,o){const i={};!n&&8&o&&(n=!0,i.selected=e[3],(0,c.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:w((function(e){o||((0,c.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),o=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:F.name,type:"then",source:"(133:47)            <UserBox             bind:selected={assignee}",ctx:e}),r}function H(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:H.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function Q(e){let t,n,o;function i(t){e[19](t)}w(i,"descriptioneditor_value_binding");let s={placeholder:v.string.TaskDescription,label:v.string.TaskDescription,lines:5};void 0!==e[2]&&(s.value=e[2]),t=new x({props:s,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"value",i)));const r={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),o=!0}),"mount"),p:w((function(e,o){const i={};!n&&4&o&&(n=!0,i.value=e[2],(0,c.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:w((function(e){o||((0,c.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),o=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:Q.name,type:"slot",source:"(144:8) <Row>",ctx:e}),r}function J(e){let t,n,o,i,s,r,l,u,p,d,f,m,$;function g(t){e[15](t)}w(g,"editbox_value_binding");let h={label:v.string.TaskName};function b(t){e[16](t)}void 0!==e[1]&&(h.value=e[1]),t=new a.k3({props:h,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"value",g))),w(b,"statuspicker_selected_binding");let y={};void 0!==e[7]&&(y.selected=e[7]),i=new q({props:y,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(i,"selected",b)));let k={ctx:e,current:null,token:null,hasCatch:!1,pending:H,then:F,catch:K,value:27,blocks:[,,,]};function _(t){e[18](t)}(0,c.CR_)(l=e[10](),k),w(_,"datepicker_selected_binding");let C={title:v.string.PickDue};void 0!==e[6]&&(C.selected=e[6]),p=new a.Mt({props:C,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(p,"selected",_))),m=new a.X2({props:{$$slots:{default:[Q]},$$scope:{ctx:e}},$$inline:!0});const I={c:w((function(){(0,c.YCL)(t.$$.fragment),o=(0,c.DhX)(),(0,c.YCL)(i.$$.fragment),r=(0,c.DhX)(),k.block.c(),u=(0,c.DhX)(),(0,c.YCL)(p.$$.fragment),f=(0,c.DhX)(),(0,c.YCL)(m.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),(0,c.DsI)(e,o,n),(0,c.yef)(i,e,n),(0,c.DsI)(e,r,n),k.block.m(e,k.anchor=n),k.mount=()=>u.parentNode,k.anchor=u,(0,c.DsI)(e,u,n),(0,c.yef)(p,e,n),(0,c.DsI)(e,f,n),(0,c.yef)(m,e,n),$=!0}),"mount"),p:w((function(o,r){e=o;const a={};!n&&2&r&&(n=!0,a.value=e[1],(0,c.hjT)((()=>n=!1))),t.$set(a);const l={};!s&&128&r&&(s=!0,l.selected=e[7],(0,c.hjT)((()=>s=!1))),i.$set(l),(0,c.xfz)(k,e,r);const u={};!d&&64&r&&(d=!0,u.selected=e[6],(0,c.hjT)((()=>d=!1))),p.$set(u);const f={};268435460&r&&(f.$$scope={dirty:r,ctx:e}),m.$set(f)}),"update"),i:w((function(e){$||((0,c.Ui)(t.$$.fragment,e),(0,c.Ui)(i.$$.fragment,e),(0,c.Ui)(k.block),(0,c.Ui)(p.$$.fragment,e),(0,c.Ui)(m.$$.fragment,e),$=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),(0,c.etI)(i.$$.fragment,e);for(let e=0;e<3;e+=1){const t=k.blocks[e];(0,c.etI)(t)}(0,c.etI)(p.$$.fragment,e),(0,c.etI)(m.$$.fragment,e),$=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e),e&&(0,c.GlD)(o),(0,c.vpE)(i,e),e&&(0,c.GlD)(r),k.block.d(e),k.token=null,k=null,e&&(0,c.GlD)(u),(0,c.vpE)(p,e),e&&(0,c.GlD)(f),(0,c.vpE)(m,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:I,id:J.name,type:"slot",source:"(130:6) <Grid column={2}>",ctx:e}),I}function ee(e){let t,n;t=new a.rj({props:{column:2,$$slots:{default:[J]},$$scope:{ctx:e}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};268435662&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:ee.name,type:"slot",source:"(129:4) <Section label={task.string.GeneralInformation} icon={IconFile}>",ctx:e}),o}function te(e){let t,n;t=new L({props:{messages:e[5],currentSpace:e[0]},$$inline:!0}),t.$on("message",e[20]);const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};32&n&&(o.messages=e[5]),1&n&&(o.currentSpace=e[0]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:te.name,type:"slot",source:"(155:6) <Grid column={1}>",ctx:e}),o}function ne(e){let t,n;t=new a.rj({props:{column:1,$$slots:{default:[te]},$$scope:{ctx:e}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};268435489&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:ne.name,type:"slot",source:"(154:4) <Section label={task.string.Comments} icon={IconComments}>",ctx:e}),o}function oe(e){let t,n,o,i,s,r,l;function u(t){e[14](t)}w(u,"tabs_1_selected_binding");let p={tabs:e[13]};void 0!==e[8]&&(p.selected=e[8]),t=new a.mQ({props:p,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"selected",u)));const d=[z,W,M],f=[];function m(e,t){return e[8]===v.string.General?0:e[8]===v.string.Attachment?1:2}w(m,"select_block_type"),i=m(e),s=f[i]=d[i](e);const $={c:w((function(){(0,c.YCL)(t.$$.fragment),o=(0,c.DhX)(),s.c(),r=(0,c.cSb)()}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),(0,c.DsI)(e,o,n),f[i].m(e,n),(0,c.DsI)(e,r,n),l=!0}),"mount"),p:w((function(e,o){const a={};!n&&256&o&&(n=!0,a.selected=e[8],(0,c.hjT)((()=>n=!1))),t.$set(a);let l=i;i=m(e),i===l?f[i].p(e,o):((0,c.dvw)(),(0,c.etI)(f[l],1,1,(()=>{f[l]=null})),(0,c.gbL)(),s=f[i],s?s.p(e,o):(s=f[i]=d[i](e),s.c()),(0,c.Ui)(s,1),s.m(r.parentNode,r))}),"update"),i:w((function(e){l||((0,c.Ui)(t.$$.fragment,e),(0,c.Ui)(s),l=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),(0,c.etI)(s),l=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e),e&&(0,c.GlD)(o),f[i].d(e),e&&(0,c.GlD)(r)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:$,id:oe.name,type:"slot",source:"(118:0) <Dialog   label={task.string.CreateTask}   okLabel={task.string.CreateTask}   okAction={create}   cancelLabel={ui.string.Cancel}   on:close={() => {     dispatch('close')   }} >",ctx:e}),$}function ie(e){let t,n;t=new a.Vq({props:{label:v.string.CreateTask,okLabel:v.string.CreateTask,okAction:e[12],cancelLabel:a.ZP.string.Cancel,$$slots:{default:[oe]},$$scope:{ctx:e}},$$inline:!0}),t.$on("close",e[22]);const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,[n]){const o={};268435967&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:ie.name,type:"component",source:"",ctx:e}),o}function se(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("CreateTask",o,[]);var f=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};const $=(0,r.createEventDispatcher)();let g,h,{space:b}=t,y="",k="",_=[],C=[],I=s.TaskStatuses.Open;const S=(0,u.generateId)(),j=(0,l.getClient)();function T(){return f(this,void 0,void 0,(function*(){const e=b.members;return void 0!==e?yield j.findAll(p().class.Account,{_id:{$in:e}}):[]}))}function E(e){C.push({message:e,modifiedBy:j.accountId(),modifiedOn:Date.now(),createOn:Date.now(),_id:(0,u.generateId)(),space:b._id,_class:d.chunterIds.class.Comment,replyOf:(0,u.getFullRef)(S,v.class.Task)}),n(5,C),Y()}function D(){return f(this,void 0,void 0,(function*(){const e=yield j.createShortRef(S,v.class.Task,b._id);yield j.createDoc(v.class.Task,b._id,{name:y,assignee:g,description:k,checkItems:_,shortRefId:e,dueTo:h,status:I,comments:[]},S);for(const e of C)yield j.createDoc(d.chunterIds.class.Comment,b._id,{message:e.message,replyOf:(0,u.getFullRef)(S,v.class.Task)});Y()}))}function Y(){return f(this,void 0,void 0,(function*(){const e=(yield j.findAll(m().class.SpaceNotifications,{objectId:b._id})).shift();void 0!==e&&(void 0===e.objectLastReads.set&&(e.objectLastReads=new Map),e.objectLastReads.set(S,Date.now()),yield j.updateDoc(e._class,e.space,e._id,{lastRead:Date.now()}))}))}w(T,"getProjectMembers"),w(E,"addMessage"),w(D,"create"),w(Y,"updateLastRead");const P=[v.string.General,v.string.Attachment,v.string.ToDos];let R=v.string.General;const Z=["space"];function O(e){R=e,n(8,R)}function G(e){y=e,n(1,y)}function U(e){I=e,n(7,I)}function B(e){g=e,n(3,g)}function A(e){h=e,n(6,h)}function V(e){k=e,n(2,k)}Object.keys(t).forEach((e=>{~Z.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateTask> was created with unknown prop '${e}'`)})),w(O,"tabs_1_selected_binding"),w(G,"editbox_value_binding"),w(U,"statuspicker_selected_binding"),w(B,"userbox_selected_binding"),w(A,"datepicker_selected_binding"),w(V,"descriptioneditor_value_binding");const N=w((e=>E(e.detail)),"message_handler");function M(e){_=e,n(4,_)}w(M,"checkboxlist_items_binding");const W=w((()=>{$("close")}),"close_handler");return e.$$set=e=>{"space"in e&&n(0,b=e.space)},e.$capture_state=()=>({__awaiter:f,createEventDispatcher:r.createEventDispatcher,ui:a.ZP,EditBox:a.k3,Dialog:a.Vq,UserBox:a.kL,DatePicker:a.Mt,Tabs:a.mQ,Section:a.$0,IconFile:a.Xh,IconComments:a.eB,Grid:a.rj,Row:a.X2,CheckBoxList:a.$,IconToDo:a.jB,getClient:l.getClient,TaskStatuses:s.TaskStatuses,task:v,core:p(),generateId:u.generateId,getFullRef:u.getFullRef,Timestamp:u.Timestamp,DescriptionEditor:x,Comments:L,StatusPicker:q,chunter:d.chunterIds,notification:m(),dispatch:$,space:b,name:y,description:k,assignee:g,checkItems:_,comments:C,dueTo:h,status:I,id:S,client:j,getProjectMembers:T,addMessage:E,create:D,updateLastRead:Y,tabs:P,selectedTab:R}),e.$inject_state=e=>{"__awaiter"in e&&(f=e.__awaiter),"space"in e&&n(0,b=e.space),"name"in e&&n(1,y=e.name),"description"in e&&n(2,k=e.description),"assignee"in e&&n(3,g=e.assignee),"checkItems"in e&&n(4,_=e.checkItems),"comments"in e&&n(5,C=e.comments),"dueTo"in e&&n(6,h=e.dueTo),"status"in e&&n(7,I=e.status),"selectedTab"in e&&n(8,R=e.selectedTab)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[b,y,k,g,_,C,h,I,R,$,T,E,D,P,O,G,U,B,A,V,N,M,W]}w(M,"create_else_block"),w(W,"create_if_block_1"),w(z,"create_if_block"),w(X,"create_default_slot_6"),w(K,"create_catch_block"),w(F,"create_then_block"),w(H,"create_pending_block"),w(Q,"create_default_slot_5"),w(J,"create_default_slot_4"),w(ee,"create_default_slot_3"),w(te,"create_default_slot_2"),w(ne,"create_default_slot_1"),w(oe,"create_default_slot"),w(ie,"create_fragment"),w(se,"instance");var ce=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,se,ie,c.N8,{space:0}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateTask",options:e,id:ie.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"space"in n||console.warn("<CreateTask> was created without expected prop 'space'")}get space(){throw new Error("<CreateTask>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set space(e){throw new Error("<CreateTask>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(ce,"CreateTask");var re=ce;function ae(e){let t,n;t=new L({props:{messages:e[2],currentSpace:e[0],notifications:e[1]},$$inline:!0}),t.$on("message",e[6]);const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,[n]){const o={};4&n&&(o.messages=e[2]),1&n&&(o.currentSpace=e[0]),2&n&&(o.notifications=e[1]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:ae.name,type:"component",source:"",ctx:e}),o}function le(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("CommentsView",o,[]);let{currentSpace:s}=t,{taskId:r}=t,{notifications:a}=t;const p=(0,l.getClient)();let f,m=[];function $(e){p.createDoc(d.chunterIds.class.Comment,s,{message:e,replyOf:(0,u.getFullRef)(r,v.class.Task)})}w($,"addMessage");const g=["currentSpace","taskId","notifications"];Object.keys(t).forEach((e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CommentsView> was created with unknown prop '${e}'`)}));const h=w((e=>$(e.detail)),"message_handler");return e.$$set=e=>{"currentSpace"in e&&n(0,s=e.currentSpace),"taskId"in e&&n(4,r=e.taskId),"notifications"in e&&n(1,a=e.notifications)},e.$capture_state=()=>({getFullRef:u.getFullRef,SortingOrder:u.SortingOrder,getClient:l.getClient,Comments:L,task:v,chunter:d.chunterIds,currentSpace:s,taskId:r,notifications:a,client:p,messages:m,addMessage:$,query:f}),e.$inject_state=e=>{"currentSpace"in e&&n(0,s=e.currentSpace),"taskId"in e&&n(4,r=e.taskId),"notifications"in e&&n(1,a=e.notifications),"messages"in e&&n(2,m=e.messages),"query"in e&&n(5,f=e.query)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{49&e.$$.dirty&&n(5,f=p.query(f,d.chunterIds.class.Comment,{space:s,replyOf:(0,u.getFullRef)(r,v.class.Task)},(e=>{n(2,m=e)}),{sort:{createOn:u.SortingOrder.Ascending}}))},[s,a,m,$,r,f,h]}w(ae,"create_fragment"),w(le,"instance");var ue=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,le,ae,c.N8,{currentSpace:0,taskId:4,notifications:1}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CommentsView",options:e,id:ae.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"currentSpace"in n||console.warn("<CommentsView> was created without expected prop 'currentSpace'"),void 0!==t[4]||"taskId"in n||console.warn("<CommentsView> was created without expected prop 'taskId'"),void 0!==t[1]||"notifications"in n||console.warn("<CommentsView> was created without expected prop 'notifications'")}get currentSpace(){throw new Error("<CommentsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<CommentsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get taskId(){throw new Error("<CommentsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set taskId(e){throw new Error("<CommentsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<CommentsView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<CommentsView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(ue,"CommentsView");var pe=ue,de="src/components/EditTask.svelte";function fe(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:fe.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2021 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function me(e){let t,n,o=e[2]&&$e(e);const i={c:w((function(){o&&o.c(),t=(0,c.cSb)()}),"create"),m:w((function(e,i){o&&o.m(e,i),(0,c.DsI)(e,t,i),n=!0}),"mount"),p:w((function(e,n){e[2]?o?(o.p(e,n),4&n&&(0,c.Ui)(o,1)):(o=$e(e),o.c(),(0,c.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,c.dvw)(),(0,c.etI)(o,1,1,(()=>{o=null})),(0,c.gbL)())}),"update"),i:w((function(e){n||((0,c.Ui)(o),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(o),n=!1}),"outro"),d:w((function(e){o&&o.d(e),e&&(0,c.GlD)(t)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:i,id:me.name,type:"then",source:"(99:31)    {#if item}",ctx:e}),i}function $e(e){let t,n,o,i,s,r,l,u,p,d,f,m=e[2].name+"";r=new a.bM({props:{size:16},$$inline:!0}),u=new a.De({props:{autoscrollable:!0,vertical:!0,$$slots:{default:[Ce]},$$scope:{ctx:e}},$$inline:!0});const $={c:w((function(){t=(0,c.bGB)("div"),n=(0,c.bGB)("div"),o=(0,c.fLW)(m),i=(0,c.DhX)(),s=(0,c.bGB)("div"),(0,c.YCL)(r.$$.fragment),l=(0,c.DhX)(),(0,c.YCL)(u.$$.fragment),(0,c.LGW)(n,"class","title svelte-pbgpcx"),(0,c.vjr)(n,de,101,6,3839),(0,c.LGW)(s,"class","tool svelte-pbgpcx"),(0,c.vjr)(s,de,102,6,3882),(0,c.LGW)(t,"class","header svelte-pbgpcx"),(0,c.vjr)(t,de,100,4,3812)}),"create"),m:w((function(a,m){(0,c.DsI)(a,t,m),(0,c.gOb)(t,n),(0,c.gOb)(n,o),(0,c.gOb)(t,i),(0,c.gOb)(t,s),(0,c.yef)(r,s,null),(0,c.DsI)(a,l,m),(0,c.yef)(u,a,m),p=!0,d||(f=(0,c.iVk)(s,"click",e[6],!1,!1,!1),d=!0)}),"mount"),p:w((function(e,t){(!p||4&t)&&m!==(m=e[2].name+"")&&(0,c.Lob)(o,m);const n={};67108894&t&&(n.$$scope={dirty:t,ctx:e}),u.$set(n)}),"update"),i:w((function(e){p||((0,c.Ui)(r.$$.fragment,e),(0,c.Ui)(u.$$.fragment,e),p=!0)}),"intro"),o:w((function(e){(0,c.etI)(r.$$.fragment,e),(0,c.etI)(u.$$.fragment,e),p=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.vpE)(r),e&&(0,c.GlD)(l),(0,c.vpE)(u,e),d=!1,f()}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:$,id:$e.name,type:"if",source:"(100:2) {#if item}",ctx:e}),$}function ge(e){let t,n;t=new a.$0({props:{label:v.string.ToDos,icon:a.jB,$$slots:{default:[be]},$$scope:{ctx:e}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};67108868&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:ge.name,type:"else",source:"(158:6) {:else}",ctx:e}),o}function he(e){let t,n;t=new a.rj({props:{column:1},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:c.ZTd,i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:he.name,type:"if",source:"(156:55) ",ctx:e}),o}function we(e){let t,n,o,i;t=new a.$0({props:{label:v.string.GeneralInformation,icon:a.Xh,$$slots:{default:[ke]},$$scope:{ctx:e}},$$inline:!0}),o=new a.$0({props:{label:v.string.Comments,icon:a.eB,$$slots:{default:[_e]},$$scope:{ctx:e}},$$inline:!0});const s={c:w((function(){(0,c.YCL)(t.$$.fragment),n=(0,c.DhX)(),(0,c.YCL)(o.$$.fragment)}),"create"),m:w((function(e,s){(0,c.yef)(t,e,s),(0,c.DsI)(e,n,s),(0,c.yef)(o,e,s),i=!0}),"mount"),p:w((function(e,n){const i={};67108876&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const s={};67108870&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)}),"update"),i:w((function(e){i||((0,c.Ui)(t.$$.fragment,e),(0,c.Ui)(o.$$.fragment,e),i=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),(0,c.etI)(o.$$.fragment,e),i=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e),e&&(0,c.GlD)(n),(0,c.vpE)(o,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:s,id:we.name,type:"if",source:"(107:6) {#if selectedTab === task.string.General}",ctx:e}),s}function be(e){let t,n,o;function i(t){e[17](t)}w(i,"checkboxlist_items_binding");let s={editable:!0,label:v.string.AddCheckItem};void 0!==e[2].checkItems&&(s.items=e[2].checkItems),t=new a.$({props:s,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"items",i))),t.$on("change",e[18]);const r={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),o=!0}),"mount"),p:w((function(e,o){const i={};!n&&4&o&&(n=!0,i.items=e[2].checkItems,(0,c.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:w((function(e){o||((0,c.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),o=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:be.name,type:"slot",source:"(159:8) <Section label={task.string.ToDos} icon={IconToDo}>",ctx:e}),r}function ve(e){let t,n,o;function i(t){e[15](t)}w(i,"descriptioneditor_value_binding");let s={label:v.string.TaskDescription,placeholder:v.string.TaskDescription};void 0!==e[2].description&&(s.value=e[2].description),t=new x({props:s,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"value",i))),t.$on("blur",e[16]);const r={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),o=!0}),"mount"),p:w((function(e,o){const i={};!n&&4&o&&(n=!0,i.value=e[2].description,(0,c.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:w((function(e){o||((0,c.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),o=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:ve.name,type:"slot",source:"(141:12) <Row>",ctx:e}),r}function ye(e){let t,n,o,i,s,r,l,u,p,d,f;function m(t){e[10](t)}w(m,"editbox_value_binding");let $={label:v.string.TaskName};void 0!==e[2].name&&($.value=e[2].name),t=new a.k3({props:$,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"value",m))),t.$on("blur",e[11]),i=new q({props:{selected:e[2].status},$$inline:!0}),i.$on("change",e[12]),r=new a.kL({props:{selected:e[2].assignee,users:e[3],title:v.string.Assignee,caption:v.string.ProjectMembers,label:v.string.AssignTask,showSearch:!0},$$inline:!0}),r.$on("change",e[13]),u=new a.Mt({props:{selected:new Date(e[2].dueTo),title:v.string.PickDue},$$inline:!0}),u.$on("change",e[14]),d=new a.X2({props:{$$slots:{default:[ve]},$$scope:{ctx:e}},$$inline:!0});const g={c:w((function(){(0,c.YCL)(t.$$.fragment),o=(0,c.DhX)(),(0,c.YCL)(i.$$.fragment),s=(0,c.DhX)(),(0,c.YCL)(r.$$.fragment),l=(0,c.DhX)(),(0,c.YCL)(u.$$.fragment),p=(0,c.DhX)(),(0,c.YCL)(d.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),(0,c.DsI)(e,o,n),(0,c.yef)(i,e,n),(0,c.DsI)(e,s,n),(0,c.yef)(r,e,n),(0,c.DsI)(e,l,n),(0,c.yef)(u,e,n),(0,c.DsI)(e,p,n),(0,c.yef)(d,e,n),f=!0}),"mount"),p:w((function(e,o){const s={};!n&&4&o&&(n=!0,s.value=e[2].name,(0,c.hjT)((()=>n=!1))),t.$set(s);const a={};4&o&&(a.selected=e[2].status),i.$set(a);const l={};4&o&&(l.selected=e[2].assignee),8&o&&(l.users=e[3]),r.$set(l);const p={};4&o&&(p.selected=new Date(e[2].dueTo)),u.$set(p);const f={};67108868&o&&(f.$$scope={dirty:o,ctx:e}),d.$set(f)}),"update"),i:w((function(e){f||((0,c.Ui)(t.$$.fragment,e),(0,c.Ui)(i.$$.fragment,e),(0,c.Ui)(r.$$.fragment,e),(0,c.Ui)(u.$$.fragment,e),(0,c.Ui)(d.$$.fragment,e),f=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),(0,c.etI)(i.$$.fragment,e),(0,c.etI)(r.$$.fragment,e),(0,c.etI)(u.$$.fragment,e),(0,c.etI)(d.$$.fragment,e),f=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e),e&&(0,c.GlD)(o),(0,c.vpE)(i,e),e&&(0,c.GlD)(s),(0,c.vpE)(r,e),e&&(0,c.GlD)(l),(0,c.vpE)(u,e),e&&(0,c.GlD)(p),(0,c.vpE)(d,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:g,id:ye.name,type:"slot",source:"(109:10) <Grid column={2}>",ctx:e}),g}function ke(e){let t,n;t=new a.rj({props:{column:2,$$slots:{default:[ye]},$$scope:{ctx:e}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};67108876&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:ke.name,type:"slot",source:"(108:8) <Section label={task.string.GeneralInformation} icon={IconFile}>",ctx:e}),o}function _e(e){let t,n;t=new pe({props:{notifications:e[1],currentSpace:e[2].space,taskId:e[2]._id},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};2&n&&(o.notifications=e[1]),4&n&&(o.currentSpace=e[2].space),4&n&&(o.taskId=e[2]._id),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:_e.name,type:"slot",source:"(153:8) <Section label={task.string.Comments} icon={IconComments}>",ctx:e}),o}function Ce(e){let t,n,o,i,s,r,l;function u(t){e[9](t)}w(u,"tabs_1_selected_binding");let p={tabs:e[7]};void 0!==e[4]&&(p.selected=e[4]),t=new a.mQ({props:p,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"selected",u)));const d=[we,he,ge],f=[];function m(e,t){return e[4]===v.string.General?0:e[4]===v.string.Attachment?1:2}w(m,"select_block_type"),i=m(e),s=f[i]=d[i](e);const $={c:w((function(){(0,c.YCL)(t.$$.fragment),o=(0,c.DhX)(),s.c(),r=(0,c.cSb)()}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),(0,c.DsI)(e,o,n),f[i].m(e,n),(0,c.DsI)(e,r,n),l=!0}),"mount"),p:w((function(e,o){const a={};!n&&16&o&&(n=!0,a.selected=e[4],(0,c.hjT)((()=>n=!1))),t.$set(a);let l=i;i=m(e),i===l?f[i].p(e,o):((0,c.dvw)(),(0,c.etI)(f[l],1,1,(()=>{f[l]=null})),(0,c.gbL)(),s=f[i],s?s.p(e,o):(s=f[i]=d[i](e),s.c()),(0,c.Ui)(s,1),s.m(r.parentNode,r))}),"update"),i:w((function(e){l||((0,c.Ui)(t.$$.fragment,e),(0,c.Ui)(s),l=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),(0,c.etI)(s),l=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e),e&&(0,c.GlD)(o),f[i].d(e),e&&(0,c.GlD)(r)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:$,id:Ce.name,type:"slot",source:"(105:4) <ScrollBox autoscrollable={true} vertical>",ctx:e}),$}function Ie(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:Ie.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2021 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function xe(e){let t,n,o,i={ctx:e,current:null,token:null,hasCatch:!1,pending:Ie,then:me,catch:fe,value:25,blocks:[,,,]};(0,c.CR_)(n=e[5](e[0]),i);const s={c:w((function(){t=(0,c.cSb)(),i.block.c()}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,n){(0,c.DsI)(e,t,n),i.block.m(e,i.anchor=n),i.mount=()=>t.parentNode,i.anchor=t,o=!0}),"mount"),p:w((function(t,[o]){e=t,i.ctx=e,1&o&&n!==(n=e[5](e[0]))&&(0,c.CR_)(n,i)||(0,c.xfz)(i,e,o)}),"update"),i:w((function(e){o||((0,c.Ui)(i.block),o=!0)}),"intro"),o:w((function(e){for(let e=0;e<3;e+=1){const t=i.blocks[e];(0,c.etI)(t)}o=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),i.block.d(e),i.token=null,i=null}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:s,id:xe.name,type:"component",source:"",ctx:e}),s}function Se(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("EditTask",o,[]);var s=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};const u=(0,l.getClient)(),d=(0,a.mN)(),m=new f.NotificationClient(u);let $,g,h,{id:b}=t,{notifications:y}=t,k=[];function _(e){return s(this,void 0,void 0,(function*(){return h=u.query(h,v.class.Task,{_id:e},(e=>s(this,void 0,void 0,(function*(){var t;n(2,g=e[0]);const o=null===(t=(yield u.findAll(p().class.Space,{_id:g.space})).pop())||void 0===t?void 0:t.members;n(3,k=void 0!==o?yield u.findAll(p().class.Account,{_id:{$in:o}}):[])})))),g}))}function C(){d.navigate({itemId:void 0})}w(_,"getItem"),(0,r.onDestroy)((()=>s(void 0,void 0,void 0,(function*(){void 0!==y&&m.readNow(y,b)})))),(0,r.afterUpdate)((()=>s(void 0,void 0,void 0,(function*(){$!==b&&(void 0!==$&&void 0!==y&&m.readNow(y,$),$=b)})))),w(C,"close");const I=[v.string.General,v.string.Attachment,v.string.ToDos];let S=v.string.General;function j(e,t){return s(this,void 0,void 0,(function*(){if(void 0!==g){const n={[e]:t};u.updateDoc(g._class,g.space,g._id,n)}}))}w(j,"update");const T=["id","notifications"];function L(e){S=e,n(4,S)}function E(t){e.$$.not_equal(g.name,t)&&(g.name=t,n(2,g))}Object.keys(t).forEach((e=>{~T.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<EditTask> was created with unknown prop '${e}'`)})),w(L,"tabs_1_selected_binding"),w(E,"editbox_value_binding");const D=w((e=>{j("name",g.name)}),"blur_handler"),Y=w((e=>{j("status",e.detail)}),"change_handler"),P=w((e=>{j("assignee",e.detail)}),"change_handler_1"),R=w((e=>{j("dueTo",e.detail)}),"change_handler_2");function Z(t){e.$$.not_equal(g.description,t)&&(g.description=t,n(2,g))}w(Z,"descriptioneditor_value_binding");const O=w((e=>{j("description",null==g?void 0:g.description)}),"blur_handler_1");function G(t){e.$$.not_equal(g.checkItems,t)&&(g.checkItems=t,n(2,g))}w(G,"checkboxlist_items_binding");const U=w((e=>{j("checkItems",null==g?void 0:g.checkItems)}),"change_handler_3");return e.$$set=e=>{"id"in e&&n(0,b=e.id),"notifications"in e&&n(1,y=e.notifications)},e.$capture_state=()=>({__awaiter:s,EditBox:a.k3,UserBox:a.kL,ScrollBox:a.De,IconClose:a.bM,DatePicker:a.Mt,Tabs:a.mQ,Section:a.$0,IconFile:a.Xh,IconComments:a.eB,IconToDo:a.jB,Grid:a.rj,Row:a.X2,CheckBoxList:a.$,getRouter:a.mN,getClient:l.getClient,task:v,core:p(),DescriptionEditor:x,CommentsView:pe,StatusPicker:q,onDestroy:r.onDestroy,afterUpdate:r.afterUpdate,NotificationClient:f.NotificationClient,client:u,router:d,notificationClient:m,id:b,notifications:y,prevId:$,item:g,projectMembers:k,lq:h,getItem:_,close:C,tabs:I,selectedTab:S,update:j}),e.$inject_state=e=>{"__awaiter"in e&&(s=e.__awaiter),"id"in e&&n(0,b=e.id),"notifications"in e&&n(1,y=e.notifications),"prevId"in e&&($=e.prevId),"item"in e&&n(2,g=e.item),"projectMembers"in e&&n(3,k=e.projectMembers),"lq"in e&&(h=e.lq),"selectedTab"in e&&n(4,S=e.selectedTab)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&_(b)},[b,y,g,k,S,_,C,I,j,L,E,D,Y,P,R,Z,O,G,U]}w(fe,"create_catch_block"),w(me,"create_then_block"),w($e,"create_if_block"),w(ge,"create_else_block"),w(he,"create_if_block_2"),w(we,"create_if_block_1"),w(be,"create_default_slot_5"),w(ve,"create_default_slot_4"),w(ye,"create_default_slot_3"),w(ke,"create_default_slot_2"),w(_e,"create_default_slot_1"),w(Ce,"create_default_slot"),w(Ie,"create_pending_block"),w(xe,"create_fragment"),w(Se,"instance");var je=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,Se,xe,c.N8,{id:0,notifications:1}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"EditTask",options:e,id:xe.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"id"in n||console.warn("<EditTask> was created without expected prop 'id'"),void 0!==t[1]||"notifications"in n||console.warn("<EditTask> was created without expected prop 'notifications'")}get id(){throw new Error("<EditTask>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<EditTask>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get notifications(){throw new Error("<EditTask>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notifications(e){throw new Error("<EditTask>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(je,"EditTask");var Te=je,Le="src/components/icons/MoreH.svelte";function Ee(e){let t,n,o,i;const s={c:w((function(){t=(0,c.bi5)("svg"),n=(0,c.bi5)("path"),o=(0,c.bi5)("path"),i=(0,c.bi5)("path"),(0,c.LGW)(n,"d","M11.8,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S12.7,10.3,11.8,10.3z"),(0,c.vjr)(n,Le,5,2,191),(0,c.LGW)(o,"d","M18,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S18.9,10.3,18,10.3z"),(0,c.vjr)(o,Le,6,2,295),(0,c.LGW)(i,"d","M5.5,10.3c-1,0-1.8,0.8-1.8,1.7s0.8,1.7,1.8,1.7c1,0,1.8-0.8,1.8-1.7S6.5,10.3,5.5,10.3z"),(0,c.vjr)(i,Le,7,2,395),(0,c.LGW)(t,"width",e[0]),(0,c.LGW)(t,"height",e[0]),(0,c.LGW)(t,"fill",De),(0,c.LGW)(t,"viewBox","0 0 24 24"),(0,c.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,c.vjr)(t,Le,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){(0,c.DsI)(e,t,s),(0,c.gOb)(t,n),(0,c.gOb)(t,o),(0,c.gOb)(t,i)}),"mount"),p:w((function(e,[n]){1&n&&(0,c.LGW)(t,"width",e[0]),1&n&&(0,c.LGW)(t,"height",e[0])}),"update"),i:c.ZTd,o:c.ZTd,d:w((function(e){e&&(0,c.GlD)(t)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:s,id:Ee.name,type:"component",source:"",ctx:e}),s}w(Ee,"create_fragment");var De="var(--theme-caption-color)";function Ye(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("MoreH",o,[]);let{size:s=24}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<MoreH> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,s=e.size)},e.$capture_state=()=>({size:s,fill:De}),e.$inject_state=e=>{"size"in e&&n(0,s=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s]}w(Ye,"instance");var Pe=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,Ye,Ee,c.N8,{size:0}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"MoreH",options:e,id:Ee.name})}get size(){throw new Error("<MoreH>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<MoreH>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Pe,"MoreH");var Re=Pe,Ze="src/components/icons/Chat.svelte";function Oe(e){let t,n,o,i,s,r;const a={c:w((function(){t=(0,c.bi5)("svg"),n=(0,c.bi5)("g"),o=(0,c.bi5)("path"),i=(0,c.bi5)("path"),s=(0,c.bi5)("path"),r=(0,c.bi5)("path"),(0,c.LGW)(o,"d","M16.3,3.7C14.6,2,12.4,1,10,1C7.6,1,5.4,2,3.7,3.7C1,6.3,0.3,10.4,1.9,13.7c0.2,0.4,0.3,0.7,0.3,0.9 c0,0.3-0.1,0.7-0.2,1C1.6,16.4,1.3,17.3,2,18c0.7,0.7,1.6,0.4,2.3,0.1c0.4-0.1,0.7-0.2,1-0.3c0.2,0,0.6,0.1,0.9,0.3 C7.4,18.7,8.7,19,10,19c2.3,0,4.6-0.9,6.4-2.6C19.8,12.8,19.8,7.2,16.3,3.7z M15.5,15.5c-2.3,2.3-5.8,2.9-8.7,1.5 c-0.5-0.2-0.9-0.4-1.4-0.4c-0.5,0-1,0.2-1.4,0.3c-0.4,0.1-0.9,0.3-1,0.2c-0.1-0.1,0.1-0.7,0.2-1c0.1-0.4,0.3-0.9,0.3-1.4 c0-0.5-0.2-1-0.4-1.4c-1.4-2.9-0.7-6.4,1.5-8.7C6,3.1,7.9,2.3,10,2.3c2.1,0,4,0.8,5.4,2.3C18.5,7.6,18.5,12.4,15.5,15.5z"),(0,c.vjr)(o,Ze,6,4,199),(0,c.LGW)(i,"d","M13.3,9.5L13.3,9.5c-0.5,0-0.8,0.4-0.8,0.8c0,0.5,0.4,0.8,0.8,0.8c0.5,0,0.8-0.4,0.8-0.8 C14.1,9.9,13.8,9.5,13.3,9.5z"),(0,c.vjr)(i,Ze,9,4,779),(0,c.LGW)(s,"d","M10,9.5L10,9.5c-0.5,0-0.8,0.4-0.8,0.8c0,0.5,0.4,0.8,0.8,0.8s0.8-0.4,0.8-0.8C10.8,9.9,10.4,9.5,10,9.5z"),(0,c.vjr)(s,Ze,12,4,921),(0,c.LGW)(r,"d","M6.6,9.5L6.6,9.5c-0.5,0-0.8,0.4-0.8,0.8c0,0.5,0.4,0.8,0.8,0.8s0.8-0.4,0.8-0.8C7.4,9.9,7.1,9.5,6.6,9.5z"),(0,c.vjr)(r,Ze,13,4,1040),(0,c.vjr)(n,Ze,5,2,191),(0,c.LGW)(t,"width",e[0]),(0,c.LGW)(t,"height",e[0]),(0,c.LGW)(t,"fill",Ge),(0,c.LGW)(t,"viewBox","0 0 20 20"),(0,c.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,c.vjr)(t,Ze,4,0,94)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,a){(0,c.DsI)(e,t,a),(0,c.gOb)(t,n),(0,c.gOb)(n,o),(0,c.gOb)(n,i),(0,c.gOb)(n,s),(0,c.gOb)(n,r)}),"mount"),p:w((function(e,[n]){1&n&&(0,c.LGW)(t,"width",e[0]),1&n&&(0,c.LGW)(t,"height",e[0])}),"update"),i:c.ZTd,o:c.ZTd,d:w((function(e){e&&(0,c.GlD)(t)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:a,id:Oe.name,type:"component",source:"",ctx:e}),a}w(Oe,"create_fragment");var Ge="var(--theme-caption-color)";function Ue(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("Chat",o,[]);let{size:s=20}=t;const r=["size"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Chat> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,s=e.size)},e.$capture_state=()=>({size:s,fill:Ge}),e.$inject_state=e=>{"size"in e&&n(0,s=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s]}w(Ue,"instance");var Be=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,Ue,Oe,c.N8,{size:0}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Chat",options:e,id:Oe.name})}get size(){throw new Error("<Chat>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<Chat>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Be,"Chat");var Ae=Be,Ve="src/components/KanbanCard.svelte";function Ne(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:Ne.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2021 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function qe(e){let t,n;t=new a.ao({props:{user:e[4],size:24,avatarOnly:!0},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};1&n&&(o.user=e[4]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:qe.name,type:"then",source:"(46:44)        <UserInfo {user}",ctx:e}),o}function Me(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:Me.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2021 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function We(e){let t,n,o,i,r,l,u,p,d,f,m,$,g,h,b,v=e[0].name+"",y=e[0].comments.length+"",k={ctx:e,current:null,token:null,hasCatch:!1,pending:Me,then:qe,catch:Ne,value:4,blocks:[,,,]};(0,c.CR_)(l=e[1](e[0].assignee),k),d=new a.A({props:{size:24,icon:Ae,label:s.default.string.Comments},$$inline:!0}),h=new a.A({props:{size:24,icon:Re,label:a.ZP.string.More},$$inline:!0});const _={c:w((function(){t=(0,c.bGB)("div"),n=(0,c.bGB)("div"),o=(0,c.fLW)(v),i=(0,c.DhX)(),r=(0,c.bGB)("div"),k.block.c(),u=(0,c.DhX)(),p=(0,c.bGB)("div"),(0,c.YCL)(d.$$.fragment),f=(0,c.DhX)(),m=(0,c.bGB)("div"),$=(0,c.fLW)(y),g=(0,c.DhX)(),(0,c.YCL)(h.$$.fragment),(0,c.LGW)(n,"class","header svelte-1m6tbvp"),(0,c.vjr)(n,Ve,43,2,1907),(0,c.LGW)(m,"class","counter svelte-1m6tbvp"),(0,c.vjr)(m,Ve,50,6,2176),(0,c.LGW)(p,"class","actions svelte-1m6tbvp"),(0,c.vjr)(p,Ve,48,4,2076),(0,c.LGW)(r,"class","footer svelte-1m6tbvp"),(0,c.vjr)(r,Ve,44,2,1946),(0,c.LGW)(t,"class","card-container svelte-1m6tbvp"),(0,c.vjr)(t,Ve,42,0,1876)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){(0,c.DsI)(e,t,s),(0,c.gOb)(t,n),(0,c.gOb)(n,o),(0,c.gOb)(t,i),(0,c.gOb)(t,r),k.block.m(r,k.anchor=null),k.mount=()=>r,k.anchor=u,(0,c.gOb)(r,u),(0,c.gOb)(r,p),(0,c.yef)(d,p,null),(0,c.gOb)(p,f),(0,c.gOb)(p,m),(0,c.gOb)(m,$),(0,c.gOb)(p,g),(0,c.yef)(h,p,null),b=!0}),"mount"),p:w((function(t,[n]){e=t,(!b||1&n)&&v!==(v=e[0].name+"")&&(0,c.Lob)(o,v),k.ctx=e,1&n&&l!==(l=e[1](e[0].assignee))&&(0,c.CR_)(l,k)||(0,c.xfz)(k,e,n),(!b||1&n)&&y!==(y=e[0].comments.length+"")&&(0,c.Lob)($,y)}),"update"),i:w((function(e){b||((0,c.Ui)(k.block),(0,c.Ui)(d.$$.fragment,e),(0,c.Ui)(h.$$.fragment,e),b=!0)}),"intro"),o:w((function(e){for(let e=0;e<3;e+=1){const t=k.blocks[e];(0,c.etI)(t)}(0,c.etI)(d.$$.fragment,e),(0,c.etI)(h.$$.fragment,e),b=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),k.block.d(),k.token=null,k=null,(0,c.vpE)(d),(0,c.vpE)(h)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:_,id:We.name,type:"component",source:"",ctx:e}),_}function ze(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("KanbanCard",o,[]);var r=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{doc:u}=t;const d=(0,l.getClient)();function f(e){return r(this,void 0,void 0,(function*(){if(void 0!==e)return(yield d.findAll(p().class.Account,{_id:e})).pop()}))}w(f,"getUser");const m=["doc"];return Object.keys(t).forEach((e=>{~m.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<KanbanCard> was created with unknown prop '${e}'`)})),e.$$set=e=>{"doc"in e&&n(0,u=e.doc)},e.$capture_state=()=>({__awaiter:r,ui:a.ZP,ActionIcon:a.A,UserInfo:a.ao,task:s.default,MoreH:Re,Chat:Ae,core:p(),getClient:l.getClient,doc:u,client:d,getUser:f}),e.$inject_state=e=>{"__awaiter"in e&&(r=e.__awaiter),"doc"in e&&n(0,u=e.doc)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u,f]}w(Ne,"create_catch_block"),w(qe,"create_then_block"),w(Me,"create_pending_block"),w(We,"create_fragment"),w(ze,"instance");var Xe=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,ze,We,c.N8,{doc:0}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"KanbanCard",options:e,id:We.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"doc"in n||console.warn("<KanbanCard> was created without expected prop 'doc'")}get doc(){throw new Error("<KanbanCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set doc(e){throw new Error("<KanbanCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Xe,"KanbanCard");var Ke=Xe,{Object:Fe}=c.lig;function He(e){let t,n;t=new a.pt({props:{items:e[0],states:e[1],cardComponent:Ke},$$inline:!0}),t.$on("drop",e[2]);const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,[n]){const o={};1&n&&(o.items=e[0]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:He.name,type:"component",source:"",ctx:e}),o}function Qe(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("KanbanView",o,[]);var r=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};let u,{query:p}=t;const d=new Map(Object.entries(s.TaskStatuses).map((([e,t])=>[t,e]))),f=(0,l.getClient)();let m;const g=Object.entries(s.TaskStatuses).map((([e,t])=>({_id:e,name:t,color:b(t)})));function h(e){return r(this,void 0,void 0,(function*(){const{item:t,state:n}=e.detail,o=n,i=v.find((e=>e._id===t));yield f.updateDoc(i._class,i.space,t,{status:s.TaskStatuses[o]})}))}w(h,"onDrop");let v=[];const y=["query"];return Fe.keys(t).forEach((e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<KanbanView> was created with unknown prop '${e}'`)})),e.$$set=e=>{"query"in e&&n(3,p=e.query)},e.$capture_state=()=>({__awaiter:r,TaskStatuses:s.TaskStatuses,getClient:l.getClient,deepEqual:$.deepEqual,Kanban:a.pt,KanbanCard:Ke,getStatusColor:b,task:s.default,query:p,prevQuery:u,statusByName:d,client:f,lq:m,states:g,onDrop:h,items:v}),e.$inject_state=e=>{"__awaiter"in e&&(r=e.__awaiter),"query"in e&&n(3,p=e.query),"prevQuery"in e&&n(4,u=e.prevQuery),"lq"in e&&n(5,m=e.lq),"items"in e&&n(0,v=e.items)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{56&e.$$.dirty&&((0,$.deepEqual)(u,p)||(n(4,u=p),n(5,m=f.query(m,s.default.class.Task,p,(e=>{n(0,v=e.map((e=>{var t;return Object.assign(Object.assign({},e),{state:null!==(t=d.get(e.status))&&void 0!==t?t:""})})))})))))},[v,g,h,p,u,m]}w(He,"create_fragment"),w(Qe,"instance");var Je=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,Qe,He,c.N8,{query:3}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"KanbanView",options:e,id:He.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[3]||"query"in n||console.warn("<KanbanView> was created without expected prop 'query'")}get query(){throw new Error("<KanbanView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<KanbanView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Je,"KanbanView");var et=Je;function tt(e){let t,n,o;n=new a.__({props:{label:e[0]},$$inline:!0});const i={c:w((function(){t=(0,c.bGB)("div"),(0,c.YCL)(n.$$.fragment),(0,c.LGW)(t,"class","taskstatus-container svelte-k75kif"),(0,c.czc)(t,"background-color",e[1]),(0,c.vjr)(t,"src/components/TaskStatus.svelte",21,0,781)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,i){(0,c.DsI)(e,t,i),(0,c.yef)(n,t,null),o=!0}),"mount"),p:w((function(e,[i]){const s={};1&i&&(s.label=e[0]),n.$set(s),(!o||2&i)&&(0,c.czc)(t,"background-color",e[1])}),"update"),i:w((function(e){o||((0,c.Ui)(n.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(n.$$.fragment,e),o=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.vpE)(n)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:i,id:tt.name,type:"component",source:"",ctx:e}),i}function nt(e,t,n){let o,{$$slots:i={},$$scope:s}=t;(0,c.KXV)("TaskStatus",i,[]);let{title:r}=t;const l=["title"];return Object.keys(t).forEach((e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TaskStatus> was created with unknown prop '${e}'`)})),e.$$set=e=>{"title"in e&&n(0,r=e.title)},e.$capture_state=()=>({Label:a.__,getStatusColor:b,title:r,color:o}),e.$inject_state=e=>{"title"in e&&n(0,r=e.title),"color"in e&&n(1,o=e.color)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(1,o=b(r))},[r,o]}w(tt,"create_fragment"),w(nt,"instance");var ot=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,nt,tt,c.N8,{title:0}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TaskStatus",options:e,id:tt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"title"in n||console.warn("<TaskStatus> was created without expected prop 'title'")}get title(){throw new Error("<TaskStatus>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<TaskStatus>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(ot,"TaskStatus");var it=ot,{Object:st}=c.lig;function ct(e){let t,n;t=new a.iA({props:{data:e[0],columns:e[1],showHeader:!0},$$inline:!0}),t.$on("rowClick",e[2]);const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,[n]){const o={};1&n&&(o.data=e[0]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:ct.name,type:"component",source:"",ctx:e}),o}function rt(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("TableView",o,[]);var r=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};let d,{query:f}=t;const m=[{label:s.default.string.TaskName,properties:[{key:"name",property:"label"}],component:a.__},{label:s.default.string.Status,properties:[{key:"status",property:"title"}],component:it},{label:s.default.string.Assignee,properties:[{key:"asigneeUser",property:"user"}],component:a.ao},{label:s.default.string.Due,properties:[{key:"dueTo",property:"value"},{value:"true",property:"dateOnly"}],component:a.ou}],g=(0,l.getClient)(),h=(0,a.mN)();let b,v=[];function y(e){h.navigate({itemId:e.detail.id})}function k(e){return r(this,void 0,void 0,(function*(){if(void 0!==e)return(yield g.findAll(p().class.Account,{_id:e})).pop()}))}w(y,"onClick"),w(k,"getUser");const _=["query"];return st.keys(t).forEach((e=>{~_.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TableView> was created with unknown prop '${e}'`)})),e.$$set=e=>{"query"in e&&n(3,f=e.query)},e.$capture_state=()=>({__awaiter:r,Table:a.iA,Label:a.__,UserInfo:a.ao,DateTime:a.ou,getRouter:a.mN,core:p(),DocumentQuery:u.DocumentQuery,getClient:l.getClient,deepEqual:$.deepEqual,TaskStatus:it,task:s.default,query:f,prevQuery:d,columns:m,client:g,router:h,data:v,lq:b,onClick:y,getUser:k}),e.$inject_state=e=>{"__awaiter"in e&&n(6,r=e.__awaiter),"query"in e&&n(3,f=e.query),"prevQuery"in e&&n(4,d=e.prevQuery),"data"in e&&n(0,v=e.data),"lq"in e&&n(5,b=e.lq)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{57&e.$$.dirty&&((0,$.deepEqual)(d,f)||(n(4,d=f),n(5,b=g.query(b,s.default.class.Task,f,(e=>r(void 0,void 0,void 0,(function*(){n(0,v=[]);for(const t of e)v.push(Object.assign(t,{asigneeUser:yield k(t.assignee)}));n(0,v),n(4,d),n(3,f),n(5,b),n(6,r)})))))))},[v,m,y,f,d,b]}w(ct,"create_fragment"),w(rt,"instance");var at=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,rt,ct,c.N8,{query:3}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TableView",options:e,id:ct.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[3]||"query"in n||console.warn("<TableView> was created without expected prop 'query'")}get query(){throw new Error("<TableView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<TableView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(at,"TableView");var lt=at,ut="src/components/Card.svelte";function pt(e){let t,n,o,i,s;const r=[e[1]];let l={};for(let e=0;e<r.length;e+=1)l=(0,c.f0i)(l,r[e]);i=new a.Ex({props:l,$$inline:!0});const u={c:w((function(){t=(0,c.bGB)("div"),n=(0,c.bGB)("span"),n.textContent="Progress",o=(0,c.DhX)(),(0,c.YCL)(i.$$.fragment),(0,c.LGW)(n,"class","svelte-65310n"),(0,c.vjr)(n,ut,54,8,2332),(0,c.LGW)(t,"class","progress svelte-65310n"),(0,c.vjr)(t,ut,53,6,2301)}),"create"),m:w((function(e,r){(0,c.DsI)(e,t,r),(0,c.gOb)(t,n),(0,c.gOb)(t,o),(0,c.yef)(i,t,null),s=!0}),"mount"),p:w((function(e,t){const n=2&t?(0,c.LoY)(r,[(0,c.gCg)(e[1])]):{};i.$set(n)}),"update"),i:w((function(e){s||((0,c.Ui)(i.$$.fragment,e),s=!0)}),"intro"),o:w((function(e){(0,c.etI)(i.$$.fragment,e),s=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.vpE)(i)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:u,id:pt.name,type:"if",source:"(53:4) {#if progress.max > 0}",ctx:e}),u}function dt(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:dt.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function ft(e){let t,n;t=new a.ao({props:{user:e[6],size:24,avatarOnly:!0},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};1&n&&(o.user=e[6]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:ft.name,type:"then",source:"(61:45)        <UserInfo {user}",ctx:e}),o}function mt(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:mt.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function $t(e){let t,n,o,i,r,l,u,p,d,f,m,$,g,h,b,v,y,k,_,C,I=e[0].name+"",x=e[0].description+"",S=e[0].comments.length+"",j=e[1].max>0&&pt(e),T={ctx:e,current:null,token:null,hasCatch:!1,pending:mt,then:ft,catch:dt,value:6,blocks:[,,,]};(0,c.CR_)(m=e[2](e[0].assignee),T),h=new a.A({props:{size:24,icon:Ae,label:s.default.string.Comments},$$inline:!0}),_=new a.A({props:{size:24,icon:Re,label:a.ZP.string.More},$$inline:!0});const L={c:w((function(){t=(0,c.bGB)("div"),n=(0,c.bGB)("div"),o=(0,c.bGB)("div"),i=(0,c.fLW)(I),r=(0,c.DhX)(),l=(0,c.bGB)("div"),u=(0,c.fLW)(x),p=(0,c.DhX)(),j&&j.c(),d=(0,c.DhX)(),f=(0,c.bGB)("div"),T.block.c(),$=(0,c.DhX)(),g=(0,c.bGB)("div"),(0,c.YCL)(h.$$.fragment),b=(0,c.DhX)(),v=(0,c.bGB)("div"),y=(0,c.fLW)(S),k=(0,c.DhX)(),(0,c.YCL)(_.$$.fragment),(0,c.LGW)(o,"class","title svelte-65310n"),(0,c.vjr)(o,ut,50,4,2177),(0,c.LGW)(l,"class","description svelte-65310n"),(0,c.vjr)(l,ut,51,4,2218),(0,c.LGW)(n,"class","content svelte-65310n"),(0,c.vjr)(n,ut,49,2,2151),(0,c.LGW)(v,"class","counter svelte-65310n"),(0,c.vjr)(v,ut,65,6,2653),(0,c.LGW)(g,"class","action svelte-65310n"),(0,c.vjr)(g,ut,63,4,2554),(0,c.LGW)(f,"class","footer svelte-65310n"),(0,c.vjr)(f,ut,59,2,2423),(0,c.LGW)(t,"class","card-container svelte-65310n"),(0,c.vjr)(t,ut,48,0,2120)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,s){(0,c.DsI)(e,t,s),(0,c.gOb)(t,n),(0,c.gOb)(n,o),(0,c.gOb)(o,i),(0,c.gOb)(n,r),(0,c.gOb)(n,l),(0,c.gOb)(l,u),(0,c.gOb)(n,p),j&&j.m(n,null),(0,c.gOb)(t,d),(0,c.gOb)(t,f),T.block.m(f,T.anchor=null),T.mount=()=>f,T.anchor=$,(0,c.gOb)(f,$),(0,c.gOb)(f,g),(0,c.yef)(h,g,null),(0,c.gOb)(g,b),(0,c.gOb)(g,v),(0,c.gOb)(v,y),(0,c.gOb)(g,k),(0,c.yef)(_,g,null),C=!0}),"mount"),p:w((function(t,[o]){e=t,(!C||1&o)&&I!==(I=e[0].name+"")&&(0,c.Lob)(i,I),(!C||1&o)&&x!==(x=e[0].description+"")&&(0,c.Lob)(u,x),e[1].max>0?j?(j.p(e,o),2&o&&(0,c.Ui)(j,1)):(j=pt(e),j.c(),(0,c.Ui)(j,1),j.m(n,null)):j&&((0,c.dvw)(),(0,c.etI)(j,1,1,(()=>{j=null})),(0,c.gbL)()),T.ctx=e,1&o&&m!==(m=e[2](e[0].assignee))&&(0,c.CR_)(m,T)||(0,c.xfz)(T,e,o),(!C||1&o)&&S!==(S=e[0].comments.length+"")&&(0,c.Lob)(y,S)}),"update"),i:w((function(e){C||((0,c.Ui)(j),(0,c.Ui)(T.block),(0,c.Ui)(h.$$.fragment,e),(0,c.Ui)(_.$$.fragment,e),C=!0)}),"intro"),o:w((function(e){(0,c.etI)(j);for(let e=0;e<3;e+=1){const t=T.blocks[e];(0,c.etI)(t)}(0,c.etI)(h.$$.fragment,e),(0,c.etI)(_.$$.fragment,e),C=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),j&&j.d(),T.block.d(),T.token=null,T=null,(0,c.vpE)(h),(0,c.vpE)(_)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:L,id:$t.name,type:"component",source:"",ctx:e}),L}function gt(e,t,n){let o,{$$slots:i={},$$scope:r}=t;(0,c.KXV)("Card",i,[]);var d=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{card:f}=t;const m=(0,l.getClient)();function $(e){return d(this,void 0,void 0,(function*(){if(void 0!==e)return(yield m.findAll(p().class.Account,{_id:e})).pop()}))}w($,"getUser");const g=["card"];return Object.keys(t).forEach((e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Card> was created with unknown prop '${e}'`)})),e.$$set=e=>{"card"in e&&n(0,f=e.card)},e.$capture_state=()=>({__awaiter:d,ui:a.ZP,ActionIcon:a.A,Progress:a.Ex,UserInfo:a.ao,MoreH:Re,Chat:Ae,task:s.default,getStatusColor:b,core:p(),Account:u.Account,Ref:u.Ref,getClient:l.getClient,card:f,attach:3,client:m,getUser:$,progress:o}),e.$inject_state=e=>{"__awaiter"in e&&(d=e.__awaiter),"card"in e&&n(0,f=e.card),"progress"in e&&n(1,o=e.progress)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(1,o={max:f.checkItems.length,value:f.checkItems.filter((e=>e.done)).length,color:b(f.status)})},[f,o,$,3]}w(pt,"create_if_block"),w(dt,"create_catch_block"),w(ft,"create_then_block"),w(mt,"create_pending_block"),w($t,"create_fragment"),w(gt,"instance");var ht=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,gt,$t,c.N8,{card:0,attach:3}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Card",options:e,id:$t.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"card"in n||console.warn("<Card> was created without expected prop 'card'")}get card(){throw new Error("<Card>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set card(e){throw new Error("<Card>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get attach(){return this.$$.ctx[3]}set attach(e){throw new Error("<Card>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(ht,"Card");var wt=ht;function bt(e,t,n){const o=e.slice();return o[4]=t[n],o}function vt(e){let t,n;t=new wt({props:{card:e[4]},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};1&n&&(o.card=e[4]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:vt.name,type:"each",source:"(33:2) {#each cards as card}",ctx:e}),o}function yt(e){let t,n,o=e[0];(0,c.vzG)(o);let i=[];for(let t=0;t<o.length;t+=1)i[t]=vt(bt(e,o,t));const s=w((e=>(0,c.etI)(i[e],1,1,(()=>{i[e]=null}))),"out"),r={c:w((function(){t=(0,c.bGB)("div");for(let e=0;e<i.length;e+=1)i[e].c();(0,c.LGW)(t,"class","cards-container svelte-mf4gun"),(0,c.vjr)(t,"src/components/CardView.svelte",31,0,966)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.DsI)(e,t,o);for(let e=0;e<i.length;e+=1)i[e].m(t,null);n=!0}),"mount"),p:w((function(e,[n]){if(1&n){let r;for(o=e[0],(0,c.vzG)(o),r=0;r<o.length;r+=1){const s=bt(e,o,r);i[r]?(i[r].p(s,n),(0,c.Ui)(i[r],1)):(i[r]=vt(s),i[r].c(),(0,c.Ui)(i[r],1),i[r].m(t,null))}for((0,c.dvw)(),r=o.length;r<i.length;r+=1)s(r);(0,c.gbL)()}}),"update"),i:w((function(e){if(!n){for(let e=0;e<o.length;e+=1)(0,c.Ui)(i[e]);n=!0}}),"intro"),o:w((function(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)(0,c.etI)(i[e]);n=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.RMB)(i,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:yt.name,type:"component",source:"",ctx:e}),r}function kt(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("CardView",o,[]);let{query:r}=t;const a=(0,l.getClient)();let u,p=[];const d=["query"];return Object.keys(t).forEach((e=>{~d.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CardView> was created with unknown prop '${e}'`)})),e.$$set=e=>{"query"in e&&n(1,r=e.query)},e.$capture_state=()=>({task:s.default,getClient:l.getClient,Card:wt,query:r,client:a,cards:p,lq:u}),e.$inject_state=e=>{"query"in e&&n(1,r=e.query),"cards"in e&&n(0,p=e.cards),"lq"in e&&n(2,u=e.lq)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{6&e.$$.dirty&&void 0!==r&&n(2,u=a.query(u,s.default.class.Task,r,(e=>{n(0,p=e)})))},[p,r,u]}w(bt,"get_each_context"),w(vt,"create_each_block"),w(yt,"create_fragment"),w(kt,"instance");var _t=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,kt,yt,c.N8,{query:1}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CardView",options:e,id:yt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"query"in n||console.warn("<CardView> was created without expected prop 'query'")}get query(){throw new Error("<CardView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<CardView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(_t,"CardView");var Ct=_t,It="src/components/TaskView.svelte";function xt(e){let t,n;t=new lt({props:{query:e[0]},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};1&n&&(o.query=e[0]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:xt.name,type:"if",source:"(42:30) ",ctx:e}),o}function St(e){let t,n,o;n=new a.De({props:{vertical:!0,$$slots:{default:[Tt]},$$scope:{ctx:e}},$$inline:!0});const i={c:w((function(){t=(0,c.bGB)("div"),(0,c.YCL)(n.$$.fragment),(0,c.LGW)(t,"class","content svelte-xe7vp3"),(0,c.vjr)(t,It,36,2,1274)}),"create"),m:w((function(e,i){(0,c.DsI)(e,t,i),(0,c.yef)(n,t,null),o=!0}),"mount"),p:w((function(e,t){const o={};17&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)}),"update"),i:w((function(e){o||((0,c.Ui)(n.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(n.$$.fragment,e),o=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.vpE)(n)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:i,id:St.name,type:"if",source:"(36:30) ",ctx:e}),i}function jt(e){let t,n;t=new et({props:{query:e[0]},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};1&n&&(o.query=e[0]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:jt.name,type:"if",source:"(34:0) {#if selected === 'kanban'}",ctx:e}),o}function Tt(e){let t,n;t=new Ct({props:{query:e[0]},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};1&n&&(o.query=e[0]),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:Tt.name,type:"slot",source:"(38:4) <ScrollBox vertical>",ctx:e}),o}function Lt(e){let t,n,o,i,s,r,l,u;function p(t){e[3](t)}w(p,"icongroup_selected_binding");let d={items:e[2]};void 0!==e[1]&&(d.selected=e[1]),n=new a.Rs({props:d,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(n,"selected",p)));const f=[jt,St,xt],m=[];function $(e,t){return"kanban"===e[1]?0:"card"===e[1]?1:"list"===e[1]?2:-1}w($,"select_block_type"),~(s=$(e))&&(r=m[s]=f[s](e));const g={c:w((function(){t=(0,c.bGB)("div"),(0,c.YCL)(n.$$.fragment),i=(0,c.DhX)(),r&&r.c(),l=(0,c.cSb)(),(0,c.LGW)(t,"class","toolbar svelte-xe7vp3"),(0,c.vjr)(t,It,30,0,1121)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.DsI)(e,t,o),(0,c.yef)(n,t,null),(0,c.DsI)(e,i,o),~s&&m[s].m(e,o),(0,c.DsI)(e,l,o),u=!0}),"mount"),p:w((function(e,[t]){const i={};!o&&2&t&&(o=!0,i.selected=e[1],(0,c.hjT)((()=>o=!1))),n.$set(i);let a=s;s=$(e),s===a?~s&&m[s].p(e,t):(r&&((0,c.dvw)(),(0,c.etI)(m[a],1,1,(()=>{m[a]=null})),(0,c.gbL)()),~s?(r=m[s],r?r.p(e,t):(r=m[s]=f[s](e),r.c()),(0,c.Ui)(r,1),r.m(l.parentNode,l)):r=null)}),"update"),i:w((function(e){u||((0,c.Ui)(n.$$.fragment,e),(0,c.Ui)(r),u=!0)}),"intro"),o:w((function(e){(0,c.etI)(n.$$.fragment,e),(0,c.etI)(r),u=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.vpE)(n),e&&(0,c.GlD)(i),~s&&m[s].d(e),e&&(0,c.GlD)(l)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:g,id:Lt.name,type:"component",source:"",ctx:e}),g}function Et(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("TaskView",o,[]);const s=[{icon:a.Zd,tooltip:a.ZP.string.List,id:"list"},{icon:a.YP,tooltip:a.ZP.string.Cards,id:"card"},{icon:a.CI,tooltip:a.ZP.string.Kanban,id:"kanban"}];let r="list",{query:l}=t;const u=["query"];function p(e){r=e,n(1,r)}return Object.keys(t).forEach((e=>{~u.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TaskView> was created with unknown prop '${e}'`)})),w(p,"icongroup_selected_binding"),e.$$set=e=>{"query"in e&&n(0,l=e.query)},e.$capture_state=()=>({ui:a.ZP,ScrollBox:a.De,IconGroup:a.Rs,IconList:a.Zd,IconCard:a.YP,IconKanban:a.CI,KanbanView:et,TableView:lt,CardView:Ct,items:s,selected:r,query:l}),e.$inject_state=e=>{"selected"in e&&n(1,r=e.selected),"query"in e&&n(0,l=e.query)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[l,r,s,p]}w(xt,"create_if_block_2"),w(St,"create_if_block_1"),w(jt,"create_if_block"),w(Tt,"create_default_slot"),w(Lt,"create_fragment"),w(Et,"instance");var Dt=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,Et,Lt,c.N8,{query:0}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TaskView",options:e,id:Lt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"query"in n||console.warn("<TaskView> was created without expected prop 'query'")}get query(){throw new Error("<TaskView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set query(e){throw new Error("<TaskView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Dt,"TaskView");var Yt=Dt;function Pt(e){let t,n;t=new Yt({props:{query:{space:e[0]}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,[n]){const o={};1&n&&(o.query={space:e[0]}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:Pt.name,type:"component",source:"",ctx:e}),o}function Rt(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("ProjectView",o,[]);let{currentSpace:s}=t;const r=["currentSpace"];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<ProjectView> was created with unknown prop '${e}'`)})),e.$$set=e=>{"currentSpace"in e&&n(0,s=e.currentSpace)},e.$capture_state=()=>({TaskView:Yt,currentSpace:s}),e.$inject_state=e=>{"currentSpace"in e&&n(0,s=e.currentSpace)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s]}w(Pt,"create_fragment"),w(Rt,"instance");var Zt=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,Rt,Pt,c.N8,{currentSpace:0}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"ProjectView",options:e,id:Pt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"currentSpace"in n||console.warn("<ProjectView> was created without expected prop 'currentSpace'")}get currentSpace(){throw new Error("<ProjectView>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<ProjectView>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(Zt,"ProjectView");var Ot=Zt;function Gt(e){let t,n;t=new Yt({props:{query:{assignee:e[0]}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:c.ZTd,i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:Gt.name,type:"component",source:"",ctx:e}),o}function Ut(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("MyTasksView",o,[]);const s=(0,l.getClient)().accountId(),r=[];return Object.keys(t).forEach((e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<MyTasksView> was created with unknown prop '${e}'`)})),e.$capture_state=()=>({getClient:l.getClient,TaskView:Yt,accountId:s}),[s]}w(Gt,"create_fragment"),w(Ut,"instance");var Bt=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,Ut,Gt,c.N8,{}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"MyTasksView",options:e,id:Gt.name})}};w(Bt,"MyTasksView");var At=Bt;function Vt(e){let t,n;t=new Yt({props:{query:{space:{$in:e[0]}}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,[n]){const o={};1&n&&(o.query={space:{$in:e[0]}}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:Vt.name,type:"component",source:"",ctx:e}),o}function Nt(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("FavoriteView",o,[]);const r=(0,l.getClient)();let a,u=[];a=r.query(a,s.default.class.Project,{"account.starred":!0},(e=>{n(0,u=e.map((e=>e._id)))}));const p=[];return Object.keys(t).forEach((e=>{~p.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<FavoriteView> was created with unknown prop '${e}'`)})),e.$capture_state=()=>({TaskView:Yt,getClient:l.getClient,task:s.default,client:r,query:a,ids:u}),e.$inject_state=e=>{"query"in e&&(a=e.query),"ids"in e&&n(0,u=e.ids)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[u]}w(Vt,"create_fragment"),w(Nt,"instance");var qt=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,Nt,Vt,c.N8,{}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"FavoriteView",options:e,id:Vt.name})}};w(qt,"FavoriteView");var Mt=qt;function Wt(e,t,n){const o=e.slice();return o[19]=t[n],o[20]=t,o[21]=n,o}function zt(e){let t,n,o,i,s,r,l,u,p;function d(t){e[9](t)}w(d,"editbox_value_binding");let f={label:v.string.ProjectName};function m(t){e[10](t)}void 0!==e[2]&&(f.value=e[2]),t=new a.k3({props:f,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"value",d))),w(m,"textarea_value_binding");let $={label:v.string.ProjectDescription};function g(t){e[11](t)}void 0!==e[3]&&($.value=e[3]),i=new a.Kx({props:$,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(i,"value",m))),w(g,"togglewithlabel_on_binding");let h={label:v.string.MakePrivate,description:v.string.MakePrivateDescription};void 0!==e[4]&&(h.on=e[4]),l=new a.fL({props:h,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(l,"on",g)));const b={c:w((function(){(0,c.YCL)(t.$$.fragment),o=(0,c.DhX)(),(0,c.YCL)(i.$$.fragment),r=(0,c.DhX)(),(0,c.YCL)(l.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),(0,c.DsI)(e,o,n),(0,c.yef)(i,e,n),(0,c.DsI)(e,r,n),(0,c.yef)(l,e,n),p=!0}),"mount"),p:w((function(e,o){const r={};!n&&4&o&&(n=!0,r.value=e[2],(0,c.hjT)((()=>n=!1))),t.$set(r);const a={};!s&&8&o&&(s=!0,a.value=e[3],(0,c.hjT)((()=>s=!1))),i.$set(a);const p={};!u&&16&o&&(u=!0,p.on=e[4],(0,c.hjT)((()=>u=!1))),l.$set(p)}),"update"),i:w((function(e){p||((0,c.Ui)(t.$$.fragment,e),(0,c.Ui)(i.$$.fragment,e),(0,c.Ui)(l.$$.fragment,e),p=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),(0,c.etI)(i.$$.fragment,e),(0,c.etI)(l.$$.fragment,e),p=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e),e&&(0,c.GlD)(o),(0,c.vpE)(i,e),e&&(0,c.GlD)(r),(0,c.vpE)(l,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:b,id:zt.name,type:"slot",source:"(66:4) <Grid column={1}>",ctx:e}),b}function Xt(e){let t,n;t=new a.rj({props:{column:1,$$slots:{default:[zt]},$$scope:{ctx:e}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};4194332&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:Xt.name,type:"slot",source:"(65:2) <Section label={task.string.GeneralInformation} icon={IconFile}>",ctx:e}),o}function Kt(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:Kt.name,type:"catch",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function Ft(e){let t,n;t=new a.rj({props:{column:1,$$slots:{default:[Jt]},$$scope:{ctx:e}},$$inline:!0});const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,n){const o={};4194307&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:Ft.name,type:"then",source:"(77:34)        <Grid column={1}",ctx:e}),o}function Ht(e){let t,n,o;function i(t){e[12](t,e[19],e[20],e[21])}w(i,"userbox_selected_binding");let s={users:e[7](e[0],e[19]),title:v.string.IviteMember,label:v.string.IviteMember,showSearch:!0};void 0!==e[19]&&(s.selected=e[19]),t=new a.kL({props:s,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"selected",i))),t.$on("change",e[13]);const r={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),o=!0}),"mount"),p:w((function(o,i){e=o;const s={};1&i&&(s.users=e[7](e[0],e[19])),!n&&1&i&&(n=!0,s.selected=e[19],(0,c.hjT)((()=>n=!1))),t.$set(s)}),"update"),i:w((function(e){o||((0,c.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),o=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:Ht.name,type:"each",source:"(79:8) {#each members as member}",ctx:e}),r}function Qt(e){let t,n,o;function i(t){e[14](t)}w(i,"userbox_selected_binding_1");let s={users:e[7](e[0]),title:v.string.IviteMember,label:v.string.IviteMember,showSearch:!0};void 0!==e[1]&&(s.selected=e[1]),t=new a.kL({props:s,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(t,"selected",i)));const r={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),m:w((function(e,n){(0,c.yef)(t,e,n),o=!0}),"mount"),p:w((function(e,o){const i={};1&o&&(i.users=e[7](e[0])),!n&&2&o&&(n=!0,i.selected=e[1],(0,c.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:w((function(e){o||((0,c.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),o=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:r,id:Qt.name,type:"if",source:"(91:8) {#if getAvaibleMembers(members).length}",ctx:e}),r}function Jt(e){let t,n,o,i=e[7](e[0]).length,s=e[0];(0,c.vzG)(s);let r=[];for(let t=0;t<s.length;t+=1)r[t]=Ht(Wt(e,s,t));const a=w((e=>(0,c.etI)(r[e],1,1,(()=>{r[e]=null}))),"out");let l=i&&Qt(e);const u={c:w((function(){for(let e=0;e<r.length;e+=1)r[e].c();t=(0,c.DhX)(),l&&l.c(),n=(0,c.cSb)()}),"create"),m:w((function(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);(0,c.DsI)(e,t,i),l&&l.m(e,i),(0,c.DsI)(e,n,i),o=!0}),"mount"),p:w((function(e,o){if(193&o){let n;for(s=e[0],(0,c.vzG)(s),n=0;n<s.length;n+=1){const i=Wt(e,s,n);r[n]?(r[n].p(i,o),(0,c.Ui)(r[n],1)):(r[n]=Ht(i),r[n].c(),(0,c.Ui)(r[n],1),r[n].m(t.parentNode,t))}for((0,c.dvw)(),n=s.length;n<r.length;n+=1)a(n);(0,c.gbL)()}1&o&&(i=e[7](e[0]).length),i?l?(l.p(e,o),1&o&&(0,c.Ui)(l,1)):(l=Qt(e),l.c(),(0,c.Ui)(l,1),l.m(n.parentNode,n)):l&&((0,c.dvw)(),(0,c.etI)(l,1,1,(()=>{l=null})),(0,c.gbL)())}),"update"),i:w((function(e){if(!o){for(let e=0;e<s.length;e+=1)(0,c.Ui)(r[e]);(0,c.Ui)(l),o=!0}}),"intro"),o:w((function(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)(0,c.etI)(r[e]);(0,c.etI)(l),o=!1}),"outro"),d:w((function(e){(0,c.RMB)(r,e),e&&(0,c.GlD)(t),l&&l.d(e),e&&(0,c.GlD)(n)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:u,id:Jt.name,type:"slot",source:"(78:6) <Grid column={1}>",ctx:e}),u}function en(e){const t={c:c.ZTd,m:c.ZTd,p:c.ZTd,i:c.ZTd,o:c.ZTd,d:c.ZTd};return(0,c.YyZ)("SvelteRegisterBlock",{block:t,id:en.name,type:"pending",source:'(1:0) \x3c!-- // Copyright © 2020 Anticrm Platform Contributors. //  // Licensed under the Eclipse Public License, Version 2.0 (the \\"License\\"); // you may not use this file except in compliance with the License. You may // obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0 //  // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an \\"AS IS\\" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. //  // See the License for the specific language governing permissions and // limitations under the License. --\x3e <script lang=\\"ts\\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {     function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }',ctx:e}),t}function tn(e){let t,n,o,i={ctx:e,current:null,token:null,hasCatch:!1,pending:en,then:Ft,catch:Kt,value:16,blocks:[,,,]};(0,c.CR_)(n=e[8](),i);const s={c:w((function(){t=(0,c.cSb)(),i.block.c()}),"create"),m:w((function(e,n){(0,c.DsI)(e,t,n),i.block.m(e,i.anchor=n),i.mount=()=>t.parentNode,i.anchor=t,o=!0}),"mount"),p:w((function(t,n){e=t,(0,c.xfz)(i,e,n)}),"update"),i:w((function(e){o||((0,c.Ui)(i.block),o=!0)}),"intro"),o:w((function(e){for(let e=0;e<3;e+=1){const t=i.blocks[e];(0,c.etI)(t)}o=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),i.block.d(e),i.token=null,i=null}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:s,id:tn.name,type:"slot",source:"(76:2) <Section label={task.string.ProjectMembers} icon={IconComments}>",ctx:e}),s}function nn(e){let t,n,o,i;t=new a.$0({props:{label:v.string.GeneralInformation,icon:a.Xh,$$slots:{default:[Xt]},$$scope:{ctx:e}},$$inline:!0}),o=new a.$0({props:{label:v.string.ProjectMembers,icon:a.eB,$$slots:{default:[tn]},$$scope:{ctx:e}},$$inline:!0});const s={c:w((function(){(0,c.YCL)(t.$$.fragment),n=(0,c.DhX)(),(0,c.YCL)(o.$$.fragment)}),"create"),m:w((function(e,s){(0,c.yef)(t,e,s),(0,c.DsI)(e,n,s),(0,c.yef)(o,e,s),i=!0}),"mount"),p:w((function(e,n){const i={};4194332&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const s={};4194307&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)}),"update"),i:w((function(e){i||((0,c.Ui)(t.$$.fragment,e),(0,c.Ui)(o.$$.fragment,e),i=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),(0,c.etI)(o.$$.fragment,e),i=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e),e&&(0,c.GlD)(n),(0,c.vpE)(o,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:s,id:nn.name,type:"slot",source:"(64:0) <Dialog label={task.string.CreateProject} okLabel={task.string.CreateProject} okAction={createProject} on:close>",ctx:e}),s}function on(e){let t,n;t=new a.Vq({props:{label:v.string.CreateProject,okLabel:v.string.CreateProject,okAction:e[5],$$slots:{default:[nn]},$$scope:{ctx:e}},$$inline:!0}),t.$on("close",e[15]);const o={c:w((function(){(0,c.YCL)(t.$$.fragment)}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,o){(0,c.yef)(t,e,o),n=!0}),"mount"),p:w((function(e,[n]){const o={};4194335&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:w((function(e){n||((0,c.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(t.$$.fragment,e),n=!1}),"outro"),d:w((function(e){(0,c.vpE)(t,e)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:o,id:on.name,type:"component",source:"",ctx:e}),o}function sn(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("CreateProject",o,[]);var s=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return w(i,"adopt"),new(n||(n=Promise))((function(n,s){function c(e){try{a(o.next(e))}catch(e){s(e)}}function r(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,r)}w(c,"fulfilled"),w(r,"rejected"),w(a,"step"),a((o=o.apply(e,t||[])).next())}))};const r=(0,l.getClient)();let u,d="",f="",m=!1,$=[r.accountId()],g=[];function h(){r.createDoc(v.class.Project,p().space.Model,{name:d,description:f,private:m,members:$})}function b(){n(0,$=$.filter((e=>void 0!==e)))}function y(e,t){return void 0===t?g.filter((t=>!e.includes(t._id))):g.filter((n=>!e.includes(n._id)||t===n._id))}function k(){return s(this,void 0,void 0,(function*(){g=yield r.findAll(p().class.Account,{})}))}w(h,"createProject"),w(b,"filterMembers"),w(y,"getAvaibleMembers"),w(k,"getUsers");const _=[];function C(e){d=e,n(2,d)}function I(e){f=e,n(3,f)}function x(e){m=e,n(4,m)}function S(e,t,o,i){o[i]=e,n(0,$),n(1,u)}Object.keys(t).forEach((e=>{~_.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateProject> was created with unknown prop '${e}'`)})),w(C,"editbox_value_binding"),w(I,"textarea_value_binding"),w(x,"togglewithlabel_on_binding"),w(S,"userbox_selected_binding");const j=w((()=>{b()}),"change_handler");function T(e){u=e,n(1,u),n(0,$)}function L(t){c.cKT.call(this,e,t)}return w(T,"userbox_selected_binding_1"),w(L,"close_handler"),e.$capture_state=()=>({__awaiter:s,EditBox:a.k3,Dialog:a.Vq,TextArea:a.Kx,ToggleWithLabel:a.fL,Section:a.$0,IconFile:a.Xh,IconComments:a.eB,UserBox:a.kL,Grid:a.rj,getClient:l.getClient,task:v,core:p(),client:r,name:d,description:f,isPrivate:m,members:$,users:g,newMember:u,createProject:h,filterMembers:b,getAvaibleMembers:y,getUsers:k}),e.$inject_state=e=>{"__awaiter"in e&&(s=e.__awaiter),"name"in e&&n(2,d=e.name),"description"in e&&n(3,f=e.description),"isPrivate"in e&&n(4,m=e.isPrivate),"members"in e&&n(0,$=e.members),"users"in e&&(g=e.users),"newMember"in e&&n(1,u=e.newMember)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{3&e.$$.dirty&&void 0!==u&&($.push(u),n(0,$),n(1,u),n(1,u=void 0))},[$,u,d,f,m,h,b,y,k,C,I,x,S,j,T,L]}w(Wt,"get_each_context"),w(zt,"create_default_slot_4"),w(Xt,"create_default_slot_3"),w(Kt,"create_catch_block"),w(Ft,"create_then_block"),w(Ht,"create_each_block"),w(Qt,"create_if_block"),w(Jt,"create_default_slot_2"),w(en,"create_pending_block"),w(tn,"create_default_slot_1"),w(nn,"create_default_slot"),w(on,"create_fragment"),w(sn,"instance");var cn=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,sn,on,c.N8,{}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateProject",options:e,id:on.name})}};w(cn,"CreateProject");var rn=cn,an="src/components/presenters/TaskPreview.svelte";function ln(e){let t,n,o,i,s,r,l,u,p,d,f,m,$,g,h,b,y,k,_,C,I,x,S,j=e[0].shortRefId+"",T=e[0].name+"",L=e[0].comments.length+"";function E(t){e[6](t)}p=new a.A({props:{size:24,icon:a.Cr,direction:"left"},$$inline:!0}),w(E,"checkboxlist_items_binding");let D={label:v.string.AddCheckItem};void 0!==e[0].checkItems&&(D.items=e[0].checkItems),m=new a.$({props:D,$$inline:!0}),c.VnY.push((()=>(0,c.akz)(m,"items",E))),b=new a.ao({props:{user:e[1]},$$inline:!0}),_=new a.A({props:{size:24,icon:Ae,direction:"left"},$$inline:!0});const Y={c:w((function(){t=(0,c.bGB)("div"),n=(0,c.bGB)("div"),o=(0,c.bGB)("span"),i=(0,c.fLW)(j),s=(0,c.DhX)(),r=(0,c.bGB)("span"),l=(0,c.fLW)(T),u=(0,c.DhX)(),(0,c.YCL)(p.$$.fragment),d=(0,c.DhX)(),f=(0,c.bGB)("div"),(0,c.YCL)(m.$$.fragment),g=(0,c.DhX)(),h=(0,c.bGB)("div"),(0,c.YCL)(b.$$.fragment),y=(0,c.DhX)(),k=(0,c.bGB)("div"),(0,c.YCL)(_.$$.fragment),C=(0,c.DhX)(),I=(0,c.bGB)("div"),x=(0,c.fLW)(L),(0,c.LGW)(o,"class","svelte-71gibb"),(0,c.vjr)(o,an,41,6,1575),(0,c.LGW)(r,"class","svelte-71gibb"),(0,c.vjr)(r,an,42,6,1612),(0,c.LGW)(n,"class","taskWithId svelte-71gibb"),(0,c.vjr)(n,an,40,4,1544),(0,c.LGW)(t,"class","header svelte-71gibb"),(0,c.vjr)(t,an,39,2,1519),(0,c.LGW)(f,"class","checklist svelte-71gibb"),(0,c.vjr)(f,an,46,2,1724),(0,c.LGW)(I,"class","counter svelte-71gibb"),(0,c.vjr)(I,an,53,6,1997),(0,c.LGW)(k,"class","actions svelte-71gibb"),(0,c.vjr)(k,an,51,4,1903),(0,c.LGW)(h,"class","footer svelte-71gibb"),(0,c.vjr)(h,an,49,2,1845)}),"create"),m:w((function(e,a){(0,c.DsI)(e,t,a),(0,c.gOb)(t,n),(0,c.gOb)(n,o),(0,c.gOb)(o,i),(0,c.gOb)(n,s),(0,c.gOb)(n,r),(0,c.gOb)(r,l),(0,c.gOb)(t,u),(0,c.yef)(p,t,null),(0,c.DsI)(e,d,a),(0,c.DsI)(e,f,a),(0,c.yef)(m,f,null),(0,c.DsI)(e,g,a),(0,c.DsI)(e,h,a),(0,c.yef)(b,h,null),(0,c.gOb)(h,y),(0,c.gOb)(h,k),(0,c.yef)(_,k,null),(0,c.gOb)(k,C),(0,c.gOb)(k,I),(0,c.gOb)(I,x),S=!0}),"mount"),p:w((function(e,t){(!S||1&t)&&j!==(j=e[0].shortRefId+"")&&(0,c.Lob)(i,j),(!S||1&t)&&T!==(T=e[0].name+"")&&(0,c.Lob)(l,T);const n={};!$&&1&t&&($=!0,n.items=e[0].checkItems,(0,c.hjT)((()=>$=!1))),m.$set(n);const o={};2&t&&(o.user=e[1]),b.$set(o),(!S||1&t)&&L!==(L=e[0].comments.length+"")&&(0,c.Lob)(x,L)}),"update"),i:w((function(e){S||((0,c.Ui)(p.$$.fragment,e),(0,c.Ui)(m.$$.fragment,e),(0,c.Ui)(b.$$.fragment,e),(0,c.Ui)(_.$$.fragment,e),S=!0)}),"intro"),o:w((function(e){(0,c.etI)(p.$$.fragment,e),(0,c.etI)(m.$$.fragment,e),(0,c.etI)(b.$$.fragment,e),(0,c.etI)(_.$$.fragment,e),S=!1}),"outro"),d:w((function(e){e&&(0,c.GlD)(t),(0,c.vpE)(p),e&&(0,c.GlD)(d),e&&(0,c.GlD)(f),(0,c.vpE)(m),e&&(0,c.GlD)(g),e&&(0,c.GlD)(h),(0,c.vpE)(b),(0,c.vpE)(_)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:Y,id:ln.name,type:"if",source:"(39:0) {#if task}",ctx:e}),Y}function un(e){let t,n,o=e[0]&&ln(e);const i={c:w((function(){o&&o.c(),t=(0,c.cSb)()}),"create"),l:w((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:w((function(e,i){o&&o.m(e,i),(0,c.DsI)(e,t,i),n=!0}),"mount"),p:w((function(e,[n]){e[0]?o?(o.p(e,n),1&n&&(0,c.Ui)(o,1)):(o=ln(e),o.c(),(0,c.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,c.dvw)(),(0,c.etI)(o,1,1,(()=>{o=null})),(0,c.gbL)())}),"update"),i:w((function(e){n||((0,c.Ui)(o),n=!0)}),"intro"),o:w((function(e){(0,c.etI)(o),n=!1}),"outro"),d:w((function(e){o&&o.d(e),e&&(0,c.GlD)(t)}),"destroy")};return(0,c.YyZ)("SvelteRegisterBlock",{block:i,id:un.name,type:"component",source:"",ctx:e}),i}function pn(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,c.KXV)("TaskPreview",o,[]);const r=(0,l.getClient)();let d,f,m,$,{objectId:h}=t,{objectClass:b}=t;const y=["objectId","objectClass"];function k(t){e.$$.not_equal(d.checkItems,t)&&(d.checkItems=t,n(0,d),n(4,m),n(3,b),n(2,h))}return Object.keys(t).forEach((e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<TaskPreview> was created with unknown prop '${e}'`)})),w(k,"checkboxlist_items_binding"),e.$$set=e=>{"objectId"in e&&n(2,h=e.objectId),"objectClass"in e&&n(3,b=e.objectClass)},e.$capture_state=()=>({CheckBoxList:a.$,UserInfo:a.ao,ActionIcon:a.A,IconMoreV:a.Cr,IconChat:Ae,core:p(),Class:u.Class,Ref:u.Ref,Account:u.Account,getClient:l.getClient,QueryUpdater:g.QueryUpdater,Task:s.Task,taskIds:v,client:r,objectId:h,objectClass:b,task:d,assignee:f,taskUpdater:m,taskAssignee:$}),e.$inject_state=e=>{"objectId"in e&&n(2,h=e.objectId),"objectClass"in e&&n(3,b=e.objectClass),"task"in e&&n(0,d=e.task),"assignee"in e&&n(1,f=e.assignee),"taskUpdater"in e&&n(4,m=e.taskUpdater),"taskAssignee"in e&&n(5,$=e.taskAssignee)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{28&e.$$.dirty&&n(4,m=r.query(m,b,{_id:h},(e=>{n(0,d=e.shift())}))),33&e.$$.dirty&&void 0!==(null==d?void 0:d.assignee)&&n(5,$=r.query($,p().class.Account,{_id:d.assignee},(e=>{n(1,f=e.shift())})))},[d,f,h,b,m,$,k]}w(ln,"create_if_block"),w(un,"create_fragment"),w(pn,"instance");var dn=class extends c.Mjb{constructor(e){super(e),(0,c.S1n)(this,e,pn,un,c.N8,{objectId:2,objectClass:3}),(0,c.YyZ)("SvelteRegisterComponent",{component:this,tagName:"TaskPreview",options:e,id:un.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[2]||"objectId"in n||console.warn("<TaskPreview> was created without expected prop 'objectId'"),void 0!==t[3]||"objectClass"in n||console.warn("<TaskPreview> was created without expected prop 'objectClass'")}get objectId(){throw new Error("<TaskPreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set objectId(e){throw new Error("<TaskPreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get objectClass(){throw new Error("<TaskPreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set objectClass(e){throw new Error("<TaskPreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};w(dn,"TaskPreview");var fn=dn,mn=w((()=>{return void 0,null,e=function*(){return(0,o.setResource)(v.component.CreateProject,rn),(0,o.setResource)(v.component.ProjectView,Ot),(0,o.setResource)(v.component.MyTasksView,At),(0,o.setResource)(v.component.FavoriteView,Mt),(0,o.setResource)(v.component.CreateTask,re),(0,o.setResource)(v.component.EditTask,Te),(0,o.setResource)(v.component.TaskPreview,fn),{}},new Promise(((t,n)=>{var o=t=>{try{s(e.next(t))}catch(e){n(e)}},i=t=>{try{s(e.throw(t))}catch(e){n(e)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,i);s((e=e.apply(undefined,null)).next())}));var e}),"default")}}]);
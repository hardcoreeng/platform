"use strict";(self.webpackChunkprod=self.webpackChunkprod||[]).push([[548],{97632:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$e});var o=n(6904),i=n(9479),r=n(3130),c=n(41350),s=n.n(c),a=n(35107),l=n(26148),u=n(9862),p=n(4003),d=Object.defineProperty,f=(e,t)=>d(e,"name",{value:t,configurable:!0}),$="src/components/Float.svelte";function v(e){let t;const n=e[2].default,o=(0,r.nuO)(n,e,e[4],null),i={c:f((function(){o&&o.c()}),"create"),m:f((function(e,n){o&&o.m(e,n),t=!0}),"mount"),p:f((function(e,i){o&&o.p&&(!t||16&i)&&(0,r.kmG)(o,n,e,e[4],t?(0,r.u2N)(n,e[4],i,null):(0,r.VOJ)(e[4]),null)}),"update"),i:f((function(e){t||((0,r.Ui)(o,e),t=!0)}),"intro"),o:f((function(e){(0,r.etI)(o,e),t=!1}),"outro"),d:f((function(e){o&&o.d(e)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:i,id:v.name,type:"slot",source:"(36:6) <ScrollBox vertical>",ctx:e}),i}function h(e){let t,n,o,i,c,s,a,u,p,d,m,g,w,b;c=new l.__({props:{label:e[0]},$$inline:!0}),u=new l.bM({props:{size:16},$$inline:!0}),m=new l.De({props:{vertical:!0,$$slots:{default:[v]},$$scope:{ctx:e}},$$inline:!0});const y={c:f((function(){t=(0,r.bGB)("div"),n=(0,r.bGB)("div"),o=(0,r.bGB)("div"),i=(0,r.bGB)("div"),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),a=(0,r.bGB)("div"),(0,r.YCL)(u.$$.fragment),p=(0,r.DhX)(),d=(0,r.bGB)("div"),(0,r.YCL)(m.$$.fragment),(0,r.LGW)(i,"class","title svelte-oer3sb"),(0,r.vjr)(i,$,24,6,891),(0,r.LGW)(a,"class","close svelte-oer3sb"),(0,r.vjr)(a,$,25,6,946),(0,r.LGW)(o,"class","header svelte-oer3sb"),(0,r.vjr)(o,$,23,4,864),(0,r.LGW)(d,"class","content svelte-oer3sb"),(0,r.vjr)(d,$,34,4,1106),(0,r.LGW)(n,"class","container svelte-oer3sb"),(0,r.vjr)(n,$,22,2,836),(0,r.LGW)(t,"class","root svelte-oer3sb"),(0,r.vjr)(t,$,21,0,815)}),"create"),l:f((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:f((function(l,f){(0,r.DsI)(l,t,f),(0,r.gOb)(t,n),(0,r.gOb)(n,o),(0,r.gOb)(o,i),(0,r.yef)(c,i,null),(0,r.gOb)(o,s),(0,r.gOb)(o,a),(0,r.yef)(u,a,null),(0,r.gOb)(n,p),(0,r.gOb)(n,d),(0,r.yef)(m,d,null),g=!0,w||(b=(0,r.iVk)(a,"click",e[3],!1,!1,!1),w=!0)}),"mount"),p:f((function(e,[t]){const n={};1&t&&(n.label=e[0]),c.$set(n);const o={};16&t&&(o.$$scope={dirty:t,ctx:e}),m.$set(o)}),"update"),i:f((function(e){g||((0,r.Ui)(c.$$.fragment,e),(0,r.Ui)(u.$$.fragment,e),(0,r.Ui)(m.$$.fragment,e),g=!0)}),"intro"),o:f((function(e){(0,r.etI)(c.$$.fragment,e),(0,r.etI)(u.$$.fragment,e),(0,r.etI)(m.$$.fragment,e),g=!1}),"outro"),d:f((function(e){e&&(0,r.GlD)(t),(0,r.vpE)(c),(0,r.vpE)(u),(0,r.vpE)(m),w=!1,b()}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:y,id:h.name,type:"component",source:"",ctx:e}),y}function m(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,r.KXV)("Float",o,["default"]);let{title:c}=t;const s=(0,u.createEventDispatcher)(),a=["title"];Object.keys(t).forEach((e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Float> was created with unknown prop '${e}'`)}));const p=f((()=>{s("close")}),"click_handler");return e.$$set=e=>{"title"in e&&n(0,c=e.title),"$$scope"in e&&n(4,i=e.$$scope)},e.$capture_state=()=>({createEventDispatcher:u.createEventDispatcher,IconClose:l.bM,Label:l.__,ScrollBox:l.De,title:c,dispatch:s}),e.$inject_state=e=>{"title"in e&&n(0,c=e.title)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c,s,o,p,i]}f(v,"create_default_slot"),f(h,"create_fragment"),f(m,"instance");var g=class extends r.Mjb{constructor(e){super(e),(0,r.S1n)(this,e,m,h,r.N8,{title:0}),(0,r.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Float",options:e,id:h.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"title"in n||console.warn("<Float> was created without expected prop 'title'")}get title(){throw new Error("<Float>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set title(e){throw new Error("<Float>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};f(g,"Float");var w=g;function b(e){let t,n,i,c,s,a,u,p,d,$,v,h,m;function g(t){e[6](t)}f(g,"editbox_value_binding");let w={label:o.default.string.Title};function y(t){e[7](t)}void 0!==e[0].name&&(w.value=e[0].name),n=new l.k3({props:w,$$inline:!0}),r.VnY.push((()=>(0,r.akz)(n,"value",g))),n.$on("blur",e[2]),f(y,"textarea_value_binding");let _={label:o.default.string.Description};void 0!==e[0].description&&(_.value=e[0].description),s=new l.Kx({props:_,$$inline:!0}),r.VnY.push((()=>(0,r.akz)(s,"value",y))),s.$on("blur",e[2]),p=new l.Mt({props:{title:o.default.string.StartTime,selected:new Date(e[0].startsAt)},$$inline:!0}),p.$on("change",e[3]("startsAt")),$=new l.Mt({props:{title:o.default.string.EndTime,selected:new Date(e[0].endsAt)},$$inline:!0}),$.$on("change",e[3]("endsAt")),h=new l.jL({props:{items:e[1],component:l.ao},$$inline:!0});const E={c:f((function(){t=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),c=(0,r.DhX)(),(0,r.YCL)(s.$$.fragment),u=(0,r.DhX)(),(0,r.YCL)(p.$$.fragment),d=(0,r.DhX)(),(0,r.YCL)($.$$.fragment),v=(0,r.DhX)(),(0,r.YCL)(h.$$.fragment),(0,r.LGW)(t,"class","root svelte-19w1zzs"),(0,r.vjr)(t,"src/components/EventEditor.svelte",60,0,1900)}),"create"),l:f((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:f((function(e,o){(0,r.DsI)(e,t,o),(0,r.yef)(n,t,null),(0,r.gOb)(t,c),(0,r.yef)(s,t,null),(0,r.gOb)(t,u),(0,r.yef)(p,t,null),(0,r.gOb)(t,d),(0,r.yef)($,t,null),(0,r.gOb)(t,v),(0,r.yef)(h,t,null),m=!0}),"mount"),p:f((function(e,[t]){const o={};!i&&1&t&&(i=!0,o.value=e[0].name,(0,r.hjT)((()=>i=!1))),n.$set(o);const c={};!a&&1&t&&(a=!0,c.value=e[0].description,(0,r.hjT)((()=>a=!1))),s.$set(c);const l={};1&t&&(l.selected=new Date(e[0].startsAt)),p.$set(l);const u={};1&t&&(u.selected=new Date(e[0].endsAt)),$.$set(u);const d={};2&t&&(d.items=e[1]),h.$set(d)}),"update"),i:f((function(e){m||((0,r.Ui)(n.$$.fragment,e),(0,r.Ui)(s.$$.fragment,e),(0,r.Ui)(p.$$.fragment,e),(0,r.Ui)($.$$.fragment,e),(0,r.Ui)(h.$$.fragment,e),m=!0)}),"intro"),o:f((function(e){(0,r.etI)(n.$$.fragment,e),(0,r.etI)(s.$$.fragment,e),(0,r.etI)(p.$$.fragment,e),(0,r.etI)($.$$.fragment,e),(0,r.etI)(h.$$.fragment,e),m=!1}),"outro"),d:f((function(e){e&&(0,r.GlD)(t),(0,r.vpE)(n),(0,r.vpE)(s),(0,r.vpE)(p),(0,r.vpE)($),(0,r.vpE)(h)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:E,id:b.name,type:"component",source:"",ctx:e}),E}function y(e,t,n){let{$$slots:i={},$$scope:c}=t;(0,r.KXV)("EventEditor",i,[]);let{event:d}=t;const $=(0,a.getClient)(),v=(0,u.createEventDispatcher)();let h,m=[],g=[];function w(){v("update")}f(w,"onUpdate");const b=f((e=>({detail:t})=>{n(0,d[e]=t.getTime(),d),w()}),"onDateUpdate"),y=["event"];function _(t){e.$$.not_equal(d.name,t)&&(d.name=t,n(0,d),n(4,m),n(5,h))}function E(t){e.$$.not_equal(d.description,t)&&(d.description=t,n(0,d),n(4,m),n(5,h))}return Object.keys(t).forEach((e=>{~y.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<EventEditor> was created with unknown prop '${e}'`)})),f(_,"editbox_value_binding"),f(E,"textarea_value_binding"),e.$$set=e=>{"event"in e&&n(0,d=e.event)},e.$capture_state=()=>({createEventDispatcher:u.createEventDispatcher,core:s(),calendar:o.default,EditBox:l.k3,TextArea:l.Kx,DatePicker:l.Mt,IPopupItem:l.IPopupItem,UserInfo:l.ao,SelectBox:l.jL,getClient:a.getClient,QueryUpdater:p.QueryUpdater,event:d,client:$,dispatch:v,accounts:m,lqAccounts:h,selectorItems:g,onUpdate:w,onDateUpdate:b}),e.$inject_state=e=>{"event"in e&&n(0,d=e.event),"accounts"in e&&n(4,m=e.accounts),"lqAccounts"in e&&n(5,h=e.lqAccounts),"selectorItems"in e&&n(1,g=e.selectorItems)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{32&e.$$.dirty&&n(5,h=$.query(h,s().class.Account,{},(e=>{n(4,m=e)}))),17&e.$$.dirty&&n(1,g=m.map((e=>({props:{user:e},selected:d.participants.includes(e._id),action:()=>{e._id!==d.owner&&(n(0,d.participants=[...d.participants,e._id],d),w())},onDeselect:()=>{if(e._id===d.owner)return!1;n(0,d.participants=d.participants.filter((t=>t!==e._id)),d),w()}}))))},[d,g,w,b,m,h,_,E]}f(b,"create_fragment"),f(y,"instance");var _=class extends r.Mjb{constructor(e){super(e),(0,r.S1n)(this,e,y,b,r.N8,{event:0}),(0,r.YyZ)("SvelteRegisterComponent",{component:this,tagName:"EventEditor",options:e,id:b.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"event"in n||console.warn("<EventEditor> was created without expected prop 'event'")}get event(){throw new Error("<EventEditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set event(e){throw new Error("<EventEditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};f(_,"EventEditor");var E=_,k="src/components/EventViewer.svelte";function j(e,t,n){const o=e.slice();return o[4]=t[n],o}function L(e,t){let n,o,i;o=new l.ao({props:{user:t[4]},$$inline:!0});const c={key:e,first:null,c:f((function(){n=(0,r.cSb)(),(0,r.YCL)(o.$$.fragment),this.first=n}),"create"),m:f((function(e,t){(0,r.DsI)(e,n,t),(0,r.yef)(o,e,t),i=!0}),"mount"),p:f((function(e,n){t=e;const i={};2&n&&(i.user=t[4]),o.$set(i)}),"update"),i:f((function(e){i||((0,r.Ui)(o.$$.fragment,e),i=!0)}),"intro"),o:f((function(e){(0,r.etI)(o.$$.fragment,e),i=!1}),"outro"),d:f((function(e){e&&(0,r.GlD)(n),(0,r.vpE)(o,e)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:c,id:L.name,type:"each",source:"(71:6) {#each accounts as account (account._id)}",ctx:t}),c}function x(e){let t,n,i,c,s,a,u,p,d,$,v,h,m,g,w,b,y,_,E,C,D,S,G,O,I,Y,B,U,W,A,V,T,P,R,q,Z=e[0].name+"",X=e[0].description+"",N=new Date(e[0].startsAt).toLocaleString()+"",z=new Date(e[0].endsAt).toLocaleString()+"",M=[],K=new Map;c=new l.__({props:{label:o.default.string.Title},$$inline:!0}),v=new l.__({props:{label:o.default.string.Description},$$inline:!0}),_=new l.__({props:{label:o.default.string.StartTime},$$inline:!0}),I=new l.__({props:{label:o.default.string.EndTime},$$inline:!0}),T=new l.__({props:{label:o.default.string.Participants},$$inline:!0});let F=e[1];(0,r.vzG)(F);const Q=f((e=>e[4]._id),"get_key");(0,r.HeV)(e,F,j,Q);for(let t=0;t<F.length;t+=1){let n=j(e,F,t),o=Q(n);K.set(o,M[t]=L(o,n))}const H={c:f((function(){t=(0,r.bGB)("div"),n=(0,r.bGB)("div"),i=(0,r.bGB)("div"),(0,r.YCL)(c.$$.fragment),s=(0,r.DhX)(),a=(0,r.bGB)("div"),u=(0,r.fLW)(Z),p=(0,r.DhX)(),d=(0,r.bGB)("div"),$=(0,r.bGB)("div"),(0,r.YCL)(v.$$.fragment),h=(0,r.DhX)(),m=(0,r.bGB)("div"),g=(0,r.fLW)(X),w=(0,r.DhX)(),b=(0,r.bGB)("div"),y=(0,r.bGB)("div"),(0,r.YCL)(_.$$.fragment),E=(0,r.DhX)(),C=(0,r.bGB)("div"),D=(0,r.fLW)(N),S=(0,r.DhX)(),G=(0,r.bGB)("div"),O=(0,r.bGB)("div"),(0,r.YCL)(I.$$.fragment),Y=(0,r.DhX)(),B=(0,r.bGB)("div"),U=(0,r.fLW)(z),W=(0,r.DhX)(),A=(0,r.bGB)("div"),V=(0,r.bGB)("div"),(0,r.YCL)(T.$$.fragment),P=(0,r.DhX)(),R=(0,r.bGB)("div");for(let e=0;e<M.length;e+=1)M[e].c();(0,r.LGW)(i,"class","label svelte-73vfpy"),(0,r.vjr)(i,k,34,4,1244),(0,r.vjr)(a,k,37,4,1325),(0,r.LGW)(n,"class","row svelte-73vfpy"),(0,r.vjr)(n,k,33,2,1222),(0,r.LGW)($,"class","label svelte-73vfpy"),(0,r.vjr)($,k,42,4,1394),(0,r.vjr)(m,k,45,4,1481),(0,r.LGW)(d,"class","row svelte-73vfpy"),(0,r.vjr)(d,k,41,2,1372),(0,r.LGW)(y,"class","label svelte-73vfpy"),(0,r.vjr)(y,k,50,4,1557),(0,r.vjr)(C,k,53,4,1642),(0,r.LGW)(b,"class","row svelte-73vfpy"),(0,r.vjr)(b,k,49,2,1535),(0,r.LGW)(O,"class","label svelte-73vfpy"),(0,r.vjr)(O,k,58,4,1742),(0,r.vjr)(B,k,61,4,1825),(0,r.LGW)(G,"class","row svelte-73vfpy"),(0,r.vjr)(G,k,57,2,1720),(0,r.LGW)(V,"class","label svelte-73vfpy"),(0,r.vjr)(V,k,66,4,1923),(0,r.LGW)(R,"class","participants svelte-73vfpy"),(0,r.vjr)(R,k,69,4,2011),(0,r.LGW)(A,"class","row svelte-73vfpy"),(0,r.vjr)(A,k,65,2,1901),(0,r.LGW)(t,"class","root svelte-73vfpy"),(0,r.vjr)(t,k,32,0,1201)}),"create"),l:f((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:f((function(e,o){(0,r.DsI)(e,t,o),(0,r.gOb)(t,n),(0,r.gOb)(n,i),(0,r.yef)(c,i,null),(0,r.gOb)(n,s),(0,r.gOb)(n,a),(0,r.gOb)(a,u),(0,r.gOb)(t,p),(0,r.gOb)(t,d),(0,r.gOb)(d,$),(0,r.yef)(v,$,null),(0,r.gOb)(d,h),(0,r.gOb)(d,m),(0,r.gOb)(m,g),(0,r.gOb)(t,w),(0,r.gOb)(t,b),(0,r.gOb)(b,y),(0,r.yef)(_,y,null),(0,r.gOb)(b,E),(0,r.gOb)(b,C),(0,r.gOb)(C,D),(0,r.gOb)(t,S),(0,r.gOb)(t,G),(0,r.gOb)(G,O),(0,r.yef)(I,O,null),(0,r.gOb)(G,Y),(0,r.gOb)(G,B),(0,r.gOb)(B,U),(0,r.gOb)(t,W),(0,r.gOb)(t,A),(0,r.gOb)(A,V),(0,r.yef)(T,V,null),(0,r.gOb)(A,P),(0,r.gOb)(A,R);for(let e=0;e<M.length;e+=1)M[e].m(R,null);q=!0}),"mount"),p:f((function(e,[t]){(!q||1&t)&&Z!==(Z=e[0].name+"")&&(0,r.Lob)(u,Z),(!q||1&t)&&X!==(X=e[0].description+"")&&(0,r.Lob)(g,X),(!q||1&t)&&N!==(N=new Date(e[0].startsAt).toLocaleString()+"")&&(0,r.Lob)(D,N),(!q||1&t)&&z!==(z=new Date(e[0].endsAt).toLocaleString()+"")&&(0,r.Lob)(U,z),2&t&&(F=e[1],(0,r.vzG)(F),(0,r.dvw)(),(0,r.HeV)(e,F,j,Q),M=(0,r.GQg)(M,t,Q,1,e,F,K,R,r.cly,L,null,j),(0,r.gbL)())}),"update"),i:f((function(e){if(!q){(0,r.Ui)(c.$$.fragment,e),(0,r.Ui)(v.$$.fragment,e),(0,r.Ui)(_.$$.fragment,e),(0,r.Ui)(I.$$.fragment,e),(0,r.Ui)(T.$$.fragment,e);for(let e=0;e<F.length;e+=1)(0,r.Ui)(M[e]);q=!0}}),"intro"),o:f((function(e){(0,r.etI)(c.$$.fragment,e),(0,r.etI)(v.$$.fragment,e),(0,r.etI)(_.$$.fragment,e),(0,r.etI)(I.$$.fragment,e),(0,r.etI)(T.$$.fragment,e);for(let e=0;e<M.length;e+=1)(0,r.etI)(M[e]);q=!1}),"outro"),d:f((function(e){e&&(0,r.GlD)(t),(0,r.vpE)(c),(0,r.vpE)(v),(0,r.vpE)(_),(0,r.vpE)(I),(0,r.vpE)(T);for(let e=0;e<M.length;e+=1)M[e].d()}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:H,id:x.name,type:"component",source:"",ctx:e}),H}function C(e,t,n){let{$$slots:i={},$$scope:c}=t;(0,r.KXV)("EventViewer",i,[]);let{event:u}=t;const d=(0,a.getClient)();let f,$=[];const v=["event"];return Object.keys(t).forEach((e=>{~v.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<EventViewer> was created with unknown prop '${e}'`)})),e.$$set=e=>{"event"in e&&n(0,u=e.event)},e.$capture_state=()=>({core:s(),calendar:o.default,UserInfo:l.ao,Label:l.__,getClient:a.getClient,QueryUpdater:p.QueryUpdater,event:u,client:d,accounts:$,lqAccounts:f}),e.$inject_state=e=>{"event"in e&&n(0,u=e.event),"accounts"in e&&n(1,$=e.accounts),"lqAccounts"in e&&n(2,f=e.lqAccounts)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{5&e.$$.dirty&&n(2,f=d.query(f,s().class.Account,{_id:{$in:u.participants}},(e=>{n(1,$=u.participants.map((t=>e.find((e=>e._id===t)))).filter((e=>void 0!==e)))})))},[u,$,f]}f(j,"get_each_context"),f(L,"create_each_block"),f(x,"create_fragment"),f(C,"instance");var D=class extends r.Mjb{constructor(e){super(e),(0,r.S1n)(this,e,C,x,r.N8,{event:0}),(0,r.YyZ)("SvelteRegisterComponent",{component:this,tagName:"EventViewer",options:e,id:x.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"event"in n||console.warn("<EventViewer> was created without expected prop 'event'")}get event(){throw new Error("<EventViewer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set event(e){throw new Error("<EventViewer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};f(D,"EventViewer");var S=D,{Object:G}=r.lig;function O(e){let t,n,o,i;const c=[Y,I],s=[];function a(e,t){return e[1]?0:1}f(a,"select_block_type"),t=a(e),n=s[t]=c[t](e);const l={c:f((function(){n.c(),o=(0,r.cSb)()}),"create"),m:f((function(e,n){s[t].m(e,n),(0,r.DsI)(e,o,n),i=!0}),"mount"),p:f((function(e,i){let l=t;t=a(e),t===l?s[t].p(e,i):((0,r.dvw)(),(0,r.etI)(s[l],1,1,(()=>{s[l]=null})),(0,r.gbL)(),n=s[t],n?n.p(e,i):(n=s[t]=c[t](e),n.c()),(0,r.Ui)(n,1),n.m(o.parentNode,o))}),"update"),i:f((function(e){i||((0,r.Ui)(n),i=!0)}),"intro"),o:f((function(e){(0,r.etI)(n),i=!1}),"outro"),d:f((function(e){s[t].d(e),e&&(0,r.GlD)(o)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:l,id:O.name,type:"if",source:"(65:2) {#if event !== undefined}",ctx:e}),l}function I(e){let t,n;t=new E({props:{event:e[0]},$$inline:!0}),t.$on("update",e[2]);const o={c:f((function(){(0,r.YCL)(t.$$.fragment)}),"create"),m:f((function(e,o){(0,r.yef)(t,e,o),n=!0}),"mount"),p:f((function(e,n){const o={};1&n&&(o.event=e[0]),t.$set(o)}),"update"),i:f((function(e){n||((0,r.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:f((function(e){(0,r.etI)(t.$$.fragment,e),n=!1}),"outro"),d:f((function(e){(0,r.vpE)(t,e)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:o,id:I.name,type:"else",source:"(68:4) {:else}",ctx:e}),o}function Y(e){let t,n;t=new S({props:{event:e[0]},$$inline:!0});const o={c:f((function(){(0,r.YCL)(t.$$.fragment)}),"create"),m:f((function(e,o){(0,r.yef)(t,e,o),n=!0}),"mount"),p:f((function(e,n){const o={};1&n&&(o.event=e[0]),t.$set(o)}),"update"),i:f((function(e){n||((0,r.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:f((function(e){(0,r.etI)(t.$$.fragment,e),n=!1}),"outro"),d:f((function(e){(0,r.vpE)(t,e)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:o,id:Y.name,type:"if",source:"(66:4) {#if isDerived}",ctx:e}),o}function B(e){let t,n,o=void 0!==e[0]&&O(e);const i={c:f((function(){o&&o.c(),t=(0,r.cSb)()}),"create"),m:f((function(e,i){o&&o.m(e,i),(0,r.DsI)(e,t,i),n=!0}),"mount"),p:f((function(e,n){void 0!==e[0]?o?(o.p(e,n),1&n&&(0,r.Ui)(o,1)):(o=O(e),o.c(),(0,r.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,r.dvw)(),(0,r.etI)(o,1,1,(()=>{o=null})),(0,r.gbL)())}),"update"),i:f((function(e){n||((0,r.Ui)(o),n=!0)}),"intro"),o:f((function(e){(0,r.etI)(o),n=!1}),"outro"),d:f((function(e){o&&o.d(e),e&&(0,r.GlD)(t)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:i,id:B.name,type:"slot",source:"(64:0) <Float title={event?.name ?? ''} on:close>",ctx:e}),i}function U(e){var t,n;let o,i;o=new w({props:{title:null!=(n=null==(t=e[0])?void 0:t.name)?n:"",$$slots:{default:[B]},$$scope:{ctx:e}},$$inline:!0}),o.$on("close",e[5]);const c={c:f((function(){(0,r.YCL)(o.$$.fragment)}),"create"),l:f((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:f((function(e,t){(0,r.yef)(o,e,t),i=!0}),"mount"),p:f((function(e,[t]){var n,i;const r={};1&t&&(r.title=null!=(i=null==(n=e[0])?void 0:n.name)?i:""),515&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)}),"update"),i:f((function(e){i||((0,r.Ui)(o.$$.fragment,e),i=!0)}),"intro"),o:f((function(e){(0,r.etI)(o.$$.fragment,e),i=!1}),"outro"),d:f((function(e){(0,r.vpE)(o,e)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:c,id:U.name,type:"component",source:"",ctx:e}),c}function W(e,t,n){let{$$slots:i={},$$scope:c}=t;(0,r.KXV)("EditEvent",i,[]);var s=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return f(i,"adopt"),new(n||(n=Promise))((function(n,r){function c(e){try{a(o.next(e))}catch(e){r(e)}}function s(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,s)}f(c,"fulfilled"),f(s,"rejected"),f(a,"step"),a((o=o.apply(e,t||[])).next())}))};let{id:l}=t;const u=(0,a.getClient)();let p,d,$,v=!1;function h(){return s(this,void 0,void 0,(function*(){if(void 0===p||void 0===d)return;const e=p,t=d,n=Object.keys(p).reduce(((n,o)=>t[o]===e[o]?n:Object.assign(Object.assign({},n),{[o]:e[o]})),{});0!==Object.getOwnPropertyNames(n).length&&(yield u.updateDoc(o.default.class.Event,t.space,t._id,n))}))}f(h,"onUpdate");const m=["id"];function g(t){r.cKT.call(this,e,t)}return G.keys(t).forEach((e=>{~m.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<EditEvent> was created with unknown prop '${e}'`)})),f(g,"close_handler"),e.$$set=e=>{"id"in e&&n(3,l=e.id)},e.$capture_state=()=>({__awaiter:s,calendar:o.default,getClient:a.getClient,Float:w,EventEditor:E,EventViewer:S,id:l,client:u,event:p,prevEvent:d,lqEvent:$,isDerived:v,onUpdate:h}),e.$inject_state=e=>{"__awaiter"in e&&(s=e.__awaiter),"id"in e&&n(3,l=e.id),"event"in e&&n(0,p=e.event),"prevEvent"in e&&(d=e.prevEvent),"lqEvent"in e&&n(4,$=e.lqEvent),"isDerived"in e&&n(1,v=e.isDerived)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{24&e.$$.dirty&&n(4,$=u.query($,o.default.class.Event,{_id:l},(e=>{const t=e[0];t&&(n(0,p=Object.assign({},t)),d=Object.assign({},t))}))),1&e.$$.dirty&&n(1,v=(null==p?void 0:p._class)===o.default.class.DerivedEvent)},[p,v,h,l,$,g]}f(O,"create_if_block"),f(I,"create_else_block"),f(Y,"create_if_block_1"),f(B,"create_default_slot"),f(U,"create_fragment"),f(W,"instance");var A=class extends r.Mjb{constructor(e){super(e),(0,r.S1n)(this,e,W,U,r.N8,{id:3}),(0,r.YyZ)("SvelteRegisterComponent",{component:this,tagName:"EditEvent",options:e,id:U.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[3]||"id"in n||console.warn("<EditEvent> was created without expected prop 'id'")}get id(){throw new Error("<EditEvent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(e){throw new Error("<EditEvent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};f(A,"EditEvent");var V=A;function T(e){let t,n;t=new l.iA({props:{data:e[0],columns:e[1],showHeader:!0},$$inline:!0}),t.$on("rowClick",e[5]);const o={c:f((function(){(0,r.YCL)(t.$$.fragment)}),"create"),l:f((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:f((function(e,o){(0,r.yef)(t,e,o),n=!0}),"mount"),p:f((function(e,[n]){const o={};1&n&&(o.data=e[0]),t.$set(o)}),"update"),i:f((function(e){n||((0,r.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:f((function(e){(0,r.etI)(t.$$.fragment,e),n=!1}),"outro"),d:f((function(e){(0,r.vpE)(t,e)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:o,id:T.name,type:"component",source:"",ctx:e}),o}function P(e,t,n){let{$$slots:i={},$$scope:c}=t;(0,r.KXV)("EventTable",i,[]);let s,{currentSpace:u}=t;const p=[{label:o.default.string.Title,properties:[{key:"name",property:"label"}],component:l.__},{label:o.default.string.StartTime,properties:[{key:"startsAt",property:"label"}],component:l.__},{label:o.default.string.EndTime,properties:[{key:"endsAt",property:"label"}],component:l.__}],d=(0,a.getClient)();let $,v=[];const h=["currentSpace"];Object.keys(t).forEach((e=>{~h.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<EventTable> was created with unknown prop '${e}'`)}));const m=f((e=>(0,a.showModal)(V,{id:e.detail.id})),"rowClick_handler");return e.$$set=e=>{"currentSpace"in e&&n(2,u=e.currentSpace)},e.$capture_state=()=>({Table:l.iA,Label:l.__,getClient:a.getClient,showModal:a.showModal,calendar:o.default,EditEvent:V,currentSpace:u,prevSpace:s,columns:p,client:d,data:v,lqEvent:$}),e.$inject_state=e=>{"currentSpace"in e&&n(2,u=e.currentSpace),"prevSpace"in e&&n(3,s=e.prevSpace),"data"in e&&n(0,v=e.data),"lqEvent"in e&&n(4,$=e.lqEvent)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{28&e.$$.dirty&&u!==s&&(n(3,s=u),void 0!==u&&n(4,$=d.query($,o.default.class.Event,{space:u},(e=>n(0,v=e)))))},[v,p,u,s,$,m]}f(T,"create_fragment"),f(P,"instance");var R=class extends r.Mjb{constructor(e){super(e),(0,r.S1n)(this,e,P,T,r.N8,{currentSpace:2}),(0,r.YyZ)("SvelteRegisterComponent",{component:this,tagName:"EventTable",options:e,id:T.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[2]||"currentSpace"in n||console.warn("<EventTable> was created without expected prop 'currentSpace'")}get currentSpace(){throw new Error("<EventTable>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<EventTable>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};f(R,"EventTable");var q=R,Z="src/components/icons/List.svelte";function X(e){let t,n,o,i,c;const s={c:f((function(){t=(0,r.bi5)("svg"),n=(0,r.bi5)("g"),o=(0,r.bi5)("rect"),i=(0,r.bi5)("rect"),c=(0,r.bi5)("rect"),(0,r.LGW)(o,"width","16"),(0,r.LGW)(o,"height","1.7"),(0,r.vjr)(o,Z,6,4,199),(0,r.LGW)(i,"y","7.2"),(0,r.LGW)(i,"width","16"),(0,r.LGW)(i,"height","1.7"),(0,r.vjr)(i,Z,7,4,236),(0,r.LGW)(c,"y","14.3"),(0,r.LGW)(c,"width","16"),(0,r.LGW)(c,"height","1.7"),(0,r.vjr)(c,Z,8,4,281),(0,r.vjr)(n,Z,5,2,191),(0,r.LGW)(t,"width",e[0]),(0,r.LGW)(t,"height",e[0]),(0,r.LGW)(t,"fill",N),(0,r.LGW)(t,"viewBox","0 0 16 16"),(0,r.LGW)(t,"xmlns","http://www.w3.org/2000/svg"),(0,r.vjr)(t,Z,4,0,94)}),"create"),l:f((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:f((function(e,s){(0,r.DsI)(e,t,s),(0,r.gOb)(t,n),(0,r.gOb)(n,o),(0,r.gOb)(n,i),(0,r.gOb)(n,c)}),"mount"),p:f((function(e,[n]){1&n&&(0,r.LGW)(t,"width",e[0]),1&n&&(0,r.LGW)(t,"height",e[0])}),"update"),i:r.ZTd,o:r.ZTd,d:f((function(e){e&&(0,r.GlD)(t)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:s,id:X.name,type:"component",source:"",ctx:e}),s}f(X,"create_fragment");var N="var(--theme-caption-color)";function z(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,r.KXV)("List",o,[]);let{size:c=16}=t;const s=["size"];return Object.keys(t).forEach((e=>{~s.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<List> was created with unknown prop '${e}'`)})),e.$$set=e=>{"size"in e&&n(0,c=e.size)},e.$capture_state=()=>({size:c,fill:N}),e.$inject_state=e=>{"size"in e&&n(0,c=e.size)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c]}f(z,"instance");var M=class extends r.Mjb{constructor(e){super(e),(0,r.S1n)(this,e,z,X,r.N8,{size:0}),(0,r.YyZ)("SvelteRegisterComponent",{component:this,tagName:"List",options:e,id:X.name})}get size(){throw new Error("<List>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set size(e){throw new Error("<List>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};f(M,"List");var K=M,F="src/components/Workspace.svelte";function Q(e,t,n){const o=e.slice();return o[8]=t[n],o}function H(e){let t,n,o,i,c,s,a=e[2];(0,r.vzG)(a);let l=[];for(let t=0;t<a.length;t+=1)l[t]=J(Q(e,a,t));const u=f((e=>(0,r.etI)(l[e],1,1,(()=>{l[e]=null}))),"out");var p=e[1].view;function d(e){return{props:{currentSpace:e[0]._id},$$inline:!0}}f(d,"switch_props"),p&&(c=new p(d(e)));const $={c:f((function(){t=(0,r.bGB)("div"),n=(0,r.bGB)("div"),o=(0,r.bGB)("div");for(let e=0;e<l.length;e+=1)l[e].c();i=(0,r.DhX)(),c&&(0,r.YCL)(c.$$.fragment),(0,r.LGW)(o,"class","selector svelte-9w5x31"),(0,r.vjr)(o,F,40,6,1290),(0,r.LGW)(n,"class","content svelte-9w5x31"),(0,r.vjr)(n,F,39,4,1262),(0,r.LGW)(t,"class","root svelte-9w5x31"),(0,r.vjr)(t,F,38,2,1239)}),"create"),m:f((function(e,a){(0,r.DsI)(e,t,a),(0,r.gOb)(t,n),(0,r.gOb)(n,o);for(let e=0;e<l.length;e+=1)l[e].m(o,null);(0,r.gOb)(n,i),c&&(0,r.yef)(c,n,null),s=!0}),"mount"),p:f((function(e,t){if(6&t){let n;for(a=e[2],(0,r.vzG)(a),n=0;n<a.length;n+=1){const i=Q(e,a,n);l[n]?(l[n].p(i,t),(0,r.Ui)(l[n],1)):(l[n]=J(i),l[n].c(),(0,r.Ui)(l[n],1),l[n].m(o,null))}for((0,r.dvw)(),n=a.length;n<l.length;n+=1)u(n);(0,r.gbL)()}const i={};if(1&t&&(i.currentSpace=e[0]._id),p!==(p=e[1].view)){if(c){(0,r.dvw)();const e=c;(0,r.etI)(e.$$.fragment,1,0,(()=>{(0,r.vpE)(e,1)})),(0,r.gbL)()}p?(c=new p(d(e)),(0,r.YCL)(c.$$.fragment),(0,r.Ui)(c.$$.fragment,1),(0,r.yef)(c,n,null)):c=null}else p&&c.$set(i)}),"update"),i:f((function(e){if(!s){for(let e=0;e<a.length;e+=1)(0,r.Ui)(l[e]);c&&(0,r.Ui)(c.$$.fragment,e),s=!0}}),"intro"),o:f((function(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)(0,r.etI)(l[e]);c&&(0,r.etI)(c.$$.fragment,e),s=!1}),"outro"),d:f((function(e){e&&(0,r.GlD)(t),(0,r.RMB)(l,e),c&&(0,r.vpE)(c)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:$,id:H.name,type:"if",source:"(38:0) {#if space !== undefined}",ctx:e}),$}function J(e){let t,n,o,i,c,s;var a=e[1].icon;function l(){return e[6](e[8])}f((function(e){return{$$inline:!0}}),"switch_props"),a&&(n=new a({$$inline:!0})),f(l,"click_handler");const u={c:f((function(){t=(0,r.bGB)("div"),n&&(0,r.YCL)(n.$$.fragment),o=(0,r.DhX)(),(0,r.LGW)(t,"class","opt svelte-9w5x31"),(0,r.VHj)(t,"selected",e[8]===e[1]),(0,r.vjr)(t,F,42,10,1354)}),"create"),m:f((function(e,a){(0,r.DsI)(e,t,a),n&&(0,r.yef)(n,t,null),(0,r.gOb)(t,o),i=!0,c||(s=(0,r.iVk)(t,"click",l,!1,!1,!1),c=!0)}),"mount"),p:f((function(i,c){if(a!==(a=(e=i)[1].icon)){if(n){(0,r.dvw)();const e=n;(0,r.etI)(e.$$.fragment,1,0,(()=>{(0,r.vpE)(e,1)})),(0,r.gbL)()}a?(n=new a({$$inline:!0}),(0,r.YCL)(n.$$.fragment),(0,r.Ui)(n.$$.fragment,1),(0,r.yef)(n,t,o)):n=null}6&c&&(0,r.VHj)(t,"selected",e[8]===e[1])}),"update"),i:f((function(e){i||(n&&(0,r.Ui)(n.$$.fragment,e),i=!0)}),"intro"),o:f((function(e){n&&(0,r.etI)(n.$$.fragment,e),i=!1}),"outro"),d:f((function(e){e&&(0,r.GlD)(t),n&&(0,r.vpE)(n),c=!1,s()}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:u,id:J.name,type:"each",source:"(42:8) {#each options as opt}",ctx:e}),u}function ee(e){let t,n,o=void 0!==e[0]&&H(e);const i={c:f((function(){o&&o.c(),t=(0,r.cSb)()}),"create"),l:f((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:f((function(e,i){o&&o.m(e,i),(0,r.DsI)(e,t,i),n=!0}),"mount"),p:f((function(e,[n]){void 0!==e[0]?o?(o.p(e,n),1&n&&(0,r.Ui)(o,1)):(o=H(e),o.c(),(0,r.Ui)(o,1),o.m(t.parentNode,t)):o&&((0,r.dvw)(),(0,r.etI)(o,1,1,(()=>{o=null})),(0,r.gbL)())}),"update"),i:f((function(e){n||((0,r.Ui)(o),n=!0)}),"intro"),o:f((function(e){(0,r.etI)(o),n=!1}),"outro"),d:f((function(e){o&&o.d(e),e&&(0,r.GlD)(t)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:i,id:ee.name,type:"component",source:"",ctx:e}),i}function te(e,t,n){let{$$slots:o={},$$scope:i}=t;(0,r.KXV)("Workspace",o,[]);let c,l,{currentSpace:u}=t;const p=(0,a.getClient)();let d;const $=[{icon:K,view:q}];let v=$[0];const h=["currentSpace"];Object.keys(t).forEach((e=>{~h.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<Workspace> was created with unknown prop '${e}'`)}));const m=f((e=>{n(1,v=e)}),"click_handler");return e.$$set=e=>{"currentSpace"in e&&n(3,u=e.currentSpace)},e.$capture_state=()=>({core:s(),getClient:a.getClient,EventTable:q,List:K,currentSpace:u,prevSpace:c,space:l,client:p,lq:d,options:$,selected:v}),e.$inject_state=e=>{"currentSpace"in e&&n(3,u=e.currentSpace),"prevSpace"in e&&n(4,c=e.prevSpace),"space"in e&&n(0,l=e.space),"lq"in e&&n(5,d=e.lq),"selected"in e&&n(1,v=e.selected)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{56&e.$$.dirty&&u!==c&&(n(4,c=u),u&&n(5,d=p.query(d,s().class.Space,{_id:u},(e=>{n(0,l=e[0])}))))},[l,v,$,u,c,d,m]}f(Q,"get_each_context"),f(H,"create_if_block"),f(J,"create_each_block"),f(ee,"create_fragment"),f(te,"instance");var ne=class extends r.Mjb{constructor(e){super(e),(0,r.S1n)(this,e,te,ee,r.N8,{currentSpace:3}),(0,r.YyZ)("SvelteRegisterComponent",{component:this,tagName:"Workspace",options:e,id:ee.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[3]||"currentSpace"in n||console.warn("<Workspace> was created without expected prop 'currentSpace'")}get currentSpace(){throw new Error("<Workspace>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentSpace(e){throw new Error("<Workspace>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};f(ne,"Workspace");var oe=ne;function ie(e){let t,n,i,c,s,a,u,p,d,$;function v(t){e[2](t)}f(v,"editbox_value_binding");let h={label:o.default.string.Name};function m(t){e[3](t)}void 0!==e[0].name&&(h.value=e[0].name),n=new l.k3({props:h,$$inline:!0}),r.VnY.push((()=>(0,r.akz)(n,"value",v))),f(m,"textarea_value_binding");let g={label:o.default.string.Description};function w(t){e[4](t)}void 0!==e[0].description&&(g.value=e[0].description),s=new l.Kx({props:g,$$inline:!0}),r.VnY.push((()=>(0,r.akz)(s,"value",m))),f(w,"togglewithlabel_on_binding");let b={label:o.default.string.MakePrivate,description:o.default.string.MakePrivateDescription};void 0!==e[0].private&&(b.on=e[0].private),p=new l.fL({props:b,$$inline:!0}),r.VnY.push((()=>(0,r.akz)(p,"on",w)));const y={c:f((function(){t=(0,r.bGB)("div"),(0,r.YCL)(n.$$.fragment),c=(0,r.DhX)(),(0,r.YCL)(s.$$.fragment),u=(0,r.DhX)(),(0,r.YCL)(p.$$.fragment),(0,r.LGW)(t,"class","content svelte-sc4c5l"),(0,r.vjr)(t,"src/components/CreateCalendar.svelte",44,2,1963)}),"create"),m:f((function(e,o){(0,r.DsI)(e,t,o),(0,r.yef)(n,t,null),(0,r.gOb)(t,c),(0,r.yef)(s,t,null),(0,r.gOb)(t,u),(0,r.yef)(p,t,null),$=!0}),"mount"),p:f((function(e,t){const o={};!i&&1&t&&(i=!0,o.value=e[0].name,(0,r.hjT)((()=>i=!1))),n.$set(o);const c={};!a&&1&t&&(a=!0,c.value=e[0].description,(0,r.hjT)((()=>a=!1))),s.$set(c);const l={};!d&&1&t&&(d=!0,l.on=e[0].private,(0,r.hjT)((()=>d=!1))),p.$set(l)}),"update"),i:f((function(e){$||((0,r.Ui)(n.$$.fragment,e),(0,r.Ui)(s.$$.fragment,e),(0,r.Ui)(p.$$.fragment,e),$=!0)}),"intro"),o:f((function(e){(0,r.etI)(n.$$.fragment,e),(0,r.etI)(s.$$.fragment,e),(0,r.etI)(p.$$.fragment,e),$=!1}),"outro"),d:f((function(e){e&&(0,r.GlD)(t),(0,r.vpE)(n),(0,r.vpE)(s),(0,r.vpE)(p)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:y,id:ie.name,type:"slot",source:"(44:0) <Dialog label={calendar.string.AddCalendar} okLabel={calendar.string.AddCalendar} okAction={createCalendar} on:close>",ctx:e}),y}function re(e){let t,n;t=new l.Vq({props:{label:o.default.string.AddCalendar,okLabel:o.default.string.AddCalendar,okAction:e[1],$$slots:{default:[ie]},$$scope:{ctx:e}},$$inline:!0}),t.$on("close",e[5]);const i={c:f((function(){(0,r.YCL)(t.$$.fragment)}),"create"),l:f((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:f((function(e,o){(0,r.yef)(t,e,o),n=!0}),"mount"),p:f((function(e,[n]){const o={};257&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:f((function(e){n||((0,r.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:f((function(e){(0,r.etI)(t.$$.fragment,e),n=!1}),"outro"),d:f((function(e){(0,r.vpE)(t,e)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:i,id:re.name,type:"component",source:"",ctx:e}),i}function ce(e,t,n){let{$$slots:i={},$$scope:c}=t;(0,r.KXV)("CreateCalendar",i,[]);var u=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return f(i,"adopt"),new(n||(n=Promise))((function(n,r){function c(e){try{a(o.next(e))}catch(e){r(e)}}function s(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,s)}f(c,"fulfilled"),f(s,"rejected"),f(a,"step"),a((o=o.apply(e,t||[])).next())}))};const p=(0,a.getClient)(),d={name:"",description:"",private:!1,members:[p.accountId()]};function $(){return u(this,void 0,void 0,(function*(){yield p.createDoc(o.default.class.Calendar,s().space.Model,d)}))}f($,"createCalendar");const v=[];function h(t){e.$$.not_equal(d.name,t)&&(d.name=t,n(0,d))}function m(t){e.$$.not_equal(d.description,t)&&(d.description=t,n(0,d))}function g(t){e.$$.not_equal(d.private,t)&&(d.private=t,n(0,d))}function w(t){r.cKT.call(this,e,t)}return Object.keys(t).forEach((e=>{~v.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateCalendar> was created with unknown prop '${e}'`)})),f(h,"editbox_value_binding"),f(m,"textarea_value_binding"),f(g,"togglewithlabel_on_binding"),f(w,"close_handler"),e.$capture_state=()=>({__awaiter:u,core:s(),EditBox:l.k3,Dialog:l.Vq,ToggleWithLabel:l.fL,TextArea:l.Kx,getClient:a.getClient,calendar:o.default,client:p,space:d,createCalendar:$}),e.$inject_state=e=>{"__awaiter"in e&&(u=e.__awaiter)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[d,$,h,m,g,w]}f(ie,"create_default_slot"),f(re,"create_fragment"),f(ce,"instance");var se=class extends r.Mjb{constructor(e){super(e),(0,r.S1n)(this,e,ce,re,r.N8,{}),(0,r.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateCalendar",options:e,id:re.name})}};f(se,"CreateCalendar");var ae=se;function le(e){let t,n,o;function i(t){e[4](t)}f(i,"eventeditor_event_binding");let c={};void 0!==e[0]&&(c.event=e[0]),t=new E({props:c,$$inline:!0}),r.VnY.push((()=>(0,r.akz)(t,"event",i)));const s={c:f((function(){(0,r.YCL)(t.$$.fragment)}),"create"),m:f((function(e,n){(0,r.yef)(t,e,n),o=!0}),"mount"),p:f((function(e,o){const i={};!n&&1&o&&(n=!0,i.event=e[0],(0,r.hjT)((()=>n=!1))),t.$set(i)}),"update"),i:f((function(e){o||((0,r.Ui)(t.$$.fragment,e),o=!0)}),"intro"),o:f((function(e){(0,r.etI)(t.$$.fragment,e),o=!1}),"outro"),d:f((function(e){(0,r.vpE)(t,e)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:s,id:le.name,type:"slot",source:"(51:0) <Dialog   label={calendar.string.AddEvent}   okLabel={calendar.string.AddEvent}   okAction={create}   on:close={() => dispatch('close')} >",ctx:e}),s}function ue(e){let t,n;t=new l.Vq({props:{label:o.default.string.AddEvent,okLabel:o.default.string.AddEvent,okAction:e[2],$$slots:{default:[le]},$$scope:{ctx:e}},$$inline:!0}),t.$on("close",e[5]);const i={c:f((function(){(0,r.YCL)(t.$$.fragment)}),"create"),l:f((function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")}),"claim"),m:f((function(e,o){(0,r.yef)(t,e,o),n=!0}),"mount"),p:f((function(e,[n]){const o={};513&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)}),"update"),i:f((function(e){n||((0,r.Ui)(t.$$.fragment,e),n=!0)}),"intro"),o:f((function(e){(0,r.etI)(t.$$.fragment,e),n=!1}),"outro"),d:f((function(e){(0,r.vpE)(t,e)}),"destroy")};return(0,r.YyZ)("SvelteRegisterBlock",{block:i,id:ue.name,type:"component",source:"",ctx:e}),i}function pe(e,t,n){let{$$slots:i={},$$scope:c}=t;(0,r.KXV)("CreateEvent",i,[]);var s=this&&this.__awaiter||function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return f(i,"adopt"),new(n||(n=Promise))((function(n,r){function c(e){try{a(o.next(e))}catch(e){r(e)}}function s(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){e.done?n(e.value):i(e.value).then(c,s)}f(c,"fulfilled"),f(s,"rejected"),f(a,"step"),a((o=o.apply(e,t||[])).next())}))};const p=(0,u.createEventDispatcher)();let{space:d}=t;const $=(0,a.getClient)(),v=$.accountId();let h={name:"",description:"",startsAt:(new Date).getTime(),endsAt:(new Date).getTime(),owner:v,participants:[v],version:0};function m(){return s(this,void 0,void 0,(function*(){yield $.createDoc(o.default.class.Event,d._id,h)}))}f(m,"create");const g=["space"];function w(e){h=e,n(0,h)}Object.keys(t).forEach((e=>{~g.indexOf(e)||"$$"===e.slice(0,2)||"slot"===e||console.warn(`<CreateEvent> was created with unknown prop '${e}'`)})),f(w,"eventeditor_event_binding");const b=f((()=>p("close")),"close_handler");return e.$$set=e=>{"space"in e&&n(3,d=e.space)},e.$capture_state=()=>({__awaiter:s,createEventDispatcher:u.createEventDispatcher,calendar:o.default,Dialog:l.Vq,getClient:a.getClient,EventEditor:E,dispatch:p,space:d,client:$,owner:v,event:h,create:m}),e.$inject_state=e=>{"__awaiter"in e&&(s=e.__awaiter),"space"in e&&n(3,d=e.space),"event"in e&&n(0,h=e.event)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[h,p,m,d,w,b]}f(le,"create_default_slot"),f(ue,"create_fragment"),f(pe,"instance");var de=class extends r.Mjb{constructor(e){super(e),(0,r.S1n)(this,e,pe,ue,r.N8,{space:3}),(0,r.YyZ)("SvelteRegisterComponent",{component:this,tagName:"CreateEvent",options:e,id:ue.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[3]||"space"in n||console.warn("<CreateEvent> was created without expected prop 'space'")}get space(){throw new Error("<CreateEvent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set space(e){throw new Error("<CreateEvent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};f(de,"CreateEvent");var fe=de,$e=f((()=>{return void 0,null,e=function*(){return(0,i.setResource)(o.default.component.Workspace,oe),(0,i.setResource)(o.default.component.CreateCalendar,ae),(0,i.setResource)(o.default.component.CreateEvent,fe),{}},new Promise(((t,n)=>{var o=t=>{try{r(e.next(t))}catch(e){n(e)}},i=t=>{try{r(e.throw(t))}catch(e){n(e)}},r=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,i);r((e=e.apply(undefined,null)).next())}));var e}),"default")},4003:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function c(e){try{a(o.next(e))}catch(e){r(e)}}function s(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PresentationClient=void 0;const i=n(9479),r=n(72451),c=n(9862);class s{constructor(e,t){this.client=e,this.callback=t,c.onDestroy((()=>{var e;null===(e=this.unsubscribe)||void 0===e||e.call(this)}))}update(e,t,n){var o;this.checkParams(t,e,n)||(null===(o=this.unsubscribe)||void 0===o||o.call(this),this.oldQuery=t,this.oldClass=e,this.oldOptions=n,this.client().then((o=>{this.unsubscribe=o.query(e,t,this.callback,n)})).catch((e=>{console.error(e)})))}checkParams(e,t,n){return r.deepEqual(this.oldQuery,e)&&this.oldClass===t&&r.deepEqual(this.oldOptions,n)}}class a{constructor(e,t){this.client=e,this.accountIdValue=t}static create(e,t){return o(this,void 0,void 0,(function*(){return new a(t,e)}))}findAll(e,t,n){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).findAll(e,t,n)}))}tx(e){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).tx(e).catch((e=>this.handleError(e)))}))}notifyTx(e){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).notifyTx(e).catch((e=>this.handleError(e)))}))}query(e,t,n,o,i){return void 0!==e?(e(t,n,i),e):this.liveQuery(t,n,o,i)}accountId(){return this.accountIdValue}createDoc(e,t,n,i,r){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).createDoc(e,t,n,i,r).catch((e=>{throw this.handleError(e),e}))}))}createShortRef(e,t,n){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).createShortRef(e,t,n)}))}updateDoc(e,t,n,i,r){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).updateDoc(e,t,n,i,r).catch((e=>this.handleError(e)))}))}removeDoc(e,t,n,i){return o(this,void 0,void 0,(function*(){return yield(yield this.client()).removeDoc(e,t,n,i).catch((e=>this.handleError(e)))}))}liveQuery(e,t,n,o){const i=new s(this.client,n),r=i.update.bind(i);return r(e,t,o),r}handleError(e){throw console.error(e),e}}t.PresentationClient=a,t.default=i.plugin("presentation",{},{})}}]);